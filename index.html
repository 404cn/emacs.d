<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-02-13 Thu 14:23 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Configuration</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Nasy" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/readtheorg/js/readtheorg.js"></script>
<style>kbd {border-style: outset;} pre.src:before {top: -4px; box-shadow: 3px 3px 3px #eee; border-color: #ccc; padding: 0;}</style>
<style>#content {background-color: #e0ffcd;} body,pre.src {background-color: #282a36; transition: box-shadow 2s}</style>
<style>pre.src {text-shadow: 2px 2px 15px; box-shadow: 1px 1px 5px #7a378b; color: #39375b; background-color: #ffffd2; fort-family: Monaco, Console, monospace;}</style>
<style>pre.src:hover{box-shadow: 1px 1px 10px #c0ffc2, 1px 1px 5px #7a378b;}</style>
<style>#table-of-contents h2 {background-color: #ffcab0; color: #745c97;} </style>
<style>#table-of-contents {background: #745c97;} #table-of-contents a {color: #e0ffcd;} ul.nav li.active a {background-color: #f69d9d;} ul.nav li.active ul li a {background-color: #ffcab0;} ul.nav li.active ul li.active a {background-color: #ffebbb;} #table-of-contents a:hover {background-color: #d597ce;}</style>
</head>
<body>
<div id="content">
<h1 class="title">Emacs Configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgbbf1c1c">Prologue</a>
<ul>
<li><a href="#org4d52d67"><b>NOTICE</b></a></li>
<li><a href="#org9a385f2">Screenshots</a></li>
</ul>
</li>
<li><a href="#orgef33d55">Dependencies</a></li>
<li><a href="#org3efd696">Installation</a></li>
<li><a href="#orgb5cd413">Updates</a></li>
<li><a href="#org3229937">Custom Configuration</a>
<ul>
<li><a href="#orgfd771d5">Example Custom Configuration</a></li>
<li><a href="#org6c85d1f">dashboard</a></li>
<li><a href="#orgf59911c"><b>NOTICE:</b></a></li>
</ul>
</li>
<li><a href="#org7a3cf3e">Features</a>
<ul>
<li><a href="#org63d0343">Summary</a></li>
</ul>
</li>
<li><a href="#orgacd2613">The Configuration</a>
<ul>
<li><a href="#org1a39600">Bootstrap</a>
<ul>
<li><a href="#org8a61095">File Header</a></li>
<li><a href="#orgffaf2f6">Lexical Binding</a></li>
<li><a href="#org8c78a32">Some Default Settings</a></li>
<li><a href="#org21fe239">Macros &amp; Alias</a></li>
<li><a href="#org0a6884c">Is A Mac?</a></li>
<li><a href="#org251ee25">Packages Manager</a></li>
<li><a href="#org7fb2a41">Garbage Collection</a></li>
<li><a href="#org42c45ac">Benchmark</a></li>
<li><a href="#orgd58a5a3">No Littering</a></li>
<li><a href="#org09c3a75">Define Nasy Custom</a>
<ul>
<li><a href="#org3e44c87">Custom Config Hooks</a></li>
<li><a href="#orgcb99278">Custom</a></li>
<li><a href="#org352fa1b">Default Settings</a>
<ul>
<li><a href="#org4d321be">Company</a></li>
<li><a href="#org61e8de6">Cursor</a></li>
<li><a href="#org32591c6">Languages</a></li>
<li><a href="#org07aec9d">Pandoc</a></li>
<li><a href="#org10d79e7">Parens</a></li>
<li><a href="#org5c3b335">Scrolling</a></li>
<li><a href="#org12f456c">Shell</a></li>
<li><a href="#org5e7e1e6">Start</a></li>
<li><a href="#org3f81c3f">Visual</a></li>
<li><a href="#org4c17602">Whitespace</a></li>
<li><a href="#org2abe8f1">Mess</a></li>
<li><a href="#orgf529c86">Config After initialization</a></li>
<li><a href="#orgede89bc">Custom Faces</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org95579ab">Expand load-path and load user custom</a></li>
<li><a href="#org669d9aa">Key Definition</a>
<ul>
<li><a href="#org2128bd8">General</a></li>
<li><a href="#orgc4e751c">macOS Key Bindings</a></li>
<li><a href="#org350a5e6">Dvorak Key Bindings</a>
<ul>
<li><a href="#org549bdeb">Toogle Dvorak Key Bindings</a></li>
</ul>
</li>
<li><a href="#orgb73a21e">Mouse Key Bindings</a></li>
</ul>
</li>
<li><a href="#orgf916117">Load Org</a></li>
<li><a href="#org8a0979b">Core</a>
<ul>
<li><a href="#org2bca6a8">Core Functions</a></li>
<li><a href="#org40dda4e">macOS Frame</a></li>
<li><a href="#org58fbdbb">Disable Some Features</a></li>
<li><a href="#orgd54b940">Compile</a></li>
<li><a href="#org0ae72bd">Auto Compression</a></li>
<li><a href="#org12c89d5">History, Saving and Session</a></li>
<li><a href="#org8ab39e3">Auto Save (Super Save)</a></li>
<li><a href="#org987e14b">Text Scale</a></li>
</ul>
</li>
<li><a href="#orgfcc75af">Custom Functions</a>
<ul>
<li><a href="#orged2ee20">Reload the init-file</a></li>
<li><a href="#org48c708b">Insert Date</a></li>
<li><a href="#org619e8cc">Posframe Helper</a></li>
</ul>
</li>
<li><a href="#org831c2c9">Window</a>
<ul>
<li><a href="#org70672b2">Ace Window</a></li>
<li><a href="#org7652885">Switch-Window</a></li>
</ul>
</li>
<li><a href="#org766bd28">Basic</a>
<ul>
<li><a href="#orgf017150">Disable Mouse</a></li>
<li><a href="#org6f24ae2">Minibuffer</a></li>
<li><a href="#orgc2ba8da">Scratch Message</a></li>
<li><a href="#orgb691c96">Shell &amp; Term</a>
<ul>
<li><a href="#org074d197">Shell</a></li>
<li><a href="#org84f6968">Term</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc73d5e8">Editor</a>
<ul>
<li><a href="#orga63db03">Diminish</a></li>
<li><a href="#orgcacfb7e">FLX</a></li>
<li><a href="#orge008915">Advance Words Count</a></li>
<li><a href="#orgaebedff">Anzu</a></li>
<li><a href="#org42bc989">Auto Insert</a></li>
<li><a href="#org2a60d66">Beacon (Disabled)</a></li>
<li><a href="#orgd04691f">Beginend</a></li>
<li><a href="#org995bb73">Carbon Now sh</a></li>
<li><a href="#org532c8fc">Cheat Sh</a></li>
<li><a href="#org376829d">Company</a>
<ul>
<li><a href="#orgff65705">Company</a>
<ul>
<li><a href="#orgdb73e85">Preface Functions</a></li>
<li><a href="#org0ec6fe6">Company Mode</a></li>
</ul>
</li>
<li><a href="#org5d55bf4">Company Try Hard</a></li>
<li><a href="#org108efdb">Company Quickhelp</a></li>
<li><a href="#org879366c">Company Tabnine</a></li>
<li><a href="#org640ddd4">Company Math</a></li>
<li><a href="#org22bc731">Company Dict</a></li>
<li><a href="#orgeda68aa">Company Flx</a></li>
<li><a href="#org03d5b1a">Company Box</a></li>
</ul>
</li>
<li><a href="#orgc061bd1">Dash</a></li>
<li><a href="#org04785c7">Dash Functional</a></li>
<li><a href="#org2e699ad">Dired</a>
<ul>
<li><a href="#orgf2e66b1">Dired</a></li>
<li><a href="#org9bc81df">Diredfl</a></li>
<li><a href="#orgf1751fa">Uniquify</a></li>
<li><a href="#org4b2a68f">Diff-hl (only for dired)</a></li>
<li><a href="#orgb004d18">Dired Hacks Utils</a></li>
<li><a href="#orge0d907b">Dired Filter</a></li>
<li><a href="#org29599e4">Dired avfs</a></li>
<li><a href="#orgb1e6b42">Dired Rainbow</a></li>
<li><a href="#org9fb9bd3">Dired Subtree/ranger</a></li>
<li><a href="#orgd48880f">Dired Narrow</a></li>
<li><a href="#org2162b3c">Dired Collapse</a></li>
</ul>
</li>
<li><a href="#org5abe336">Easy Kill</a></li>
<li><a href="#orge45dbd0">Eldoc Box</a></li>
<li><a href="#orgf7febe3">Fill Column</a>
<ul>
<li><a href="#org1529294">Unfill</a></li>
<li><a href="#org0a9488b">Visual-fill-column</a></li>
</ul>
</li>
<li><a href="#org07c9721">Find File in Project</a></li>
<li><a href="#org9ede9f1">Flycheck</a></li>
<li><a href="#org1a32fd2">Fuz.el</a></li>
<li><a href="#orgc0e3365">Grab Mac Link</a></li>
<li><a href="#org627ab91">Grep</a></li>
<li><a href="#orga769df2">Highlight</a>
<ul>
<li><a href="#orgbcaab47">cl-lib-highlight</a></li>
<li><a href="#orgb163a01">Color Identifiers Mode</a></li>
<li><a href="#org6ed5861">hl-line</a></li>
<li><a href="#orgd671ab9">Highlight Indent Guides</a></li>
<li><a href="#org76b426d">Rainbow-Mode</a></li>
</ul>
</li>
<li><a href="#org30ed847">Helpful</a></li>
<li><a href="#org03b82ed">Helm</a>
<ul>
<li><a href="#org7d2b375">Helm</a></li>
<li><a href="#org8fb30b5">Helm Org</a></li>
<li><a href="#org9b0b7d0">Helm Descbings</a></li>
<li><a href="#org4619131">Helm Projectile</a></li>
<li><a href="#orgcb061d7">Helm rg</a></li>
<li><a href="#org20b9edc">Helm Dash</a></li>
</ul>
</li>
<li><a href="#org3ade844">Htmlize</a></li>
<li><a href="#orge50cee7">Hydra</a></li>
<li><a href="#orgb71def2">iBuffer</a>
<ul>
<li><a href="#org35be464">ibuffer</a></li>
<li><a href="#org4c021e6">ibuffer vc</a></li>
<li><a href="#org9068221">Other settings</a></li>
</ul>
</li>
<li><a href="#orgd685613">imenu list</a></li>
<li><a href="#orgf71383f">indent-tools</a></li>
<li><a href="#orged90882">iSearch</a></li>
<li><a href="#org0c64904">Ivy, Counsel and Swiper</a></li>
<li><a href="#org9076257">Large File</a></li>
<li><a href="#orgfdf13fb">Link Hint</a></li>
<li><a href="#org393d543">List Unicode Display</a></li>
<li><a href="#org0b8e5e5">mmm-mode</a></li>
<li><a href="#org6add7bc">Multiple Cursors</a></li>
<li><a href="#org6fffd1d">Pangu Spacing</a></li>
<li><a href="#org196c736">Paper Break Lines</a></li>
<li><a href="#org618ad31">Parens</a>
<ul>
<li><a href="#org8075149">Smartparens</a></li>
<li><a href="#orgb53e2ce">Parinfer</a></li>
<li><a href="#orgdcfe0e3">Rainbow Delimiters</a></li>
</ul>
</li>
<li><a href="#org3e69a3e">PDF Tools</a></li>
<li><a href="#org844d5b9">Pretty</a>
<ul>
<li><a href="#org1ccfef0">Pretty Mode</a></li>
<li><a href="#org78e34c4">ipretty</a></li>
<li><a href="#org59f4d2c">Pretty Font</a></li>
</ul>
</li>
<li><a href="#org95d35df">Prescient</a></li>
<li><a href="#orgcfc9353">Projectile</a></li>
<li><a href="#orge52aff4">Recentf</a></li>
<li><a href="#org5545429">Smex/Amx</a></li>
<li><a href="#org9d67752">Snails</a></li>
<li><a href="#org86376e1">Subword</a></li>
<li><a href="#org6f8d8ff">Symbol Overlay</a></li>
<li><a href="#org318b064">Treemacs</a></li>
<li><a href="#orgea94b39">Undo/Redo</a>
<ul>
<li><a href="#org055a567">Point History</a></li>
<li><a href="#orgca0ad20">Undo Propose</a></li>
</ul>
</li>
<li><a href="#org3dfe322">Version Control</a>
<ul>
<li><a href="#orgd923d8c">Useful Simple Packages</a></li>
<li><a href="#org8ffd388">Git Modes</a></li>
<li><a href="#org08966a6">Magit</a></li>
<li><a href="#org5d4de29">Magit Org Todos</a></li>
<li><a href="#orgb969913">Forge</a></li>
<li><a href="#org4c724d4">Transient</a></li>
<li><a href="#org7c75cd8">Git Messenger</a></li>
<li><a href="#org1a258bd">Git Gutter</a></li>
<li><a href="#orge1f5efa">Github Gist</a></li>
</ul>
</li>
<li><a href="#orgf993c0c">Which Function</a></li>
<li><a href="#org8c0ff4f">Which Key</a></li>
<li><a href="#org59d0391">Whitespace</a></li>
<li><a href="#orgb88bf11">Writeroom Mode</a></li>
<li><a href="#org69b83a9">Yasnipeet</a></li>
</ul>
</li>
<li><a href="#orga5f6b3f">Languages</a>
<ul>
<li><a href="#orgb141a0c">English</a>
<ul>
<li><a href="#orgf60b4ee">Dict</a></li>
<li><a href="#org0f25792">Spell</a></li>
</ul>
</li>
<li><a href="#org39470bb">Simple Supported Languages</a></li>
<li><a href="#org5ab7b98">Language Server Protocol &amp; Debug Adapter Protocol</a>
<ul>
<li><a href="#org860539a">lsp-mode</a></li>
<li><a href="#orgc98f16d">lsp-ui</a></li>
<li><a href="#orgbbc34f4">company-lsp</a></li>
<li><a href="#org16d5a01">Dap Mode</a></li>
<li><a href="#org469d6dc">lsp-treemacs</a></li>
</ul>
</li>
<li><a href="#org4ec8f14">C/C++/Object-C (Clangd or ccls)</a>
<ul>
<li><a href="#org6cd5d63">clangd</a></li>
<li><a href="#org9fc8f4d">ccls</a></li>
</ul>
</li>
<li><a href="#orgce82375">Haskell</a>
<ul>
<li><a href="#org223cb62">Haskell-Mode</a></li>
<li><a href="#org83df1ce">LSP Haskell</a></li>
<li><a href="#org6c10b6e">intero</a></li>
<li><a href="#org04a5583">Structured Haskell Mode</a></li>
<li><a href="#org9883f00">haskell snippets</a></li>
</ul>
</li>
<li><a href="#org625f8d9">HTML</a></li>
<li><a href="#orge6005e1">JavaScript &amp; TypeScript</a></li>
<li><a href="#org75e2d11">Lisp</a>
<ul>
<li><a href="#org704dc8f">lisp-mode</a></li>
<li><a href="#org34b7ae8">Highlight-quoted</a></li>
<li><a href="#orgdabd4b7">elisp-def</a></li>
</ul>
</li>
<li><a href="#orgbff20b5">Markdown</a></li>
<li><a href="#org559448c">Pandoc</a></li>
<li><a href="#org17eaffa">Python</a>
<ul>
<li><a href="#org0264fa8">Python Mode</a></li>
<li><a href="#org18f7b05">lsp-python-ms</a></li>
<li><a href="#org8a9dd3d">Flycheck Mypy</a></li>
<li><a href="#orga839f59">PyType</a></li>
<li><a href="#org1f72f61">black</a></li>
<li><a href="#orgb13dc6f">py-isort</a></li>
<li><a href="#org983b633">Python Docstring</a></li>
<li><a href="#org8c30297">Sphinx Doc</a></li>
<li><a href="#org860bab0">pyimport</a></li>
</ul>
</li>
<li><a href="#org17fd8e4">Rust</a></li>
<li><a href="#org334b1e5">Yaml</a></li>
</ul>
</li>
<li><a href="#orge9737a6">Org Mode</a>
<ul>
<li><a href="#org9640a42">Load</a></li>
<li><a href="#org9c53194">Basic Configs</a></li>
<li><a href="#org3224b36">Org Agenda</a></li>
<li><a href="#orge3e0e81">Org Bullets</a></li>
<li><a href="#orgffacd7b">Org Capture</a></li>
<li><a href="#org74db878">Org Cliplink</a></li>
<li><a href="#orgde09143">Org clock</a></li>
<li><a href="#org75ee06d">Org Extra Jar &#x2013; ob-ditaa &amp; ob-plantuml</a></li>
<li><a href="#orgc0c229a">Org PDF view</a></li>
<li><a href="#org31a8c06">Org Pomodoro</a></li>
<li><a href="#org9fed3aa">Org Toc</a></li>
<li><a href="#org7f5ff15">Org Wc</a></li>
</ul>
</li>
<li><a href="#org49c94ad">UI</a>
<ul>
<li><a href="#org5892a57">Font</a>
<ul>
<li><a href="#org948dc22">Emojify and all-the-icons</a></li>
<li><a href="#orgca1717e">cn-fonts</a></li>
<li><a href="#org962f956">set fonts</a></li>
</ul>
</li>
<li><a href="#orgef7c16e">Main Theme</a>
<ul>
<li><a href="#orgf52b57f">Doom-themes</a></li>
<li><a href="#orgf62b921">Darktooth-theme</a></li>
<li><a href="#org0c32165">Soothe-theme</a></li>
<li><a href="#org80a8824">Load Theme</a></li>
</ul>
</li>
<li><a href="#orgba80cd8">Mode Line</a></li>
<li><a href="#orgd512e46">Dashboard</a></li>
</ul>
</li>
<li><a href="#orga00afa5">Epilogue</a></li>
</ul>
</li>
<li><a href="#org2efe4b3">Epilogue</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgbbf1c1c" class="outline-2">
<h2 id="orgbbf1c1c">Prologue</h2>
<div class="outline-text-2" id="text-orgbbf1c1c">
<p>
A Straightforward Emacs Configuration Bundle.
</p>

<p>
This is my Emacs configuration in literate form, and it is towards macOS.  I am
not sure if it would work well well on Linux or Windows.
</p>

<dl class="org-dl">
<dt>My Blog</dt><dd><a href="https://nasy.moe/">https://nasy.moe/</a></dd>
<dt>Complete Literate Configuration</dt><dd><a href="https://emacs.nasy.moe/">https://emacs.nasy.moe/</a></dd>
</dl>
</div>

<div id="outline-container-org4d52d67" class="outline-3">
<h3 id="org4d52d67"><b>NOTICE</b></h3>
<div class="outline-text-3" id="text-org4d52d67">
<ul class="org-ul">
<li>Use straight.el to manage packages.</li>
<li>For macOS GUI.</li>
<li>Now only tested with GNU Emacs 26.2/27.0.50 of macOS 10.14.</li>
</ul>
</div>
</div>

<div id="outline-container-org9a385f2" class="outline-3">
<h3 id="org9a385f2">Screenshots</h3>
<div class="outline-text-3" id="text-org9a385f2">

<div class="figure">
<p><img src="./screenshot1.png" alt="screenshot1.png" />
</p>
</div>


<div class="figure">
<p><img src="./screenshot2.png" alt="screenshot2.png" />
</p>
</div>


<div class="figure">
<p><img src="./screenshot3.png" alt="screenshot3.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgef33d55" class="outline-2">
<h2 id="orgef33d55">Dependencies</h2>
<div class="outline-text-2" id="text-orgef33d55">
<ul class="org-ul">
<li>Emacs</li>
<li>git</li>
<li>make</li>
<li>&#x2026;</li>
</ul>
</div>
</div>

<div id="outline-container-org3efd696" class="outline-2">
<h2 id="org3efd696">Installation</h2>
<div class="outline-text-2" id="text-org3efd696">
<p>
To install, clone this repo to  <span>  <code>~/.emacs.d</code>  </span> :
</p>

<div class="org-src-container">
<pre class="src src-shell">git clone https://github.com/nasyxx/emacs.d.git ~/.emacs.d
make generate
</pre>
</div>

<p>
Upon the first time staring up emacs, other third-party packages will be
automatically clone to the  <span>  <code>straight</code>:  </span>  folder
and installed.  If you encounter any errors at that stage, try restarting Emacs,
and maybe running <code>make clean-build</code> before doing so.
</p>

<p>
You can regenerate  <span>  <code>init.el</code>  </span>  by <code>make generate</code>.
</p>
</div>
</div>

<div id="outline-container-orgb5cd413" class="outline-2">
<h2 id="orgb5cd413">Updates</h2>
<div class="outline-text-2" id="text-orgb5cd413">
<p>
Update this config with running <code>make update</code> or <code>git pull</code> after a <code>make
clean-build</code> and restart Emacs.
</p>

<p>
And I guess you'll need to update third-party packages regularly too if you
have not modificated the <code>straight-check-for-modifications</code> in  <span> 
<code>config/nasy-config.el</code>:  </span> 
</p>

<ul class="org-ul">
<li><kbd>M-x</kbd> <kbd>straight-pull-all</kbd> <kbd>RET</kbd></li>
<li><kbd>M-x</kbd> <kbd>straight-rebuild-all</kbd> <kbd>RET</kbd></li>
</ul>

<p>
If you encounter any errors while updating, you may need to kill Emacs and run
<code>make clean</code>. If you still meet errors after doing that, you probably need to run
<code>make clean-all</code> and restart Emacs.
</p>
</div>
</div>

<div id="outline-container-org3229937" class="outline-2">
<h2 id="org3229937">Custom Configuration</h2>
<div class="outline-text-2" id="text-org3229937">
</div>
<div id="outline-container-orgfd771d5" class="outline-3">
<h3 id="orgfd771d5">Example Custom Configuration</h3>
<div class="outline-text-3" id="text-orgfd771d5">
<p>
To add your own customization, use  <kbd>M-x</kbd> <kbd>customize</kbd> 
 etc. and/or create a file  <span>  <code>custom/user-config.el</code> 
 </span>  which looks like this (when you <code>make</code> or <code>make generate</code>, below will
 generate to  <span>  <code>custom/user-config-example.el</code>  </span> ):
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 <span class="org-comment-delimiter">;;</span><span class="org-comment">calendar-latitude        24.8801</span>
 <span class="org-comment-delimiter">;;</span><span class="org-comment">calendar-longitude       102.8329</span>
 <span class="org-comment-delimiter">;;</span><span class="org-comment">user-mail-address        "nasyxx@gmail.com"</span>
 <span class="org-comment-delimiter">;;</span><span class="org-comment">initial-buffer-choice    #'(lambda () (get-buffer "*dashboard*"))</span>
 cnfonts-profiles         '(<span class="org-string">"nasy-profile"</span> <span class="org-string">"profile1"</span> <span class="org-string">"profile2"</span> <span class="org-string">"profile3"</span>)
 gcmh-high-cons-threshold #x40000000
 *theme*                  'doom-vibrant
 *debug*                  t
 *struct-hs*              nil
 <span class="org-comment-delimiter">;;</span><span class="org-comment">*vterm*                  "/Users/Nasy/src/emacs-libvterm"</span>
 *risky-var*              nil
 *dvorak*                 nil
 *font-cjk*               <span class="org-string">"Kaiti SC"</span>
 *font-weight-cjk*        'normal)
(<span class="org-keyword">provide</span> '<span class="org-constant">user-config-example</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c85d1f" class="outline-3">
<h3 id="org6c85d1f">dashboard</h3>
<div class="outline-text-3" id="text-org6c85d1f">
<p>
If you want to start with <a href="https://github.com/rakanalh/emacs-dashboard">dashboard</a>, you need to set
</p>

<p>
<code>(setq initial-buffer-choice #'(lambda () (get-buffer "*dashboard*"))</code>
</p>

<p>
in your <code>custom/user-config.el</code>.
</p>

<p>
<b>Launching emacs from command line with a file name causes errors</b>.  Please refer
to the issue <a href="https://github.com/rakanalh/emacs-dashboard/issues/69">here</a>.  Hope someone could fix it.
</p>
</div>
</div>

<div id="outline-container-orgf59911c" class="outline-3">
<h3 id="orgf59911c"><b>NOTICE:</b></h3>
<div class="outline-text-3" id="text-orgf59911c">
<ul class="org-ul">
<li>Functions added to <code>nasy/config-before-hook</code> will be run before loading <code>custom.el</code>.</li>
<li>Functions added to <code>nasy/config-after-hook</code> will be run after init.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org7a3cf3e" class="outline-2">
<h2 id="org7a3cf3e">Features</h2>
<div class="outline-text-2" id="text-org7a3cf3e">
</div>
<div id="outline-container-org63d0343" class="outline-3">
<h3 id="org63d0343">Summary</h3>
<div class="outline-text-3" id="text-org63d0343">
<dl class="org-dl">
<dt>Package Manager</dt><dd>straight.el with &#x2013;depth=1</dd>
<dt>Font</dt><dd><ul class="org-ul">
<li>Adjust with cnfonts</li>
<li>Operator Mono SSm
<ul class="org-ul">
<li>Patched with <a href="https://github.com/ryanoasis/nerd-fonts">nerd-font</a> and <a href="https://github.com/kiliman/operator-mono-lig">operator-mono-lig</a>.</li>
</ul></li>
<li>Fira Code Symbol</li>
</ul></dd>
<dt>Languages</dt><dd><ul class="org-ul">
<li>lsp-mode/lsp-dap</li>
<li>Haskell</li>
<li>Python</li>
<li>Lisp</li>
<li>HTML/CSS/JavaScript/TypeScript</li>
<li>Rust</li>
</ul></dd>
<dt>Themes</dt><dd><ul class="org-ul">
<li>Doom Themes</li>
<li>Darktooth</li>
<li>Soothe</li>
</ul></dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-orgacd2613" class="outline-2">
<h2 id="orgacd2613">The Configuration</h2>
<div class="outline-text-2" id="text-orgacd2613">
<p>
See the complete literate config here:
</p>

<p>
<a href="https://nasy.moe/emacs.d">Html</a>
</p>

<p>
<a href="https://github.com/nasyxx/emacs.d/blob/master/literate-config.org">Source</a>
</p>

<p>
One thing to note is that this file generates a file named  <span> 
<code>init.el</code>.  </span>  You <b>should not</b> edit that file directly and make any
changes here and regenerate it from Emacs org-mode using  <kbd>C-c</kbd>
<kbd>C-v</kbd> <kbd>t</kbd> .
</p>
</div>

<div id="outline-container-org1a39600" class="outline-3">
<h3 id="org1a39600">Bootstrap</h3>
<div class="outline-text-3" id="text-org1a39600">
</div>
<div id="outline-container-org8a61095" class="outline-4">
<h4 id="org8a61095">File Header</h4>
<div class="outline-text-4" id="text-org8a61095">
<p>
This includes some necessary headers.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init.el --- Nasy's emacs.d init file.            -*- lexical-binding: t; -*-</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Copyright (C) 2018  Nasy</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Author: Nasy <a href="mailto:nasyxx+emacs%40gmail.com">&lt;nasyxx+emacs@gmail.com&gt;</a></span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Nasy's emacs.d init file.  For macOS and Emacs 26, Emacs 27.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgffaf2f6" class="outline-4">
<h4 id="orgffaf2f6">Lexical Binding</h4>
<div class="outline-text-4" id="text-orgffaf2f6">
<p>
This makes it so that the file that is produced from tangling this file uses
lexical scoping.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span> lexical-binding t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c78a32" class="outline-4">
<h4 id="org8c78a32">Some Default Settings</h4>
<div class="outline-text-4" id="text-org8c78a32">
<p>
Some default settings are here, including <code>debug-on-error</code>, <code>message-log-max</code>,
<code>load-prefer-newer</code> and <code>ad-redefinition-action</code>.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span> debug-on-error         t
              message-log-max        t
              load-prefer-newer      t
              ad-redefinition-action 'accept
              gc-cons-threshold      most-positive-fixnum)
</pre>
</div>
</div>
</div>

<div id="outline-container-org21fe239" class="outline-4">
<h4 id="org21fe239">Macros &amp; Alias</h4>
<div class="outline-text-4" id="text-org21fe239">
<p>
Useful Macros and Alias.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defmacro</span> <span class="org-function-name">&#955;!</span> (<span class="org-type">&amp;rest</span> body)
  <span class="org-doc">"A shortcut for inline interactive lambdas."</span>
  (<span class="org-keyword">declare</span> (doc-string 1))
  `(<span class="org-keyword">lambda</span> () (<span class="org-keyword">interactive</span>) ,@body))

(<span class="org-keyword">defalias</span> '<span class="org-function-name">lambda!</span> '&#955;!)

(<span class="org-keyword">defmacro</span> <span class="org-function-name">after!</span> (package <span class="org-type">&amp;rest</span> body)
  <span class="org-doc">"Evaluate BODY after PACKAGE have loaded.</span>
<span class="org-doc">PACKAGE is a symbol or list of them. These are package names, not modes,</span>
<span class="org-doc">functions or variables. It can be:</span>
<span class="org-doc">- An unquoted package symbol (the name of a package)</span>
<span class="org-doc">    (after! helm BODY...)</span>
<span class="org-doc">- An unquoted list of package symbols (i.e. BODY is evaluated once both magit</span>
<span class="org-doc">  and git-gutter have loaded)</span>
<span class="org-doc">    (after! (magit git-gutter) BODY...)</span>
<span class="org-doc">- An unquoted, nested list of compound package lists, using any combination of</span>
<span class="org-doc">  :or/:any and :and/:all</span>
<span class="org-doc">    (after! (:or package-a package-b ...)  BODY...)</span>
<span class="org-doc">    (after! (:and package-a package-b ...) BODY...)</span>
<span class="org-doc">    (after! (:and package-a (:or package-b package-c) ...) BODY...)</span>
<span class="org-doc">  Without :or/:any/:and/:all, :and/:all are implied.</span>
<span class="org-doc">This is a wrapper around `</span><span class="org-doc"><span class="org-constant">eval-after-load</span></span><span class="org-doc">' that:</span>
<span class="org-doc">1. Suppresses warnings for disabled packages at compile-time</span>
<span class="org-doc">2. No-ops for package that are disabled by the user (via `</span><span class="org-doc"><span class="org-constant">package!</span></span><span class="org-doc">')</span>
<span class="org-doc">3. Supports compound package statements (see below)</span>
<span class="org-doc">4. Prevents eager expansion pulling in autoloaded macros all at once"</span>
  (<span class="org-keyword">declare</span> (indent defun) (debug t))
  (<span class="org-keyword">if</span> (symbolp package)
      (list (<span class="org-keyword">if</span> (<span class="org-keyword">or</span> (not (<span class="org-keyword">bound-and-true-p</span> byte-compile-current-file))
                    (<span class="org-keyword">require</span> <span class="org-constant">package</span> nil 'noerror))
                #'progn
              #'with-no-warnings)
            (<span class="org-keyword">let</span> ((body (macroexp-progn body)))
              `(<span class="org-keyword">if</span> (<span class="org-keyword">featurep</span> ',package)
                   ,body
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">We intentionally avoid `</span><span class="org-comment"><span class="org-constant">with-eval-after-load</span></span><span class="org-comment">' to prevent</span>
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">eager macro expansion from pulling (or failing to pull) in</span>
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">autoloaded macros/packages.</span>
                 (eval-after-load ',package ',body))))
    (<span class="org-keyword">let</span> ((p (car package)))
      (<span class="org-keyword">cond</span> ((not (keywordp p))
             `(after! (<span class="org-builtin">:and</span> ,@package) ,@body))
            ((memq p '(<span class="org-builtin">:or</span> <span class="org-builtin">:any</span>))
             (macroexp-progn
              (<span class="org-keyword">cl-loop</span> for next in (cdr package)
                       collect `(after! ,next ,@body))))
            ((memq p '(<span class="org-builtin">:and</span> <span class="org-builtin">:all</span>))
             (<span class="org-keyword">dolist</span> (next (cdr package))
               (<span class="org-keyword">setq</span> body `((after! ,next ,@body))))
             (car body))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0a6884c" class="outline-4">
<h4 id="org0a6884c">Is A Mac?</h4>
<div class="outline-text-4" id="text-org0a6884c">
<p>
If this os is macOS?
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defconst</span> <span class="org-variable-name">*is-a-mac*</span> (eq system-type 'darwin))
</pre>
</div>
</div>
</div>

<div id="outline-container-org251ee25" class="outline-4">
<h4 id="org251ee25">Packages Manager</h4>
<div class="outline-text-4" id="text-org251ee25">
<p>
I use <a href="https://github.com/raxod502/straight.el">straight.el</a> as my packages manager.
</p>

<p>
<a href="https://github.com/raxod502/straight.el">https://github.com/raxod502/straight.el</a>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> straight-recipes-gnu-elpa-use-mirror    t
      straight-repository-branch              <span class="org-string">"develop"</span>
      straight-vc-git-default-clone-depth     1
      straight-enable-use-package-integration nil
      straight-check-for-modifications        '(find-when-checking))

(<span class="org-keyword">defvar</span> <span class="org-variable-name">bootstrap-version</span>)

(<span class="org-keyword">let</span> ((bootstrap-file
       (expand-file-name <span class="org-string">"straight/repos/straight.el/bootstrap.el"</span> user-emacs-directory))
      (bootstrap-version 5))
  (<span class="org-keyword">unless</span> (file-exists-p bootstrap-file)
    (<span class="org-keyword">with-current-buffer</span>
        (url-retrieve-synchronously
         <span class="org-string">"https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"</span>
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))
</pre>
</div>

<p>
At the same time, I use <a href="https://github.com/jwiegley/use-package">use-package</a> to manage packages' loading.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'use-package)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7fb2a41" class="outline-4">
<h4 id="org7fb2a41">Garbage Collection</h4>
<div class="outline-text-4" id="text-org7fb2a41">
<p>
Use GCMH &#x2013;  the Garbage Collector Magic Hack &#x2013; to adjust garbage collection.
</p>

<p>
<a href="https://gitlab.com/koral/gcmh">https://gitlab.com/koral/gcmh</a>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'gcmh)
(use-package gcmh
  <span class="org-builtin">:demand</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> gcmh-verbose             t
        gcmh-lows-cons-threshold #x800000
        gcmh-high-cons-threshold most-positive-fixnum
        gcmh-idle-delay          3600)
  <span class="org-builtin">:config</span>
  (gcmh-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org42c45ac" class="outline-4">
<h4 id="org42c45ac">Benchmark</h4>
<div class="outline-text-4" id="text-org42c45ac">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'benchmark-init)
(use-package benchmark-init
  <span class="org-builtin">:demand</span> t
  <span class="org-builtin">:hook</span> ((after-init . benchmark-init/deactivate)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd58a5a3" class="outline-4">
<h4 id="orgd58a5a3">No Littering</h4>
<div class="outline-text-4" id="text-orgd58a5a3">
<p>
<a href="https://github.com/emacscollective/no-littering">https://github.com/emacscollective/no-littering</a>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'no-littering)
(<span class="org-keyword">require</span> '<span class="org-constant">no-littering</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org09c3a75" class="outline-4">
<h4 id="org09c3a75">Define Nasy Custom</h4>
<div class="outline-text-4" id="text-org09c3a75">
<p>
Here includes all of the customizable variables of my configuration.
</p>

<p>
You can custom it in  <span>  <code>custom/user-config.el</code>  </span> 
</p>
</div>

<div id="outline-container-org3e44c87" class="outline-5">
<h5 id="org3e44c87">Custom Config Hooks</h5>
<div class="outline-text-5" id="text-org3e44c87">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">nasy/config-before-hook</span> nil
  <span class="org-doc">"Hooks to run config functions before load custom.el."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">nasy/config-after-hook</span> nil
  <span class="org-doc">"Hooks to run config functions after."</span>)

(add-hook 'nasy/config-after-hook
          #'(lambda () (message <span class="org-string">"Hi~ Hope you have fun with this config."</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb99278" class="outline-5">
<h5 id="orgcb99278">Custom</h5>
<div class="outline-text-5" id="text-orgcb99278">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defgroup</span> <span class="org-type">nasy</span> nil
  <span class="org-doc">"Nasy Emacs Custom Configurations."</span>
  <span class="org-builtin">:group</span> 'emacs)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">lisp-modes-hooks</span> '(cider-repl-mode-hook
                              clojure-mode-hook
                              clojurec-mode-hook
                              clojurescript-mode-hook
                              clojurex-mode-hook
                              common-lisp-mode-hook
                              emacs-lisp-mode-hook
                              eshell-mode-hook
                              geiser-repl-mode-hook
                              gerbil-mode-hook
                              inf-clojure-mode-hook
                              inferior-emacs-lisp-mode-hook
                              inferior-lisp-mode-hook
                              inferior-scheme-mode-hook
                              lisp-interaction-mode-hook
                              lisp-mode-hook
                              monroe-mode-hook
                              racket-mode-hook
                              racket-repl-mode-hook
                              scheme-interaction-mode-hook
                              scheme-mode-hook
                              slime-repl-mode-hook
                              stumpwm-mode-hook)
  <span class="org-doc">"List of lisp-related modes hooks."</span>
  <span class="org-builtin">:type</span> '(repeat symbol)
  <span class="org-builtin">:group</span> 'nasy)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*clangd*</span> (executable-find <span class="org-string">"clangd"</span>)
  <span class="org-doc">"Clangd path.  If nil, will not use clangd."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*ccls*</span> (executable-find <span class="org-string">"ccls"</span>)  <span class="org-comment-delimiter">;; </span><span class="org-comment">macOS</span>
  <span class="org-doc">"Ccls path.  If nil, will not use ccls."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*eldoc-box*</span> nil
  <span class="org-doc">"Whether to use eloc-box or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*nix*</span> nil
  <span class="org-doc">"Nix path.  If nil, will not use nix."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*rust*</span> (<span class="org-keyword">or</span> (executable-find <span class="org-string">"rustc"</span>)
                      (executable-find <span class="org-string">"cargo"</span>)
                      (executable-find <span class="org-string">"rustup"</span>))
  <span class="org-doc">"The Rust path.  If nil, will not use Rust."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*rls*</span> (executable-find <span class="org-string">"rls"</span>)
  <span class="org-doc">"The rls path.  If nil, will not use rls."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*highlight-indent-guides*</span> t
  <span class="org-doc">"Whether to use highlight-indent-guides or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*debug*</span> t
  <span class="org-doc">"Whether to use debug or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*server*</span> t
  <span class="org-doc">"Whether to use server or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*intero*</span> t
  <span class="org-doc">"Whether to use intero or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*struct-hs*</span> (executable-find <span class="org-string">"structured-haskell-mode"</span>)
  <span class="org-doc">"The structured-haskell-mode path.  If nil, will not use structured-haskell-mode."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*blacken*</span> nil
  <span class="org-doc">"Whether to use blacken or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*c-box*</span> t
  <span class="org-doc">"Whether to use company box or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*ivy-posframe*</span> nil
  <span class="org-doc">"Whether to use ivy-posframe or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*vterm*</span> nil
  <span class="org-doc">"Whether to use vterm or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*org-headline-rescale*</span> t
  <span class="org-doc">"Whether to rescale org-headline or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*ispell*</span> (executable-find <span class="org-string">"aspell"</span>)
  <span class="org-doc">"The Ispell.  If nil, will not use Ispell."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*theme*</span> 'doom-dracula
  <span class="org-doc">"The Theme."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'symbol)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*dvorak*</span> nil
  <span class="org-doc">"Whether to use dvorak or not."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'boolean)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*mouse-color*</span> <span class="org-string">"black"</span>
  <span class="org-doc">"Mouse color."</span>
  <span class="org-builtin">:group</span> 'nasy
  <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*font*</span> <span class="org-string">"OperatorMonoSSmLig Nerd Font"</span>
 <span class="org-doc">"The main font.  After change it, run `M-x nasy/set-font' to see the effect."</span>
 <span class="org-builtin">:group</span> 'nasy
 <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*font-size*</span> 12.0
 <span class="org-doc">"The main font.  After change it, run `M-x nasy/set-font' to see the effect."</span>
 <span class="org-builtin">:group</span> 'nasy
 <span class="org-builtin">:type</span> 'float)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*font-weight*</span> 'normal
 <span class="org-doc">"The main font.  After change it, run `M-x nasy/set-font' to see the effect."</span>
 <span class="org-builtin">:group</span> 'nasy
 <span class="org-builtin">:type</span> 'symbol)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*font-cjk*</span> <span class="org-string">"Xingkai SC"</span>
 <span class="org-doc">"The cjk font.  After change it, run `M-x nasy/set-font' to see the effect."</span>
 <span class="org-builtin">:group</span> 'nasy
 <span class="org-builtin">:type</span> 'string)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*font-size-cjk*</span> 16.0
 <span class="org-doc">"The cjk font.  After change it, run `M-x nasy/set-font' to see the effect."</span>
 <span class="org-builtin">:group</span> 'nasy
 <span class="org-builtin">:type</span> 'float)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">*font-weight-cjk*</span> 'light
 <span class="org-doc">"The cjk font.  After change it, run `M-x nasy/set-font' to see the effect."</span>
 <span class="org-builtin">:group</span> 'nasy
 <span class="org-builtin">:type</span> 'symbol)
</pre>
</div>
</div>
</div>

<div id="outline-container-org352fa1b" class="outline-5">
<h5 id="org352fa1b">Default Settings</h5>
<div class="outline-text-5" id="text-org352fa1b">
</div>
<div id="outline-container-org4d321be" class="outline-6">
<h6 id="org4d321be">Company</h6>
<div class="outline-text-6" id="text-org4d321be">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 company-idle-delay .5)
</pre>
</div>
</div>
</div>

<div id="outline-container-org61e8de6" class="outline-6">
<h6 id="org61e8de6">Cursor</h6>
<div class="outline-text-6" id="text-org61e8de6">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
  blink-cursor-interval .6
  blink-matching-paren  t
  cursor-in-non-selected-windows t)

(blink-cursor-mode 0)

(add-hook 'nasy/config-after-hook
          #'(lambda ()
              (<span class="org-keyword">when</span> (fboundp 'set-mouse-color)
                (set-mouse-color *mouse-color*))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org32591c6" class="outline-6">
<h6 id="org32591c6">Languages</h6>
<div class="outline-text-6" id="text-org32591c6">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 haskell-stylish-on-save nil
 blacken-line-length     80
 lsp-rust-rls-command    '(<span class="org-string">"rls"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org07aec9d" class="outline-6">
<h6 id="org07aec9d">Pandoc</h6>
<div class="outline-text-6" id="text-org07aec9d">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 org-pandoc-options-for-context     '((template . <span class="org-string">"~/.emacs.d/nasy-context.tex"</span>))  <span class="org-comment-delimiter">;; </span><span class="org-comment">I have no idea why I cannot set it as a variable.</span>
 org-pandoc-options-for-context-pdf '((template . <span class="org-string">"~/.emacs.d/nasy-context.tex"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org10d79e7" class="outline-6">
<h6 id="org10d79e7">Parens</h6>
<div class="outline-text-6" id="text-org10d79e7">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 show-paren-style                                'parenthesis
 sp-autoinsert-quote-if-followed-by-closing-pair t
 sp-base-key-bindings                            'paredit
 sp-show-pair-from-inside                        t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c3b335" class="outline-6">
<h6 id="org5c3b335">Scrolling</h6>
<div class="outline-text-6" id="text-org5c3b335">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> hscroll-margin                  7
      scroll-margin                   7
      hscroll-step                    7
      scroll-step                     7
      scroll-conservatively           100000
      scroll-preserve-screen-position 'always
      mac-mouse-wheel-smooth-scroll    nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org12f456c" class="outline-6">
<h6 id="org12f456c">Shell</h6>
<div class="outline-text-6" id="text-org12f456c">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 shell-file-name <span class="org-string">"/bin/zsh"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e7e1e6" class="outline-6">
<h6 id="org5e7e1e6">Start</h6>
<div class="outline-text-6" id="text-org5e7e1e6">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 initial-scratch-message     (concat <span class="org-string">";; Happy hacking, "</span> user-login-name <span class="org-string">" - Emacs &#9829; you!\n\n"</span>)
 dashboard-banner-logo-title (concat <span class="org-string">";; Happy hacking, "</span> user-login-name <span class="org-string">" - Emacs &#9829; you!\n\n"</span>)
 <span class="org-comment-delimiter">;; </span><span class="org-comment">initial-buffer-choice       #'(lambda () (get-buffer "*dashboard*"))  ;; It will cause error if you start emacs from Command line with file name</span>
                                                                          <span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/rakanalh/emacs-dashboard/issues/69</span>
)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f81c3f" class="outline-6">
<h6 id="org3f81c3f">Visual</h6>
<div class="outline-text-6" id="text-org3f81c3f">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 fill-column                    80
 visual-fill-column-width       100
 word-wrap                      t
 highlight-indent-guides-method 'column
 tab-width                      8
 tooltip-delay                  1.5)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c17602" class="outline-6">
<h6 id="org4c17602">Whitespace</h6>
<div class="outline-text-6" id="text-org4c17602">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
 whitespace-line-column 80
 whitespace-style       '(face spaces tabs newline
                          space-mark tab-mark newline-mark
                          lines-tail empty))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2abe8f1" class="outline-6">
<h6 id="org2abe8f1">Mess</h6>
<div class="outline-text-6" id="text-org2abe8f1">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq-default</span>
   bookmark-default-file (no-littering-expand-var-file-name <span class="org-string">".bookmarks.el"</span>)
   buffers-menu-max-size 30
   case-fold-search      t
   column-number-mode    t
   dired-dwim-target     t
   ediff-split-window-function 'split-window-horizontally
   ediff-window-setup-function 'ediff-setup-windows-plain
   indent-tabs-mode      nil
   line-move-visual      t
   make-backup-files     nil
   mouse-yank-at-point   t
   require-final-newline t
   save-interprogram-paste-before-kill t
   set-mark-command-repeat-pop    t
   tab-always-indent              'complete
   truncate-lines                 nil
   truncate-partial-width-windows nil)

(<span class="org-keyword">when</span> *is-a-mac*
  (<span class="org-keyword">setq</span> line-move-visual nil))

(fset 'yes-or-no-p 'y-or-n-p)

(global-auto-revert-mode t)

(delete-selection-mode t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf529c86" class="outline-6">
<h6 id="orgf529c86">Config After initialization</h6>
<div class="outline-text-6" id="text-orgf529c86">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/config-after</span> ()
  <span class="org-doc">"Set configuration need to be set after init."</span>
  (<span class="org-keyword">setq-default</span>
   <span class="org-comment-delimiter">;; </span><span class="org-comment">helm-allow-mouse                  t</span>
   <span class="org-comment-delimiter">;; </span><span class="org-comment">helm-follow-mode-persistent       t</span>
   <span class="org-comment-delimiter">;; </span><span class="org-comment">helm-move-to-line-cycle-in-source nil</span>
   <span class="org-comment-delimiter">;; </span><span class="org-comment">helm-source-names-using-follow    '("Buffers" "kill-buffer" "Occur")</span>
   debug-on-error *debug*))


(add-hook 'nasy/config-after-hook  #'nasy/config-after)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgede89bc" class="outline-6">
<h6 id="orgede89bc">Custom Faces</h6>
<div class="outline-text-6" id="text-orgede89bc">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/set-face</span> ()
  <span class="org-doc">"Set custom face."</span>
  (after! org
    (set-face-attribute 'org-meta-line               nil                                             <span class="org-builtin">:slant</span>   'italic)
    (set-face-attribute 'org-block-begin-line        nil                                             <span class="org-builtin">:slant</span>   'italic)
    (set-face-attribute 'org-block-end-line          nil                                             <span class="org-builtin">:slant</span>   'italic)
    (<span class="org-keyword">when</span> *org-headline-rescale*
      (set-face-attribute 'org-level-1 nil <span class="org-builtin">:height</span> 1.6 <span class="org-builtin">:inherit</span> 'outline-1)
      (set-face-attribute 'org-level-2 nil <span class="org-builtin">:height</span> 1.4 <span class="org-builtin">:inherit</span> 'outline-2)
      (set-face-attribute 'org-level-3 nil <span class="org-builtin">:height</span> 1.2 <span class="org-builtin">:inherit</span> 'outline-3)
      (set-face-attribute 'org-level-4 nil <span class="org-builtin">:height</span> 1.1 <span class="org-builtin">:inherit</span> 'outline-4)))
  (set-face-attribute 'font-lock-comment-face      nil                                             <span class="org-builtin">:slant</span>   'italic)
  (set-face-attribute 'font-lock-keyword-face      nil                                             <span class="org-builtin">:slant</span>   'italic)
  (set-face-attribute 'show-paren-match            nil <span class="org-builtin">:background</span> <span class="org-string">"#a1de93"</span> <span class="org-builtin">:foreground</span> <span class="org-string">"#705772"</span> <span class="org-builtin">:weight</span>  'ultra-bold)
  (after! smartparens-config
    (set-face-attribute 'sp-show-pair-match-face     nil <span class="org-builtin">:background</span> <span class="org-string">"#a1de93"</span> <span class="org-builtin">:foreground</span> <span class="org-string">"#705772"</span> <span class="org-builtin">:weight</span>  'ultra-bold)))
(add-hook 'nasy/config-after-hook #'nasy/set-face)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org95579ab" class="outline-4">
<h4 id="org95579ab">Expand load-path and load user custom</h4>
<div class="outline-text-4" id="text-org95579ab">
<div class="org-src-container">
<pre class="src src-elisp">(add-to-list 'load-path (expand-file-name <span class="org-string">"custom"</span> user-emacs-directory))
(<span class="org-keyword">require</span> '<span class="org-constant">user-config-example</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">user-config</span> nil t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org669d9aa" class="outline-4">
<h4 id="org669d9aa">Key Definition</h4>
<div class="outline-text-4" id="text-org669d9aa">
</div>
<div id="outline-container-org2128bd8" class="outline-5">
<h5 id="org2128bd8">General</h5>
<div class="outline-text-5" id="text-org2128bd8">
<p>
<a href="https://github.com/noctuid/general.el">https://github.com/noctuid/general.el</a>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'general)
(use-package general
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">defalias</span> '<span class="org-function-name">gsetq</span> #'general-setq)
  (<span class="org-keyword">defalias</span> '<span class="org-function-name">gsetq-local</span> #'general-setq-local)
  (<span class="org-keyword">defalias</span> '<span class="org-function-name">gsetq-default</span> #'general-setq-default))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc4e751c" class="outline-5">
<h5 id="orgc4e751c">macOS Key Bindings</h5>
<div class="outline-text-5" id="text-orgc4e751c">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *is-a-mac*
  (gsetq mac-option-modifier  'meta
         mac-command-modifier 'hyper
         mac-right-command-modifier 'control)

  (general-define-key
   <span class="org-string">"C-z"</span> 'stop-minimizing-window

   <span class="org-comment-delimiter">;; </span><span class="org-comment">cursor Movement</span>
   <span class="org-string">"H-&lt;up&gt;"</span>   'beginning-of-buffer
   <span class="org-string">"H-&lt;down&gt;"</span> 'end-of-buffer
   <span class="org-string">"H-l"</span>      'goto-line

   <span class="org-comment-delimiter">;; </span><span class="org-comment">text Operations</span>
   <span class="org-string">"H-a"</span> 'mark-whole-buffer
   <span class="org-string">"H-v"</span> 'yank
   <span class="org-string">"H-c"</span> 'kill-ring-save
   <span class="org-string">"H-s"</span> 'save-buffer
   <span class="org-string">"H-z"</span> 'undo
   <span class="org-string">"H-w"</span> (lambda! (delete-window))
   <span class="org-string">"M-&#165;"</span> (lambda! (insert <span class="org-string">"\\"</span>))
   <span class="org-string">"H-&lt;backspace&gt;"</span> (lambda! (kill-line 0)))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">unset</span>
  (global-unset-key (kbd <span class="org-string">"&lt;magnify-down&gt;"</span>))
  (global-unset-key (kbd <span class="org-string">"&lt;magnify-up&gt;"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org350a5e6" class="outline-5">
<h5 id="org350a5e6">Dvorak Key Bindings</h5>
<div class="outline-text-5" id="text-org350a5e6">
<div class="org-src-container">
<pre class="src src-elisp">(add-hook #'nasy/config-after-hook
          #'(lambda ()
              (<span class="org-keyword">when</span> *dvorak*
                (general-define-key
                 <span class="org-builtin">:keymaps</span> 'key-translation-map
                 <span class="org-string">"C-,"</span> <span class="org-string">"C-x"</span>
                 <span class="org-string">"C-x"</span> <span class="org-string">"C-,"</span>
                 <span class="org-string">"M-,"</span> <span class="org-string">"M-x"</span>
                 <span class="org-string">"M-x"</span> <span class="org-string">"M-,"</span>
                 <span class="org-string">"C-c"</span> <span class="org-string">"C-."</span>
                 <span class="org-string">"C-."</span> <span class="org-string">"C-c"</span>
                 <span class="org-string">"M-c"</span> <span class="org-string">"M-."</span>
                 <span class="org-string">"M-."</span> <span class="org-string">"M-c"</span>))))
</pre>
</div>
</div>

<div id="outline-container-org549bdeb" class="outline-6">
<h6 id="org549bdeb">Toogle Dvorak Key Bindings</h6>
<div class="outline-text-6" id="text-org549bdeb">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/toogle-dvorak</span> ()
  <span class="org-doc">"Toogle dvorak key bindings."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> (not *dvorak*)
      (<span class="org-keyword">progn</span>
        (general-define-key
         <span class="org-builtin">:keymaps</span> 'key-translation-map
         <span class="org-string">"C-,"</span> <span class="org-string">"C-x"</span>
         <span class="org-string">"C-x"</span> <span class="org-string">"C-,"</span>
         <span class="org-string">"M-,"</span> <span class="org-string">"M-x"</span>
         <span class="org-string">"M-x"</span> <span class="org-string">"M-,"</span>
         <span class="org-string">"C-c"</span> <span class="org-string">"C-."</span>
         <span class="org-string">"C-."</span> <span class="org-string">"C-c"</span>
         <span class="org-string">"M-c"</span> <span class="org-string">"M-."</span>
         <span class="org-string">"M-."</span> <span class="org-string">"M-c"</span>)
        (gsetq *dvorak* t)
        (message <span class="org-string">"Use Dvorak key bindings."</span>))
    (<span class="org-keyword">progn</span>
      (general-define-key
         <span class="org-builtin">:keymaps</span> 'key-translation-map
         <span class="org-string">"C-,"</span> nil
         <span class="org-string">"C-x"</span> nil
         <span class="org-string">"M-,"</span> nil
         <span class="org-string">"M-x"</span> nil
         <span class="org-string">"C-c"</span> nil
         <span class="org-string">"C-."</span> nil
         <span class="org-string">"M-c"</span> nil
         <span class="org-string">"M-."</span> nil)
      (gsetq *dvorak* nil)
      (message <span class="org-string">"Use normal key bindings."</span>))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb73a21e" class="outline-5">
<h5 id="orgb73a21e">Mouse Key Bindings</h5>
<div class="outline-text-5" id="text-orgb73a21e">
<div class="org-src-container">
<pre class="src src-elisp">(general-define-key
 <span class="org-string">"&lt;mouse-4&gt;"</span> (lambda! (scroll-down 1))
 <span class="org-string">"&lt;mouse-5&gt;"</span> (lambda! (scroll-up 1)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf916117" class="outline-4">
<h4 id="orgf916117">Load Org</h4>
<div class="outline-text-4" id="text-orgf916117">
<p>
When using straight.el, the org version is needed to custom set.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'org-plus-contrib)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a0979b" class="outline-4">
<h4 id="org8a0979b">Core</h4>
<div class="outline-text-4" id="text-org8a0979b">
</div>
<div id="outline-container-org2bca6a8" class="outline-5">
<h5 id="org2bca6a8">Core Functions</h5>
<div class="outline-text-5" id="text-org2bca6a8">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">Borrow from doom emacs.</span>
(define-error 'n-error <span class="org-string">"Error in Nasy Emacs core"</span>)
(define-error 'n-hook-error <span class="org-string">"Error in a Nasy startup hook"</span> 'Nasy-error)

(<span class="org-keyword">defun</span> <span class="org-function-name">nasy-enlist</span> (exp)
 <span class="org-doc">"Return EXP wrapped in a list, or as-is if already a list."</span>
 (<span class="org-keyword">declare</span> (pure t) (side-effect-free t))
 (<span class="org-keyword">if</span> (listp exp) exp (list exp)))

(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/try-run-hook</span> (hook)
  <span class="org-doc">"Run HOOK (a hook function), but handle errors better, to make debugging</span>
<span class="org-doc">issues easier.</span>
<span class="org-doc">Meant to be used with `</span><span class="org-doc"><span class="org-constant">run-hook-wrapped</span></span><span class="org-doc">'."</span>
  (message <span class="org-string">"Running hook: %s"</span> hook)
  (<span class="org-keyword">condition-case</span> e
      (funcall hook)
    ((debug error)
     (<span class="org-warning">signal</span> 'n-hook-error (list hook e))))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">return nil so `</span><span class="org-comment"><span class="org-constant">run-hook-wrapped</span></span><span class="org-comment">' won't short circuit</span>
  nil)


<span class="org-comment-delimiter">;; </span><span class="org-comment">File+dir local variables are initialized after the major mode and its hooks</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">have run. If you want hook functions to be aware of these customizations, add</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">them to MODE-local-vars-hook instead.</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/run-local-var-hooks-h</span> ()
  <span class="org-doc">"Run MODE-local-vars-hook after local variables are initialized."</span>
  (run-hook-wrapped (intern-soft (format <span class="org-string">"%s-local-vars-hook"</span> major-mode))
                    #'nasy/try-run-hook))
(add-hook 'hack-local-variables-hook #'nasy/run-local-var-hooks-h)

<span class="org-comment-delimiter">;; </span><span class="org-comment">If the user has disabled `</span><span class="org-comment"><span class="org-constant">enable-local-variables</span></span><span class="org-comment">', then</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">hack-local-variables-hook</span></span><span class="org-comment">' is never triggered, so we trigger it at the end</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">of `</span><span class="org-comment"><span class="org-constant">after-change-major-mode-hook</span></span><span class="org-comment">':</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/run-local-var-hooks-if-necessary-h</span> ()
  <span class="org-doc">"Run `</span><span class="org-doc"><span class="org-constant">nasy/run-local-var-hooks-h</span></span><span class="org-doc">' if `</span><span class="org-doc"><span class="org-constant">enable-local-variables</span></span><span class="org-doc">' is disabled."</span>
  (<span class="org-keyword">unless</span> enable-local-variables
    (nasy/run-local-var-hooks-h)))
(add-hook 'after-change-major-mode-hook
          #'nasy/run-local-var-hooks-if-necessary-h
          'append)
</pre>
</div>
</div>
</div>

<div id="outline-container-org40dda4e" class="outline-5">
<h5 id="org40dda4e">macOS Frame</h5>
<div class="outline-text-5" id="text-org40dda4e">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *is-a-mac*
  (add-to-list 'default-frame-alist
               '(ns-transparent-titlebar . t))

  (add-to-list 'default-frame-alist
               '(ns-appearance . dark))

  (add-to-list 'default-frame-alist
               '(alpha . (80 . 75)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">stop-minimizing-window</span> ()
    <span class="org-doc">"Stop minimizing window under macOS."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">unless</span> (<span class="org-keyword">and</span> *is-a-mac*
                 window-system)
      (suspend-frame))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org58fbdbb" class="outline-5">
<h5 id="org58fbdbb">Disable Some Features</h5>
<div class="outline-text-5" id="text-org58fbdbb">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> use-file-dialog        nil
      use-dialog-box         nil
      inhibit-startup-screen t)

(<span class="org-keyword">when</span> (fboundp 'tool-bar-mode)
  (tool-bar-mode -1))

(<span class="org-keyword">when</span> (fboundp 'set-scroll-bar-mode)
  (set-scroll-bar-mode nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd54b940" class="outline-5">
<h5 id="orgd54b940">Compile</h5>
<div class="outline-text-5" id="text-orgd54b940">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/jwiegley/emacs-async</span>
(straight-use-package 'async)
(use-package dired-async
  <span class="org-builtin">:commands</span> dired-async-mode)
(use-package async-bytecomp
  <span class="org-builtin">:config</span>
  (gsetq async-bytecomp-allowed-packages '(all))
  (async-bytecomp-package-mode))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(straight-use-package 'auto-compile)</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(require 'auto-compile)</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(auto-compile-on-load-mode)</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(auto-compile-on-save-mode)</span>

(<span class="org-keyword">setq-default</span> compilation-scroll-output t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/jwiegley/alert</span>
(straight-use-package 'alert)
(use-package alert
  <span class="org-builtin">:defer</span>    t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">alert-after-compilation-finish</span> (buf result)
    <span class="org-doc">"Use `</span><span class="org-doc"><span class="org-constant">alert</span></span><span class="org-doc">' to report compilation RESULT if BUF is hidden."</span>
    (<span class="org-keyword">when</span> (buffer-live-p buf)
      (<span class="org-keyword">unless</span> (<span class="org-keyword">catch</span> '<span class="org-constant">is-visible</span>
                (walk-windows (<span class="org-keyword">lambda</span> (w)
                                (<span class="org-keyword">when</span> (eq (window-buffer w) buf)
                                  (<span class="org-keyword">throw</span> '<span class="org-constant">is-visible</span> t))))
                nil)
        (alert (concat <span class="org-string">"Compilation "</span> result)
               <span class="org-builtin">:buffer</span> buf
               <span class="org-builtin">:category</span> 'compilation)))))


(use-package compile
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defvar</span> <span class="org-variable-name">nasy/last-compilation-buffer</span> nil
    <span class="org-doc">"The last buffer in which compilation took place."</span>)

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/save-compilation-buffer</span> (<span class="org-type">&amp;rest</span> _)
    <span class="org-doc">"Save the compilation buffer to find it later."</span>
    (<span class="org-keyword">setq</span> nasy/last-compilation-buffer next-error-last-buffer))
  (advice-add 'compilation-start <span class="org-builtin">:after</span> 'nasy/save-compilation-buffer)

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/find-prev-compilation</span> (orig <span class="org-type">&amp;rest</span> args)
    <span class="org-doc">"Find the previous compilation buffer, if present, and recompile there."</span>
    (<span class="org-keyword">if</span> (<span class="org-keyword">and</span> (null edit-command)
             (not (derived-mode-p 'compilation-mode))
             nasy:last-compilation-buffer
             (buffer-live-p (get-buffer nasy/last-compilation-buffer)))
        (<span class="org-keyword">with-current-buffer</span> nasy/last-compilation-buffer
          (apply orig args))
      (apply orig args)))
  <span class="org-builtin">:bind</span> (([f6] . recompile))
  <span class="org-builtin">:hook</span> ((compilation-finish-functions . alert-after-compilation-finish)))

(use-package ansi-color
  <span class="org-builtin">:defer</span>    t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">colourise-compilation-buffer</span> ()
    (<span class="org-keyword">when</span> (eq major-mode 'compilation-mode)
      (ansi-cOLOR-APPLY-on-region compilation-filter-start (point-max))))
  <span class="org-builtin">:hook</span> ((compilation-filter . colourise-compilation-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0ae72bd" class="outline-5">
<h5 id="org0ae72bd">Auto Compression</h5>
<div class="outline-text-5" id="text-org0ae72bd">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">require</span> '<span class="org-constant">jka-compr</span>)
(auto-compression-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org12c89d5" class="outline-5">
<h5 id="org12c89d5">History, Saving and Session</h5>
<div class="outline-text-5" id="text-org12c89d5">
<div class="org-src-container">
<pre class="src src-elisp">(gsetq desktop-path              (list user-emacs-directory no-littering-var-directory)
       desktop-dirname           (list user-emacs-directory no-littering-var-directory)
       desktop-auto-save-timeout 600)
(desktop-save-mode t)
(gsetq desktop-save 'if-exists)


(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/desktop-time-restore</span> (orig <span class="org-type">&amp;rest</span> args)
  (<span class="org-keyword">let</span> ((start-time (current-time)))
    (<span class="org-keyword">prog1</span>
        (apply orig args)
      (message <span class="org-string">"Desktop restored in %.2fms"</span>
               (benchmark-init/time-subtract-millis (current-time)
                                               start-time)))))
(advice-add 'desktop-read <span class="org-builtin">:around</span> 'nasy/desktop-time-restore)

(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/desktop-time-buffer-create</span> (orig ver filename <span class="org-type">&amp;rest</span> args)
  (<span class="org-keyword">let</span> ((start-time (current-time)))
    (<span class="org-keyword">prog1</span>
        (apply orig ver filename args)
      (message <span class="org-string">"Desktop: %.2fms to restore %s"</span>
               (benchmark-init/time-subtract-millis (current-time)
                                               start-time)
               (<span class="org-keyword">when</span> filename
                 (abbreviate-file-name filename))))))
(advice-add 'desktop-create-buffer <span class="org-builtin">:around</span> 'nasy/desktop-time-buffer-create)

(gsetq kill-ring-max 300)

(gsetq history-length 3000
       history-delete-duplicates t
       savehist-additional-variables
       '(mark-ring
         global-mark-ring
         search-ring
         regexp-search-ring
         extended-command-history)
       savehist-autosave-interval 60)

(add-hook #'after-init-hook #'savehist-mode)

(straight-use-package 'session)
(use-package session
  <span class="org-builtin">:defer</span>    t
  <span class="org-builtin">:hook</span> ((after-init . session-initialize))
  <span class="org-builtin">:init</span>
  (gsetq session-save-file (no-littering-expand-var-file-name <span class="org-string">".session"</span>)
         session-name-disable-regexp <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(?:</span></span><span class="org-string">\\`'/tmp</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">\\.git/[A-Z_]+\\'</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>
         session-save-file-coding-system 'utf-8
         desktop-globals-to-save
         (append '((comint-input-ring        . 50)
                   (compile-history          . 30)
                   desktop-missing-file-warning
                   (dired-regexp-history     . 20)
                   (extended-command-history . 30)
                   (face-name-history        . 20)
                   (file-name-history        . 100)
                   (grep-find-history        . 30)
                   (grep-history             . 30)
                   (ivy-history              . 100)
                   (magit-revision-history   . 50)
                   (minibuffer-history       . 50)
                   (org-clock-history        . 50)
                   (org-refile-history       . 50)
                   (org-tags-history         . 50)
                   (query-replace-history    . 60)
                   (read-expression-history  . 60)
                   (regexp-history           . 60)
                   (regexp-search-ring       . 20)
                   register-alist
                   (search-ring              . 20)
                   (shell-command-history    . 50)
                   tags-file-name
                   tags-table-list
                   kill-ring))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ab39e3" class="outline-5">
<h5 id="org8ab39e3">Auto Save (Super Save)</h5>
<div class="outline-text-5" id="text-org8ab39e3">
<p>
I use super save to auto save files.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'super-save)
(use-package super-save
  <span class="org-builtin">:ghook</span> 'after-init-hook
  <span class="org-builtin">:gfhook</span> '(lambda () (remove-hook #'mouse-leave-buffer-hook #'super-save-command))
  <span class="org-builtin">:init</span> (gsetq super-save-auto-save-when-idle nil
               super-save-remote-files        nil
               super-save-hook-triggers       nil
               super-save-triggers
               '(ibuffer other-window windmove-up windmove-down windmove-left windmove-right next-buffer previous-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org987e14b" class="outline-5">
<h5 id="org987e14b">Text Scale</h5>
<div class="outline-text-5" id="text-org987e14b">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'default-text-scale)
(use-package default-text-scale
  <span class="org-builtin">:commands</span> default-text-scale-mode
  <span class="org-builtin">:ghook</span> 'after-init-hook)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfcc75af" class="outline-4">
<h4 id="orgfcc75af">Custom Functions</h4>
<div class="outline-text-4" id="text-orgfcc75af">
</div>
<div id="outline-container-orged2ee20" class="outline-5">
<h5 id="orged2ee20">Reload the init-file</h5>
<div class="outline-text-5" id="text-orged2ee20">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">radian-reload-init</span> ()
  <span class="org-doc">"Reload init.el."</span>
  (<span class="org-keyword">interactive</span>)
  (straight-transaction
    (straight-mark-transaction-as-init)
    (message <span class="org-string">"Reloading init.el..."</span>)
    (load user-init-file nil 'nomessage)
    (message <span class="org-string">"Reloading init.el... done."</span>)))

(<span class="org-keyword">defun</span> <span class="org-function-name">radian-eval-buffer</span> ()
  <span class="org-doc">"Evaluate the current buffer as Elisp code."</span>
  (<span class="org-keyword">interactive</span>)
  (message <span class="org-string">"Evaluating %s..."</span> (buffer-name))
  (straight-transaction
    (<span class="org-keyword">if</span> (null buffer-file-name)
        (eval-buffer)
      (<span class="org-keyword">when</span> (string= buffer-file-name user-init-file)
        (straight-mark-transaction-as-init))
      (load-file buffer-file-name)))
  (message <span class="org-string">"Evaluating %s... done."</span> (buffer-name)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org48c708b" class="outline-5">
<h5 id="org48c708b">Insert Date</h5>
<div class="outline-text-5" id="text-org48c708b">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">nasy:insert-current-date</span> ()
  <span class="org-doc">"Insert current date."</span>
  (<span class="org-keyword">interactive</span>)
  (insert (shell-command-to-string <span class="org-string">"echo -n $(date +'%b %d, %Y')"</span>)))

(<span class="org-keyword">defun</span> <span class="org-function-name">nasy:insert-current-filename</span> ()
  <span class="org-doc">"Insert current buffer filename."</span>
  (<span class="org-keyword">interactive</span>)
  (insert (file-relative-name buffer-file-name)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org619e8cc" class="outline-5">
<h5 id="org619e8cc">Posframe Helper</h5>
<div class="outline-text-5" id="text-org619e8cc">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">posframe-poshandler-frame-top-center</span> (info)
  (cons (/ (- (plist-get info <span class="org-builtin">:parent-frame-width</span>)
              (plist-get info <span class="org-builtin">:posframe-width</span>))
           2)
        (round (* 0.02 (x-display-pixel-height)))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org831c2c9" class="outline-4">
<h4 id="org831c2c9">Window</h4>
<div class="outline-text-4" id="text-org831c2c9">
</div>
<div id="outline-container-org70672b2" class="outline-5">
<h5 id="org70672b2">Ace Window</h5>
<div class="outline-text-5" id="text-org70672b2">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'ace-window)
(use-package ace-window
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-o"</span> . ace-window))
  <span class="org-builtin">:config</span>
  (set-face-attribute
   'aw-leading-char-face nil
   <span class="org-builtin">:foreground</span> <span class="org-string">"deep sky blue"</span>
   <span class="org-builtin">:weight</span> 'bold
   <span class="org-builtin">:height</span> 3.0)
  (set-face-attribute
   'aw-mode-line-face nil
   <span class="org-builtin">:inherit</span> 'mode-line-buffer-id
   <span class="org-builtin">:foreground</span> <span class="org-string">"lawn green"</span>)
  (gsetq-default cursor-in-non-selected-windows 'hollow)
  (gsetq aw-reverse-frame-list t
         aw-keys '(?a ?s ?d ?f ?j ?k ?l)
         aw-dispatch-always t
         aw-dispatch-alist
         '((?w hydra-window-size/body)
           (?o hydra-window-scroll/body)
           (?\; hydra-frame-window/body)
           (?0 delete-frame)
           (?1 delete-other-frames)
           (?2 make-frame)
           (?x aw-delete-window <span class="org-string">"Ace - Delete Window"</span>)
           (?c aw-swap-window <span class="org-string">"Ace - Swap Window"</span>)
           (?n aw-flip-window)
           (?v aw-split-window-vert <span class="org-string">"Ace - Split Vert Window"</span>)
           (?h aw-split-window-horz <span class="org-string">"Ace - Split Horz Window"</span>)
           (?\- aw-split-window-vert <span class="org-string">"Ace - Split Vert Window"</span>)
           (?\| aw-split-window-horz <span class="org-string">"Ace - Split Horz Window"</span>)
           (?m delete-other-windows <span class="org-string">"Ace - Maximize Window"</span>)
           (?g delete-other-windows)
           (?b balance-windows)
           (?u (<span class="org-keyword">lambda</span> ()
                 (<span class="org-keyword">progn</span>
                   (winner-undo)
                   (<span class="org-keyword">setq</span> this-command 'winner-undo)))
               (?r winner-redo))))
  (after! hydra
    (defhydra hydra-window-size (<span class="org-builtin">:color</span> violet)
      <span class="org-string">"Windows size"</span>
      (<span class="org-string">"h"</span> shrink-window-horizontally <span class="org-string">"shrink horizontal"</span>)
      (<span class="org-string">"j"</span> shrink-window <span class="org-string">"shrink vertical"</span>)
      (<span class="org-string">"k"</span> enlarge-window <span class="org-string">"enlarge vertical"</span>)
      (<span class="org-string">"l"</span> enlarge-window-horizontally <span class="org-string">"enlarge horizontal"</span>))
    (defhydra hydra-window-scroll (<span class="org-builtin">:color</span> violet)
      <span class="org-string">"Scroll other window"</span>
      (<span class="org-string">"n"</span> joe-scroll-other-window <span class="org-string">"scroll"</span>)
      (<span class="org-string">"p"</span> joe-scroll-other-window-down <span class="org-string">"scroll down"</span>))
    (defhydra hydra-frame-window (<span class="org-builtin">:color</span> violet <span class="org-builtin">:hint</span> nil)
      <span class="org-string">"</span>
<span class="org-string">^Delete^                       ^Frame resize^             ^Window^                Window Size^^^^^^   ^Text^                         (__)</span>
<span class="org-string">_0_: delete-frame              _g_: resize-frame-right    _t_: toggle               ^ ^ _k_ ^ ^        _K_                           (oo)</span>
<span class="org-string">_1_: delete-other-frames       _H_: resize-frame-left     _e_: ace-swap-win         _h_ ^+^ _l_        ^+^                     /------\\/</span>
<span class="org-string">_2_: make-frame                _F_: fullscreen            ^ ^                       ^ ^ _j_ ^ ^        _J_                    / |    ||</span>
<span class="org-string">_d_: kill-and-delete-frame     _n_: new-frame-right       _w_: ace-delete-window    _b_alance^^^^      ^ ^                   *  /\\---/\\  ~~  C-x f ;</span>
<span class="org-string">"</span>
      (<span class="org-string">"0"</span> delete-frame <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"1"</span> delete-other-frames <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"2"</span> make-frame  <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"b"</span> balance-windows)
      (<span class="org-string">"d"</span> kill-and-delete-frame <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"e"</span> ace-swap-window)
      (<span class="org-string">"F"</span> toggle-frame-fullscreen)   <span class="org-comment-delimiter">;; </span><span class="org-comment">is &lt;f11&gt;</span>
      (<span class="org-string">"g"</span> resize-frame-right <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"H"</span> resize-frame-left <span class="org-builtin">:exit</span> t)  <span class="org-comment-delimiter">;; </span><span class="org-comment">aw-dispatch-alist uses h, I rebind here so hjkl can be used for size</span>
      (<span class="org-string">"n"</span> new-frame-right <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"r"</span> reverse-windows)
      (<span class="org-string">"t"</span> toggle-window-spilt)
      (<span class="org-string">"w"</span> ace-delete-window <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"x"</span> delete-frame <span class="org-builtin">:exit</span> t)
      (<span class="org-string">"K"</span> text-scale-decrease)
      (<span class="org-string">"J"</span> text-scale-increase)
      (<span class="org-string">"h"</span> shrink-window-horizontally)
      (<span class="org-string">"k"</span> shrink-window)
      (<span class="org-string">"j"</span> enlarge-window)
      (<span class="org-string">"l"</span> enlarge-window-horizontally)))
  (ace-window-display-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7652885" class="outline-5">
<h5 id="org7652885">Switch-Window</h5>
<div class="outline-text-5" id="text-org7652885">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'switch-window)
(use-package switch-window
  <span class="org-builtin">:init</span> (gsetq-default switch-window-shortcut-style 'alphabet
                       switch-window-timeout nil)
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">When splitting window, show (other-buffer) in the new window</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">split-window-func-with-other-buffer</span> (split-function)
    <span class="org-doc">"Split window with `</span><span class="org-doc"><span class="org-constant">SPLIT-FUNCTION</span></span><span class="org-doc">'."</span>
    (<span class="org-keyword">lambda</span> (<span class="org-type">&amp;optional</span> arg)
      <span class="org-doc">"Split this window and switch to the new window unless ARG is provided."</span>
      (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
      (funcall split-function)
      (<span class="org-keyword">let</span> ((target-window (next-window)))
        (set-window-buffer target-window (other-buffer))
        (<span class="org-keyword">unless</span> arg
          (select-window target-window)))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">toggle-delete-other-windows</span> ()
    <span class="org-doc">"Delete other windows in frame if any, or restore previous window config."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">if</span> (<span class="org-keyword">and</span> winner-mode
             (equal (selected-window) (next-window)))
        (winner-undo)
      (delete-other-windows)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">split-window-horizontally-instead</span> ()
    <span class="org-doc">"Kill any other windows and re-split such that the current window is on the top half of the frame."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let</span> ((other-buffer (<span class="org-keyword">and</span> (next-window) (window-buffer (next-window)))))
      (delete-other-windows)
      (split-window-horizontally)
      (<span class="org-keyword">when</span> other-buffer
        (set-window-buffer (next-window) other-buffer))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">split-window-vertically-instead</span> ()
    <span class="org-doc">"Kill any other windows and re-split such that the current window is on the left half of the frame."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let</span> ((other-buffer (<span class="org-keyword">and</span> (next-window) (window-buffer (next-window)))))
      (delete-other-windows)
      (split-window-vertically)
      (<span class="org-keyword">when</span> other-buffer
        (set-window-buffer (next-window) other-buffer))))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Borrowed from http://postmomentum.ch/blog/201304/blog-on-emacs</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/split-window</span>()
    <span class="org-doc">"Split the window to see the most recent buffer in the other window.</span>
<span class="org-doc">  Call a second time to restore the original window configuration."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">if</span> (eq last-command 'nasy-split-window)
        (<span class="org-keyword">progn</span>
          (jump-to-register <span class="org-builtin">:nasy-split-window</span>)
          (<span class="org-keyword">setq</span> this-command 'nasy-unsplit-window))
      (window-configuration-to-register <span class="org-builtin">:nasy/split-window</span>)
      (switch-to-buffer-other-window nil)))

  (general-define-key
   <span class="org-builtin">:prefix</span> <span class="org-string">"C-x"</span>
   <span class="org-string">"1"</span> 'toggle-delete-other-windows
   <span class="org-string">"2"</span> (split-window-func-with-other-buffer 'split-window-vertically)
   <span class="org-string">"3"</span> (split-window-func-with-other-buffer 'split-window-horizontally)
   <span class="org-string">"|"</span> 'split-window-horizontally-instead
   <span class="org-string">"_"</span> 'split-window-vertically-instead
   <span class="org-string">"x"</span> 'nasy/split-window
   <span class="org-string">"o"</span> 'switch-window))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org766bd28" class="outline-4">
<h4 id="org766bd28">Basic</h4>
<div class="outline-text-4" id="text-org766bd28">
</div>
<div id="outline-container-orgf017150" class="outline-5">
<h5 id="orgf017150">Disable Mouse</h5>
<div class="outline-text-5" id="text-orgf017150">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'disable-mouse)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6f24ae2" class="outline-5">
<h5 id="org6f24ae2">Minibuffer</h5>
<div class="outline-text-5" id="text-org6f24ae2">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> enable-recursive-minibuffers t)

(minibuffer-depth-indicate-mode)

<span class="org-comment-delimiter">;; </span><span class="org-comment">https://www.reddit.com/r/emacs/comments/4d8gvt/how_do_i_automatically_close_the_minibuffer_after/</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">helper/kill-minibuffer</span> ()
  <span class="org-doc">"Exit the minibuffer if it is active."</span>
  (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> (&gt;= (recursion-depth) 1)
           (active-minibuffer-window))
    (abort-recursive-edit)))

(add-hook #'mouse-leave-buffer-hook #'helper/kill-minibuffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2ba8da" class="outline-5">
<h5 id="orgc2ba8da">Scratch Message</h5>
<div class="outline-text-5" id="text-orgc2ba8da">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'scratch)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb691c96" class="outline-5">
<h5 id="orgb691c96">Shell &amp; Term</h5>
<div class="outline-text-5" id="text-orgb691c96">
</div>
<div id="outline-container-org074d197" class="outline-6">
<h6 id="org074d197">Shell</h6>
<div class="outline-text-6" id="text-org074d197">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'shell)

(straight-use-package 'cmd-to-echo)


(straight-use-package 'command-log-mode)


(<span class="org-keyword">defun</span> <span class="org-function-name">nasy:shell-command-in-view-mode</span> (start end command <span class="org-type">&amp;optional</span> output-buffer replace <span class="org-type">&amp;rest</span> other-args)
  <span class="org-doc">"Put \"*Shell Command Output*\" buffers into view-mode."</span>
  (<span class="org-keyword">unless</span> (<span class="org-keyword">or</span> output-buffer replace)
    (<span class="org-keyword">with-current-buffer</span> <span class="org-string">"*Shell Command Output*"</span>
      (view-mode 1))))
(advice-add 'shell-command-on-region <span class="org-builtin">:after</span> 'nasy:shell-command-in-view-mode)


(straight-use-package 'exec-path-from-shell)
(use-package exec-path-from-shell
  <span class="org-builtin">:demand</span>   *is-a-mac*
  <span class="org-builtin">:preface</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Non-Forking Shell Command To String</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/bbatsov/projectile/issues/1044</span>
  <span class="org-comment-delimiter">;;</span><span class="org-comment">--------------------------------------------------------------------------</span>

  (<span class="org-keyword">defun</span> <span class="org-function-name">call-process-to-string</span> (program <span class="org-type">&amp;rest</span> args)
    (<span class="org-keyword">with-temp-buffer</span>
      (apply 'call-process program nil (current-buffer) nil args)
      (buffer-string)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">get-call-process-args-from-shell-command</span> (command)
    (<span class="org-keyword">cl-destructuring-bind</span>
        (the-command . args) (split-string command <span class="org-string">" "</span>)
      (<span class="org-keyword">let</span> ((binary-path (executable-find the-command)))
        (<span class="org-keyword">when</span> binary-path
          (cons binary-path args)))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">shell-command-to-string</span> (command)
    (<span class="org-keyword">let</span> ((call-process-args
           (get-call-process-args-from-shell-command command)))
      (<span class="org-keyword">if</span> call-process-args
          (apply 'call-process-to-string call-process-args)
        (shell-command-to-string command))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">try-call-process</span> (command)
    (<span class="org-keyword">let</span> ((call-process-args
           (get-call-process-args-from-shell-command command)))
      (<span class="org-keyword">if</span> call-process-args
          (apply 'call-process-to-string call-process-args))))

  (advice-add 'shell-command-to-string <span class="org-builtin">:before-until</span> 'try-call-process)

  (straight-use-package 'noflet)

  (<span class="org-keyword">defun</span> <span class="org-function-name">call-with-quick-shell-command</span> (fn <span class="org-type">&amp;rest</span> args)
    (noflet ((shell-command-to-string
              (<span class="org-type">&amp;rest</span> args)
              (<span class="org-keyword">or</span> (apply 'try-call-process args) (apply this-fn args))))
            (apply fn args)))

  (advice-add 'projectile-find-file <span class="org-builtin">:around</span> 'call-with-quick-shell-command)
  <span class="org-builtin">:init</span> (gsetq shell-command-switch <span class="org-string">"-ic"</span>)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">when</span> nil (message <span class="org-string">"PATH: %s, INFO: %s"</span> (getenv <span class="org-string">"PATH"</span>)
                     (getenv <span class="org-string">"ENVIRONMENT_SETUP_DONE"</span>))
        (<span class="org-keyword">setq</span> exec-path-from-shell-debug t))
  (gsetq exec-path-from-shell-arguments (list <span class="org-string">"-l"</span>)
         exec-path-from-shell-check-startup-files nil)
  (add-to-list 'exec-path-from-shell-variables <span class="org-string">"SHELL"</span>)
  (add-to-list 'exec-path-from-shell-variables <span class="org-string">"GOPATH"</span>)
  (add-to-list 'exec-path-from-shell-variables <span class="org-string">"ENVIRONMENT_SETUP_DONE"</span>)
  (add-to-list 'exec-path-from-shell-variables <span class="org-string">"PYTHONPATH"</span>)
  (add-to-list 'exec-path-from-shell-variables <span class="org-string">"PKG_CONFIG_PATH"</span>)
  (exec-path-from-shell-initialize)
  (add-to-list 'exec-path <span class="org-string">"~/.pyenv/shims/"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org84f6968" class="outline-6">
<h6 id="org84f6968">Term</h6>
<div class="outline-text-6" id="text-org84f6968">
<p>
Emacs libvterm intergration
</p>

<p>
<a href="https://github.com/akermu/emacs-libvterm">https://github.com/akermu/emacs-libvterm</a>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *vterm*
  (<span class="org-keyword">progn</span>
    (add-to-list 'load-path *vterm*)
    (<span class="org-keyword">let</span> (vterm-install)
      (<span class="org-keyword">require</span> '<span class="org-constant">vterm</span>))))
</pre>
</div>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc73d5e8" class="outline-3">
<h3 id="orgc73d5e8">Editor</h3>
<div class="outline-text-3" id="text-orgc73d5e8">
<p>
Here is the editor config, including some features and functions.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;;</span><span class="org-comment">----------------------------------------------------------------------------</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Editor</span>
<span class="org-comment-delimiter">;;</span><span class="org-comment">----------------------------------------------------------------------------</span>
</pre>
</div>
</div>

<div id="outline-container-orga63db03" class="outline-4">
<h4 id="orga63db03">Diminish</h4>
<div class="outline-text-4" id="text-orga63db03">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'diminish)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcacfb7e" class="outline-4">
<h4 id="orgcacfb7e">FLX</h4>
<div class="outline-text-4" id="text-orgcacfb7e">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'flx)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge008915" class="outline-4">
<h4 id="orge008915">Advance Words Count</h4>
<div class="outline-text-4" id="text-orge008915">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package '(advance-words-count <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"LdBeth/advance-words-count.el"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaebedff" class="outline-4">
<h4 id="orgaebedff">Anzu</h4>
<div class="outline-text-4" id="text-orgaebedff">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'anzu)
(use-package anzu
  <span class="org-builtin">:defer</span>    t
  <span class="org-builtin">:hook</span> ((after-init . global-anzu-mode))
  <span class="org-builtin">:bind</span> ([remap query-replace] . anzu-query-replace-regexp))
</pre>
</div>
</div>
</div>

<div id="outline-container-org42bc989" class="outline-4">
<h4 id="org42bc989">Auto Insert</h4>
<div class="outline-text-4" id="text-org42bc989">
<div class="org-src-container">
<pre class="src src-elisp">(use-package autoinsert
  <span class="org-builtin">:init</span>
  (define-auto-insert
    '(<span class="org-string">"\\.py"</span> . <span class="org-string">"Python Language"</span>)
    '(<span class="org-string">"Python Language"</span>
      <span class="org-string">"#!/usr/bin/env python3\n"</span>
      <span class="org-string">"# -*- coding: utf-8 -*-\n\n"</span>
      <span class="org-string">"r\"\"\"\n"</span>
      <span class="org-string">"Life's pathetic, have fun (\"&#9620;&#9633;&#9620;)/hi~&#9825; Nasy.\n\n"</span>
      <span class="org-string">"Excited without bugs::\n\n"</span>
      <span class="org-string">"    |             *         *\n"</span>
      <span class="org-string">"    |                  .                .\n"</span>
      <span class="org-string">"    |           .\n"</span>
      <span class="org-string">"    |     *                      ,\n"</span>
      <span class="org-string">"    |                   .\n"</span>
      <span class="org-string">"    |\n"</span>
      <span class="org-string">"    |                               *\n"</span>
      <span class="org-string">"    |          |\\___/|\n"</span>
      <span class="org-string">"    |          )    -(             .              &#183;\n"</span>
      <span class="org-string">"    |         =\\ -   /=\n"</span>
      <span class="org-string">"    |           )===(       *\n"</span>
      <span class="org-string">"    |          /   - \\\n"</span>
      <span class="org-string">"    |          |-    |\n"</span>
      <span class="org-string">"    |         /   -   \\     0.|.0\n"</span>
      <span class="org-string">"    |  NASY___\\__( (__/_____(\\=/)__+1s____________\n"</span>
      <span class="org-string">"    |  ______|____) )______|______|______|______|_\n"</span>
      <span class="org-string">"    |  ___|______( (____|______|______|______|____\n"</span>
      <span class="org-string">"    |  ______|____\\_|______|______|______|______|_\n"</span>
      <span class="org-string">"    |  ___|______|______|______|______|______|____\n"</span>
      <span class="org-string">"    |  ______|______|______|______|______|______|_\n"</span>
      <span class="org-string">"    |  ___|______|______|______|______|______|____\n\n"</span>
      <span class="org-string">"author   : Nasy https://nasy.moe\n"</span>
      <span class="org-string">"date     : "</span> (format-time-string <span class="org-string">"%b %e, %Y"</span>) \n
      <span class="org-string">"email    : Nasy <a href="mailto:nasyxx+python%40gmail.com">&lt;nasyxx+python@gmail.com&gt;</a>"</span> \n
      <span class="org-string">"filename : "</span> (file-name-nondirectory (buffer-file-name)) \n
      <span class="org-string">"project  : "</span> (file-name-nondirectory (directory-file-name (<span class="org-keyword">or</span> projectile-project-root default-directory))) \n
      <span class="org-string">"license  : GPL-3.0+\n\n"</span>
      <span class="org-string">"At pick'd leisure\n"</span>
      <span class="org-string">"  Which shall be shortly, single I'll resolve you,\n"</span>
      <span class="org-string">"Which to you shall seem probable, of every\n"</span>
      <span class="org-string">"  These happen'd accidents\n"</span>
      <span class="org-string">"                          -- The Tempest\n"</span>
      <span class="org-string">"\"\"\"\n"</span>))

  (define-auto-insert
    '(<span class="org-string">"\\.hs"</span> . <span class="org-string">"Haskell Language"</span>)
    '(<span class="org-string">"Haskell Language"</span>
      <span class="org-string">"{-\n"</span>
      <span class="org-string">" Excited without bugs, have fun (\"&#9620;&#9633;&#9620;)/hi~&#9825; Nasy.\n"</span>
      <span class="org-string">" ------------------------------------------------\n"</span>
      <span class="org-string">" |             *         *\n"</span>
      <span class="org-string">" |                  .                .\n"</span>
      <span class="org-string">" |           .\n"</span>
      <span class="org-string">" |     *                      ,\n"</span>
      <span class="org-string">" |                   .\n"</span>
      <span class="org-string">" |\n"</span>
      <span class="org-string">" |                               *\n"</span>
      <span class="org-string">" |          |\\___/|\n"</span>
      <span class="org-string">" |          )    -(             .              &#183;\n"</span>
      <span class="org-string">" |         =\\ -   /=\n"</span>
      <span class="org-string">" |           )===(       *\n"</span>
      <span class="org-string">" |          /   - \\\n"</span>
      <span class="org-string">" |          |-    |\n"</span>
      <span class="org-string">" |         /   -   \\     0.|.0\n"</span>
      <span class="org-string">" |  NASY___\\__( (__/_____(\\=/)__+1s____________\n"</span>
      <span class="org-string">" |  ______|____) )______|______|______|______|_\n"</span>
      <span class="org-string">" |  ___|______( (____|______|______|______|____\n"</span>
      <span class="org-string">" |  ______|____\\_|______|______|______|______|_\n"</span>
      <span class="org-string">" |  ___|______|______|______|______|______|____\n"</span>
      <span class="org-string">" |  ______|______|______|______|______|______|_\n"</span>
      <span class="org-string">" |  ___|______|______|______|______|______|____\n\n"</span>
      <span class="org-string">" At pick'd leisure\n"</span>
      <span class="org-string">"   Which shall be shortly, single I'll resolve you,\n"</span>
      <span class="org-string">" Which to you shall seem probable, of every\n"</span>
      <span class="org-string">"   These happen'd accidents\n"</span>
      <span class="org-string">"                           -- The Tempest\n"</span>
      <span class="org-string">"--------------------------------------------------------------------------------\n\n-}\n\n"</span>
      <span class="org-string">"--------------------------------------------------------------------------------\n-- |\n"</span>
      <span class="org-string">"-- Filename   : "</span> (file-name-nondirectory (buffer-file-name)) \n
      <span class="org-string">"-- Project    : "</span> (file-name-nondirectory (directory-file-name (<span class="org-keyword">or</span> projectile-project-root default-directory))) \n
      <span class="org-string">"-- Author     : Nasy\n"</span>
      <span class="org-string">"-- License    : GPL-3.0+\n--\n"</span>
      <span class="org-string">"-- Maintainer : Nasy <a href="mailto:nasyxx+haskell%40gmail.com">&lt;nasyxx+haskell@gmail.com&gt;</a>\n"</span>
      <span class="org-string">"--\n--\n--\n--------------------------------------------------------------------------------\n"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2a60d66" class="outline-4">
<h4 id="org2a60d66">Beacon (Disabled)</h4>
<div class="outline-text-4" id="text-org2a60d66">
<div class="org-src-container">
<pre class="src src-elisp">(use-package beacon
  <span class="org-builtin">:disabled</span> t
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:init</span> (<span class="org-keyword">setq</span> beacon-size  7
              beacon-color <span class="org-string">"#f85e9f"</span>)
  <span class="org-builtin">:hook</span> ((after-init . beacon-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd04691f" class="outline-4">
<h4 id="orgd04691f">Beginend</h4>
<div class="outline-text-4" id="text-orgd04691f">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'beginend)
(use-package beginend
  <span class="org-builtin">:hook</span> ((after-init . beginend-global-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org995bb73" class="outline-4">
<h4 id="org995bb73">Carbon Now sh</h4>
<div class="outline-text-4" id="text-org995bb73">
<p>
Emacs to carbon.now.sh integration.
</p>

<p>
<a href="https://github.com/veelenga/carbon-now-sh.el">https://github.com/veelenga/carbon-now-sh.el</a>
</p>

<p>
Try:  <kbd>M-x</kbd> <kbd>carbon-now-sh</kbd> <kbd>RET</kbd> 
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Emacs to carbon.now.sh integration</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/veelenga/carbon-now-sh.el</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(carbon-now-sh)</span>
(straight-use-package 'carbon-now-sh)
</pre>
</div>
</div>
</div>

<div id="outline-container-org532c8fc" class="outline-4">
<h4 id="org532c8fc">Cheat Sh</h4>
<div class="outline-text-4" id="text-org532c8fc">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'cheat-sh)
</pre>
</div>
</div>
</div>

<div id="outline-container-org376829d" class="outline-4">
<h4 id="org376829d">Company</h4>
<div class="outline-text-4" id="text-org376829d">
</div>
<div id="outline-container-orgff65705" class="outline-5">
<h5 id="orgff65705">Company</h5>
<div class="outline-text-5" id="text-orgff65705">
</div>
<div id="outline-container-orgdb73e85" class="outline-6">
<h6 id="orgdb73e85">Preface Functions</h6>
<div class="outline-text-6" id="text-orgdb73e85">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Borrow from doom emacs.</span>
(<span class="org-keyword">defvar</span> <span class="org-variable-name">nasy/company-backend-alist</span>
 '((text-mode company-dabbrev company-yasnippet company-ispell company-files)
   (prog-mode company-capf company-yasnippet company-files)
   (conf-mode company-capf company-dabbrev-code company-yasnippet company-files))
 <span class="org-doc">"An alist matching modes to company backends. The backends for any mode is</span>
<span class="org-doc">built from this."</span>)


(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/add-company-backend</span> (modes <span class="org-type">&amp;rest</span> backends)
 <span class="org-doc">"Prepends BACKENDS (in order) to `</span><span class="org-doc"><span class="org-constant">company-backends</span></span><span class="org-doc">' in MODES.</span>
<span class="org-doc">MODES should be one symbol or a list of them, representing major or minor modes.</span>
<span class="org-doc">This will overwrite backends for MODES on consecutive uses.</span>
<span class="org-doc">If the car of BACKENDS is nil, unset the backends for MODES.</span>
<span class="org-doc">Examples:</span>
<span class="org-doc"> (nasy/add-company-backend 'js2-mode</span>
<span class="org-doc">   'company-tide 'company-yasnippet)</span>
<span class="org-doc"> (nasy/add-company-backend 'sh-mode</span>
<span class="org-doc">   '(company-shell :with company-yasnippet))</span>
<span class="org-doc"> (nasy/add-company-backend '(c-mode c++-mode)</span>
<span class="org-doc">   '(:separate company-irony-c-headers company-irony))</span>
<span class="org-doc"> (nasy/add-company-backend 'sh-mode nil)  ; unsets backends for sh-mode"</span>
 (<span class="org-keyword">declare</span> (indent defun))
 (<span class="org-keyword">dolist</span> (mode (nasy-enlist modes))
   (<span class="org-keyword">if</span> (null (car backends))
       (<span class="org-keyword">setq</span> nasy/company-backend-alist
             (delq (assq mode nasy/company-backend-alist)
                   nasy/company-backend-alist))
     (<span class="org-keyword">setf</span> (alist-get mode nasy/company-backend-alist)
           backends))))

(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-backends</span> ()
 (<span class="org-keyword">let</span> (backends)
   (<span class="org-keyword">let</span> ((mode major-mode)
         (modes (list major-mode)))
     (<span class="org-keyword">while</span> (<span class="org-keyword">setq</span> mode (get mode 'derived-mode-parent))
       (<span class="org-keyword">push</span> mode modes))
     (<span class="org-keyword">dolist</span> (mode modes)
       (<span class="org-keyword">dolist</span> (backend (append (cdr (assq mode nasy/company-backend-alist))
                                (default-value 'company-backends)))
         (<span class="org-keyword">push</span> backend backends)))
     (delete-dups
      (append (<span class="org-keyword">cl-loop</span> for (mode . backends) in nasy/company-backend-alist
                       if (<span class="org-keyword">or</span> (eq major-mode mode)  <span class="org-comment-delimiter">; </span><span class="org-comment">major modes</span>
                              (<span class="org-keyword">and</span> (boundp mode)
                                   (symbol-value mode))) <span class="org-comment-delimiter">; </span><span class="org-comment">minor modes</span>
                       append backends)
              (nreverse backends))))))


(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-init-backends-h</span> ()
 <span class="org-doc">"Set `</span><span class="org-doc"><span class="org-constant">company-backends</span></span><span class="org-doc">' for the current buffer."</span>
 (<span class="org-keyword">if</span> (not company-mode)
     (remove-hook 'change-major-mode-after-body-hook #'nasy/company-init-backends-h 'local)
   (<span class="org-keyword">unless</span> (eq major-mode 'fundamental-mode)
     (<span class="org-keyword">setq-local</span> company-backends (nasy/company-backends)))
   (add-hook 'change-major-mode-after-body-hook #'nasy/company-init-backends-h nil 'local)))

(put 'nasy/company-init-backends-h 'permanent-local-hook t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0ec6fe6" class="outline-6">
<h6 id="org0ec6fe6">Company Mode</h6>
<div class="outline-text-6" id="text-org0ec6fe6">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company)
(use-package company
  <span class="org-builtin">:commands</span> (nasy/company-backends
             nasy/company-init-backends-h
             nasy/company-has-completion-p
             nasy/company-toggle-auto-completion
             nasy/company-complete
             nasy/company-dabbrev
             nasy/company-whole-lines
             nasy/company-dict-or-keywords
             nasy/company-dabbrev-code-previous)
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-has-completion-p</span> ()
    <span class="org-doc">"Return non-nil if a completion candidate exists at point."</span>
    (<span class="org-keyword">and</span> (company-manual-begin)
         (= company-candidates-length 1)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-toggle-auto-completion</span> ()
    <span class="org-doc">"Toggle as-you-type code completion."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">require</span> '<span class="org-constant">company</span>)
    (<span class="org-keyword">setq</span> company-idle-delay (<span class="org-keyword">unless</span> company-idle-delay 0.2))
    (message <span class="org-string">"Auto completion %s"</span>
             (<span class="org-keyword">if</span> company-idle-delay <span class="org-string">"enabled"</span> <span class="org-string">"disabled"</span>)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-complete</span> ()
    <span class="org-doc">"Bring up the completion popup. If only one result, complete it."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">require</span> '<span class="org-constant">company</span>)
    (<span class="org-keyword">when</span> (<span class="org-keyword">ignore-errors</span>
            (/= (point)
                (cdr (bounds-of-thing-at-point 'symbol))))
      (<span class="org-keyword">save-excursion</span> (insert <span class="org-string">" "</span>)))
    (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> (company-manual-begin)
               (= company-candidates-length 1))
      (company-complete-common)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-dabbrev</span> ()
    <span class="org-doc">"Invokes `</span><span class="org-doc"><span class="org-constant">company-dabbrev-code</span></span><span class="org-doc">' in prog-mode buffers and `</span><span class="org-doc"><span class="org-constant">company-dabbrev</span></span><span class="org-doc">'</span>
<span class="org-doc">  everywhere else."</span>
    (<span class="org-keyword">interactive</span>)
    (call-interactively
     (<span class="org-keyword">if</span> (derived-mode-p 'prog-mode)
         #'company-dabbrev-code
       #'company-dabbrev)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-whole-lines</span> (command <span class="org-type">&amp;optional</span> arg <span class="org-type">&amp;rest</span> ignored)
    <span class="org-doc">"`</span><span class="org-doc"><span class="org-constant">company-mode</span></span><span class="org-doc">' completion backend that completes whole-lines, akin to vim's</span>
<span class="org-doc">  C-x C-l."</span>
    (<span class="org-keyword">interactive</span> (list 'interactive))
    (<span class="org-keyword">require</span> '<span class="org-constant">company</span>)
    (<span class="org-keyword">pcase</span> command
      (`interactive (company-begin-backend 'nasy/company-whole-lines))
      (`prefix      (company-grab-line <span class="org-string">"^[\t\s]*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">.+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> 1))
      (`candidates
       (all-completions
        arg
        (delete-dups
         (split-string
          (replace-regexp-in-string
           <span class="org-string">"^[\t\s]+"</span> <span class="org-string">""</span>
           (concat (buffer-substring-no-properties (point-min) (line-beginning-position))
                   (buffer-substring-no-properties (line-end-position) (point-max))))
          <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\r\n</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">[\n\r]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> t))))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-dict-or-keywords</span> ()
    <span class="org-doc">"`</span><span class="org-doc"><span class="org-constant">company-mode</span></span><span class="org-doc">' completion combining `</span><span class="org-doc"><span class="org-constant">company-dict</span></span><span class="org-doc">' and `</span><span class="org-doc"><span class="org-constant">company-keywords</span></span><span class="org-doc">'."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">require</span> '<span class="org-constant">company-dict</span>)
    (<span class="org-keyword">require</span> '<span class="org-constant">company-keywords</span>)
    (<span class="org-keyword">let</span> ((company-backends '((company-keywords company-dict))))
      (call-interactively #'company-complete)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-dabbrev-code-previous</span> ()
    <span class="org-doc">"TODO"</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">require</span> '<span class="org-constant">company-dabbrev</span>)
    (<span class="org-keyword">let</span> ((company-selection-wrap-around t))
      (call-interactively #'nasy/company-dabbrev)
      (company-select-previous-or-abort)))

  <span class="org-builtin">:init</span>
  (add-to-list 'completion-styles 'initials t)
  (gsetq company-tooltip-limit             10
         company-dabbrev-downcase          nil
         company-dabbrev-ignore-case       t
         company-global-modes
         '(not erc-mode message-mode help-mode gud-mode eshell-mode)
         company-backends                  '(company-capf)
         company-frontends
         '(company-pseudo-tooltip-frontend
           company-echo-metadata-frontend)
         company-dabbrev-other-buffers     'all
         company-tooltip-align-annotations t
         company-minimum-prefix-length     2
         company-idle-delay                .2
         company-tooltip-idle-delay        .2
         company-require-match             'never)
  <span class="org-builtin">:hook</span> ((company-mode . nasy/company-init-backends-h))
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-/"</span>     . company-files)
         (<span class="org-string">"M-C-/"</span>   . nasy/company-complete)
         (<span class="org-string">"C-&lt;tab&gt;"</span> . nasy/company-complete)
         <span class="org-builtin">:map</span> company-mode-map
         (<span class="org-string">"M-/"</span> . nasy/company-complete)
         <span class="org-builtin">:map</span> company-active-map
         (<span class="org-string">"M-/"</span> . company-other-backend)
         (<span class="org-string">"C-n"</span> . company-select-next)
         (<span class="org-string">"C-p"</span> . company-select-previous))
  <span class="org-builtin">:config</span>
  (global-company-mode +1)
  (<span class="org-keyword">defvar</span> <span class="org-variable-name">nasy/prev-whitespace-mode</span> nil)
  (make-variable-buffer-local 'nasy/prev-whitespace-mode)
  (<span class="org-keyword">defvar</span> <span class="org-variable-name">nasy/show-trailing-whitespace</span> nil)
  (make-variable-buffer-local 'nasy/show-trailing-whitespace)
  (<span class="org-keyword">defun</span> <span class="org-function-name">pre-popup-draw</span> ()
    <span class="org-doc">"Turn off whitespace mode before showing company complete tooltip"</span>
    (<span class="org-keyword">if</span> whitespace-mode
        (<span class="org-keyword">progn</span>
          (gsetq my-prev-whitespace-mode t)
          (whitespace-mode -1)))
    (gsetq nasy/show-trailing-whitespace show-trailing-whitespace)
    (gsetq show-trailing-whitespace nil))
  (<span class="org-keyword">defun</span> <span class="org-function-name">post-popup-draw</span> ()
    <span class="org-doc">"Restore previous whitespace mode after showing company tooltip"</span>
    (<span class="org-keyword">if</span> nasy/prev-whitespace-mode
        (<span class="org-keyword">progn</span>
          (whitespace-mode 1)
          (gsetq nasy/prev-whitespace-mode nil)))
    (gsetq show-trailing-whitespace nasy/show-trailing-whitespace))
  (advice-add 'company-pseudo-tooltip-unhide <span class="org-builtin">:before</span> #'pre-popup-draw)
  (advice-add 'company-pseudo-tooltip-hide <span class="org-builtin">:after</span> #'post-popup-draw)

  (<span class="org-keyword">defun</span> <span class="org-function-name">company-backend-with-yas</span> (backends)
    <span class="org-doc">"Add :with company-yasnippet to company BACKENDS.</span>
<span class="org-doc">  Taken from https://github.com/syl20bnr/spacemacs/pull/179."</span>
    (<span class="org-keyword">if</span> (<span class="org-keyword">and</span> (listp backends) (memq 'company-yasnippet backends))
        backends
      (append (<span class="org-keyword">if</span> (consp backends)
                  backends
                (list backends))
              '(<span class="org-builtin">:with</span> company-yasnippet))))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">add yasnippet to all backends</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(gsetq company-backends</span>
  <span class="org-comment-delimiter">;;        </span><span class="org-comment">(mapcar #'company-backend-with-yas company-backends))</span>
  <span class="org-builtin">:diminish</span> company-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5d55bf4" class="outline-5">
<h5 id="org5d55bf4">Company Try Hard</h5>
<div class="outline-text-5" id="text-org5d55bf4">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company-try-hard)
(use-package company-try-hard
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> company-active-map
         (<span class="org-string">"C-z"</span> . company-try-hard)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org108efdb" class="outline-5">
<h5 id="org108efdb">Company Quickhelp</h5>
<div class="outline-text-5" id="text-org108efdb">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company-quickhelp)
(use-package company-quickhelp
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> company-active-map
              (<span class="org-string">"C-c h"</span> . company-quickhelp-manual-begin))
  <span class="org-builtin">:ghook</span> #'after-init-hook
  <span class="org-builtin">:init</span> (gsetq pos-tip-use-relative-coordinates t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org879366c" class="outline-5">
<h5 id="org879366c">Company Tabnine</h5>
<div class="outline-text-5" id="text-org879366c">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company-tabnine)
(gsetq company-tabnine-log-file-path
       (concat company-tabnine-binaries-folder <span class="org-string">"/log"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org640ddd4" class="outline-5">
<h5 id="org640ddd4">Company Math</h5>
<div class="outline-text-5" id="text-org640ddd4">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company-math)
</pre>
</div>
</div>
</div>

<div id="outline-container-org22bc731" class="outline-5">
<h5 id="org22bc731">Company Dict</h5>
<div class="outline-text-5" id="text-org22bc731">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company-dict)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeda68aa" class="outline-5">
<h5 id="orgeda68aa">Company Flx</h5>
<div class="outline-text-5" id="text-orgeda68aa">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company-flx)
(use-package company-flx
  <span class="org-builtin">:ghook</span> #'after-init-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org03d5b1a" class="outline-5">
<h5 id="org03d5b1a">Company Box</h5>
<div class="outline-text-5" id="text-org03d5b1a">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *c-box*
  (straight-use-package 'company-box)
  (use-package company-box
    <span class="org-builtin">:defer</span>    t
    <span class="org-builtin">:after</span> (all-the-icons company)
    <span class="org-builtin">:preface</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-box-icons--yasnippet-fn</span> (candidate)
      (<span class="org-keyword">when</span> (get-text-property 0 'yas-annotation candidate)
        'Yasnippet))

    (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/company-box-icons--elisp-fn</span> (candidate)
      (<span class="org-keyword">when</span> (derived-mode-p 'emacs-lisp-mode)
        (<span class="org-keyword">let</span> ((sym (intern candidate)))
          (<span class="org-keyword">cond</span> ((fboundp sym)  'ElispFunction)
                ((boundp sym)   'ElispVariable)
                ((<span class="org-keyword">featurep</span> <span class="org-constant">sym</span>) 'ElispFeature)
                ((facep sym)    'ElispFace)))))
    <span class="org-builtin">:init</span>
    (<span class="org-keyword">setq</span> company-box-icons-alist 'company-box-icons-all-the-icons)
    <span class="org-builtin">:ghook</span> 'company-mode-hook
    <span class="org-builtin">:config</span>
    (gsetq company-box-show-single-candidate t
           company-box-backends-colors       nil
           company-box-max-candidates        50
           company-box-icons-alist           'company-box-icons-all-the-icons
           company-box-icons-functions
           '(nasy/company-box-icons--yasnippet-fn
             company-box-icons--lsp
             nasy/company-box-icons--elisp-fn
             company-box-icons--acphp)
           company-box-icons-all-the-icons
           `((Unknown       . ,(all-the-icons-material <span class="org-string">"find_in_page"</span>             <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-purple))
             (Text          . ,(all-the-icons-material <span class="org-string">"text_fields"</span>              <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-green))
             (Method        . ,(all-the-icons-material <span class="org-string">"functions"</span>                <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-yellow))
             (Function      . ,(all-the-icons-material <span class="org-string">"functions"</span>                <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-yellow))
             (Constructor   . ,(all-the-icons-material <span class="org-string">"functions"</span>                <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-yellow))
             (Field         . ,(all-the-icons-material <span class="org-string">"functions"</span>                <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-yellow))
             (Variable      . ,(all-the-icons-material <span class="org-string">"adjust"</span>                   <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-blue))
             (Class         . ,(all-the-icons-material <span class="org-string">"class"</span>                    <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-cyan))
             (Interface     . ,(all-the-icons-material <span class="org-string">"settings_input_component"</span> <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-cyan))
             (Module        . ,(all-the-icons-material <span class="org-string">"view_module"</span>              <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-cyan))
             (Property      . ,(all-the-icons-material <span class="org-string">"settings"</span>                 <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-lorange))
             (Unit          . ,(all-the-icons-material <span class="org-string">"straighten"</span>               <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-red))
             (Value         . ,(all-the-icons-material <span class="org-string">"filter_1"</span>                 <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-red))
             (Enum          . ,(all-the-icons-material <span class="org-string">"plus_one"</span>                 <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-lorange))
             (Keyword       . ,(all-the-icons-material <span class="org-string">"filter_center_focus"</span>      <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-lgreen))
             (Snippet       . ,(all-the-icons-material <span class="org-string">"short_text"</span>               <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-lblue))
             (Color         . ,(all-the-icons-material <span class="org-string">"color_lens"</span>               <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-green))
             (File          . ,(all-the-icons-material <span class="org-string">"insert_drive_file"</span>        <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-green))
             (Reference     . ,(all-the-icons-material <span class="org-string">"collections_bookmark"</span>     <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-silver))
             (Folder        . ,(all-the-icons-material <span class="org-string">"folder"</span>                   <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-green))
             (EnumMember    . ,(all-the-icons-material <span class="org-string">"people"</span>                   <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-lorange))
             (Constant      . ,(all-the-icons-material <span class="org-string">"pause_circle_filled"</span>      <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-blue))
             (Struct        . ,(all-the-icons-material <span class="org-string">"streetview"</span>               <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-blue))
             (Event         . ,(all-the-icons-material <span class="org-string">"event"</span>                    <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-yellow))
             (Operator      . ,(all-the-icons-material <span class="org-string">"control_point"</span>            <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-red))
             (TypeParameter . ,(all-the-icons-material <span class="org-string">"class"</span>                    <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-red))
             <span class="org-comment-delimiter">;; </span><span class="org-comment">(Template   . ,(company-box-icons-image "Template.png"))))</span>
             (Yasnippet     . ,(all-the-icons-material <span class="org-string">"short_text"</span>               <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-green))
             (ElispFunction . ,(all-the-icons-material <span class="org-string">"functions"</span>                <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-red))
             (ElispVariable . ,(all-the-icons-material <span class="org-string">"check_circle"</span>             <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-blue))
             (ElispFeature  . ,(all-the-icons-material <span class="org-string">"stars"</span>                    <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-orange))
             (ElispFace     . ,(all-the-icons-material <span class="org-string">"format_paint"</span>             <span class="org-builtin">:height</span> 0.8 <span class="org-builtin">:face</span> 'all-the-icons-pink))))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc061bd1" class="outline-4">
<h4 id="orgc061bd1">Dash</h4>
<div class="outline-text-4" id="text-orgc061bd1">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dash)
</pre>
</div>
</div>
</div>

<div id="outline-container-org04785c7" class="outline-4">
<h4 id="org04785c7">Dash Functional</h4>
<div class="outline-text-4" id="text-org04785c7">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dash-functional)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e699ad" class="outline-4">
<h4 id="org2e699ad">Dired</h4>
<div class="outline-text-4" id="text-org2e699ad">
</div>
<div id="outline-container-orgf2e66b1" class="outline-5">
<h5 id="orgf2e66b1">Dired</h5>
<div class="outline-text-5" id="text-orgf2e66b1">
<div class="org-src-container">
<pre class="src src-elisp">(use-package dired
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">let</span> ((gls (executable-find <span class="org-string">"gls"</span>)))
    (<span class="org-keyword">when</span> gls (<span class="org-keyword">setq</span> insert-directory-program gls)))
  (<span class="org-keyword">setq</span> dired-recursive-deletes 'top)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> dired-mode-map
              ([mouse-2] . dired-find-file             )
              (<span class="org-string">"C-c C-p"</span> . wdired-change-to-wdired-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9bc81df" class="outline-5">
<h5 id="org9bc81df">Diredfl</h5>
<div class="outline-text-5" id="text-org9bc81df">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'diredfl)
(use-package diredfl
  <span class="org-builtin">:after</span> dired
  <span class="org-builtin">:hook</span> ((after-init . diredfl-global-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1751fa" class="outline-5">
<h5 id="orgf1751fa">Uniquify</h5>
<div class="outline-text-5" id="text-orgf1751fa">
<div class="org-src-container">
<pre class="src src-elisp">(use-package uniquify
  <span class="org-builtin">:init</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">nicer naming of buffers for files with identical names</span>
  (gsetq uniquify-buffer-name-style   'reverse
         uniquify-separator           <span class="org-string">" &#8226; "</span>
         uniquify-after-kill-buffer-p t
         uniquify-ignore-buffers-re   <span class="org-string">"^\\*"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4b2a68f" class="outline-5">
<h5 id="org4b2a68f">Diff-hl (only for dired)</h5>
<div class="outline-text-5" id="text-org4b2a68f">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'diff-hl)
(use-package diff-hl
  <span class="org-builtin">:after</span> dired
  <span class="org-builtin">:hook</span> ((dired-mode . diff-hl-dired-mode)
         (magit-post-refresh . diff-hl-magit-post-refresh)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb004d18" class="outline-5">
<h5 id="orgb004d18">Dired Hacks Utils</h5>
<div class="outline-text-5" id="text-orgb004d18">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dired-hacks-utils)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0d907b" class="outline-5">
<h5 id="orge0d907b">Dired Filter</h5>
<div class="outline-text-5" id="text-orge0d907b">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dired-filter)
(use-package dired-filter
  <span class="org-builtin">:after</span>    dired
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> dired-mode-map
              (<span class="org-string">"/"</span> . dired-filter-map))
  <span class="org-builtin">:hook</span> ((dired-mode . dired-filter-mode)
         (dired-mode . dired-filter-group-mode))
  <span class="org-builtin">:init</span> (gsetq dired-filter-revert 'never
               dired-filter-group-saved-groups
               '((<span class="org-string">"default"</span>
                  (<span class="org-string">"Git"</span>
                   (directory . <span class="org-string">".git"</span>)
                   (file . <span class="org-string">".gitignore"</span>))
                  (<span class="org-string">"Directory"</span>
                   (directory))
                  (<span class="org-string">"PDF"</span>
                   (extension . <span class="org-string">"pdf"</span>))
                  (<span class="org-string">"LaTeX"</span>
                   (extension <span class="org-string">"tex"</span> <span class="org-string">"bib"</span>))
                  (<span class="org-string">"Source"</span>
                   (extension <span class="org-string">"c"</span> <span class="org-string">"cpp"</span> <span class="org-string">"hs"</span> <span class="org-string">"rb"</span> <span class="org-string">"py"</span> <span class="org-string">"r"</span> <span class="org-string">"cs"</span> <span class="org-string">"el"</span> <span class="org-string">"lisp"</span> <span class="org-string">"html"</span> <span class="org-string">"js"</span> <span class="org-string">"css"</span>))
                  (<span class="org-string">"Doc"</span>
                   (extension <span class="org-string">"md"</span> <span class="org-string">"rst"</span> <span class="org-string">"txt"</span>))
                  (<span class="org-string">"Org"</span>
                   (extension . <span class="org-string">"org"</span>))
                  (<span class="org-string">"Archives"</span>
                   (extension <span class="org-string">"zip"</span> <span class="org-string">"rar"</span> <span class="org-string">"gz"</span> <span class="org-string">"bz2"</span> <span class="org-string">"tar"</span>))
                  (<span class="org-string">"Images"</span>
                   (extension <span class="org-string">"jpg"</span> <span class="org-string">"JPG"</span> <span class="org-string">"webp"</span> <span class="org-string">"png"</span> <span class="org-string">"PNG"</span> <span class="org-string">"jpeg"</span> <span class="org-string">"JPEG"</span> <span class="org-string">"bmp"</span> <span class="org-string">"BMP"</span> <span class="org-string">"TIFF"</span> <span class="org-string">"tiff"</span> <span class="org-string">"gif"</span> <span class="org-string">"GIF"</span>))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org29599e4" class="outline-5">
<h5 id="org29599e4">Dired avfs</h5>
<div class="outline-text-5" id="text-org29599e4">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> (executable-find <span class="org-string">"avfsd"</span>)
  (straight-use-package 'dired-avfs))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1e6b42" class="outline-5">
<h5 id="orgb1e6b42">Dired Rainbow</h5>
<div class="outline-text-5" id="text-orgb1e6b42">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dired-rainbow)
(use-package dired-rainbow
  <span class="org-builtin">:after</span> dired
  <span class="org-builtin">:config</span>
  (dired-rainbow-define-chmod directory <span class="org-string">"#6cb2eb"</span> <span class="org-string">"d.*"</span>)
  (dired-rainbow-define html        <span class="org-string">"#eb5286"</span> (<span class="org-string">"css"</span> <span class="org-string">"less"</span> <span class="org-string">"sass"</span> <span class="org-string">"scss"</span> <span class="org-string">"htm"</span> <span class="org-string">"html"</span> <span class="org-string">"jhtm"</span> <span class="org-string">"mht"</span> <span class="org-string">"eml"</span> <span class="org-string">"mustache"</span> <span class="org-string">"xhtml"</span>))
  (dired-rainbow-define xml         <span class="org-string">"#f2d024"</span> (<span class="org-string">"xml"</span> <span class="org-string">"xsd"</span> <span class="org-string">"xsl"</span> <span class="org-string">"xslt"</span> <span class="org-string">"wsdl"</span> <span class="org-string">"bib"</span> <span class="org-string">"json"</span> <span class="org-string">"msg"</span> <span class="org-string">"pgn"</span> <span class="org-string">"rss"</span> <span class="org-string">"yaml"</span> <span class="org-string">"yml"</span> <span class="org-string">"rdata"</span>))
  (dired-rainbow-define document    <span class="org-string">"#9561e2"</span> (<span class="org-string">"docm"</span> <span class="org-string">"doc"</span> <span class="org-string">"docx"</span> <span class="org-string">"odb"</span> <span class="org-string">"odt"</span> <span class="org-string">"pdb"</span> <span class="org-string">"pdf"</span> <span class="org-string">"ps"</span> <span class="org-string">"rtf"</span> <span class="org-string">"djvu"</span> <span class="org-string">"epub"</span> <span class="org-string">"odp"</span> <span class="org-string">"ppt"</span> <span class="org-string">"pptx"</span>))
  (dired-rainbow-define markdown    <span class="org-string">"#ffed4a"</span> (<span class="org-string">"org"</span> <span class="org-string">"etx"</span> <span class="org-string">"info"</span> <span class="org-string">"markdown"</span> <span class="org-string">"md"</span> <span class="org-string">"mkd"</span> <span class="org-string">"nfo"</span> <span class="org-string">"pod"</span> <span class="org-string">"rst"</span> <span class="org-string">"tex"</span> <span class="org-string">"textfile"</span> <span class="org-string">"txt"</span>))
  (dired-rainbow-define database    <span class="org-string">"#6574cd"</span> (<span class="org-string">"xlsx"</span> <span class="org-string">"xls"</span> <span class="org-string">"csv"</span> <span class="org-string">"accdb"</span> <span class="org-string">"db"</span> <span class="org-string">"mdb"</span> <span class="org-string">"sqlite"</span> <span class="org-string">"nc"</span>))
  (dired-rainbow-define media       <span class="org-string">"#de751f"</span> (<span class="org-string">"mp3"</span> <span class="org-string">"mp4"</span> <span class="org-string">"MP3"</span> <span class="org-string">"MP4"</span> <span class="org-string">"avi"</span> <span class="org-string">"mpeg"</span> <span class="org-string">"mpg"</span> <span class="org-string">"flv"</span> <span class="org-string">"ogg"</span> <span class="org-string">"mov"</span> <span class="org-string">"mid"</span> <span class="org-string">"midi"</span> <span class="org-string">"wav"</span> <span class="org-string">"aiff"</span> <span class="org-string">"flac"</span>))
  (dired-rainbow-define image       <span class="org-string">"#f66d9b"</span> (<span class="org-string">"tiff"</span> <span class="org-string">"tif"</span> <span class="org-string">"cdr"</span> <span class="org-string">"gif"</span> <span class="org-string">"ico"</span> <span class="org-string">"jpeg"</span> <span class="org-string">"jpg"</span> <span class="org-string">"png"</span> <span class="org-string">"psd"</span> <span class="org-string">"eps"</span> <span class="org-string">"svg"</span>))
  (dired-rainbow-define log         <span class="org-string">"#c17d11"</span> (<span class="org-string">"log"</span>))
  (dired-rainbow-define shell       <span class="org-string">"#f6993f"</span> (<span class="org-string">"awk"</span> <span class="org-string">"bash"</span> <span class="org-string">"bat"</span> <span class="org-string">"sed"</span> <span class="org-string">"sh"</span> <span class="org-string">"zsh"</span> <span class="org-string">"vim"</span>))
  (dired-rainbow-define interpreted <span class="org-string">"#38c172"</span> (<span class="org-string">"py"</span> <span class="org-string">"ipynb"</span> <span class="org-string">"rb"</span> <span class="org-string">"pl"</span> <span class="org-string">"t"</span> <span class="org-string">"msql"</span> <span class="org-string">"mysql"</span> <span class="org-string">"pgsql"</span> <span class="org-string">"sql"</span> <span class="org-string">"r"</span> <span class="org-string">"clj"</span> <span class="org-string">"cljs"</span> <span class="org-string">"scala"</span> <span class="org-string">"js"</span>))
  (dired-rainbow-define compiled    <span class="org-string">"#4dc0b5"</span> (<span class="org-string">"asm"</span> <span class="org-string">"cl"</span> <span class="org-string">"lisp"</span> <span class="org-string">"el"</span> <span class="org-string">"c"</span> <span class="org-string">"h"</span> <span class="org-string">"c++"</span> <span class="org-string">"h++"</span> <span class="org-string">"hpp"</span> <span class="org-string">"hxx"</span> <span class="org-string">"m"</span> <span class="org-string">"cc"</span> <span class="org-string">"cs"</span> <span class="org-string">"cp"</span> <span class="org-string">"cpp"</span> <span class="org-string">"go"</span> <span class="org-string">"f"</span> <span class="org-string">"for"</span> <span class="org-string">"ftn"</span> <span class="org-string">"f90"</span> <span class="org-string">"f95"</span> <span class="org-string">"f03"</span> <span class="org-string">"f08"</span> <span class="org-string">"s"</span> <span class="org-string">"rs"</span> <span class="org-string">"hi"</span> <span class="org-string">"hs"</span> <span class="org-string">"pyc"</span> <span class="org-string">".java"</span>))
  (dired-rainbow-define executable  <span class="org-string">"#8cc4ff"</span> (<span class="org-string">"exe"</span> <span class="org-string">"msi"</span>))
  (dired-rainbow-define compressed  <span class="org-string">"#51d88a"</span> (<span class="org-string">"7z"</span> <span class="org-string">"zip"</span> <span class="org-string">"bz2"</span> <span class="org-string">"tgz"</span> <span class="org-string">"txz"</span> <span class="org-string">"gz"</span> <span class="org-string">"xz"</span> <span class="org-string">"z"</span> <span class="org-string">"Z"</span> <span class="org-string">"jar"</span> <span class="org-string">"war"</span> <span class="org-string">"ear"</span> <span class="org-string">"rar"</span> <span class="org-string">"sar"</span> <span class="org-string">"xpi"</span> <span class="org-string">"apk"</span> <span class="org-string">"xz"</span> <span class="org-string">"tar"</span>))
  (dired-rainbow-define packaged    <span class="org-string">"#faad63"</span> (<span class="org-string">"deb"</span> <span class="org-string">"rpm"</span> <span class="org-string">"apk"</span> <span class="org-string">"jad"</span> <span class="org-string">"jar"</span> <span class="org-string">"cab"</span> <span class="org-string">"pak"</span> <span class="org-string">"pk3"</span> <span class="org-string">"vdf"</span> <span class="org-string">"vpk"</span> <span class="org-string">"bsp"</span>))
  (dired-rainbow-define encrypted   <span class="org-string">"#ffed4a"</span> (<span class="org-string">"gpg"</span> <span class="org-string">"pgp"</span> <span class="org-string">"asc"</span> <span class="org-string">"bfe"</span> <span class="org-string">"enc"</span> <span class="org-string">"signature"</span> <span class="org-string">"sig"</span> <span class="org-string">"p12"</span> <span class="org-string">"pem"</span>))
  (dired-rainbow-define fonts       <span class="org-string">"#6cb2eb"</span> (<span class="org-string">"afm"</span> <span class="org-string">"fon"</span> <span class="org-string">"fnt"</span> <span class="org-string">"pfb"</span> <span class="org-string">"pfm"</span> <span class="org-string">"ttf"</span> <span class="org-string">"otf"</span>))
  (dired-rainbow-define partition   <span class="org-string">"#e3342f"</span> (<span class="org-string">"dmg"</span> <span class="org-string">"iso"</span> <span class="org-string">"bin"</span> <span class="org-string">"nrg"</span> <span class="org-string">"qcow"</span> <span class="org-string">"toast"</span> <span class="org-string">"vcd"</span> <span class="org-string">"vmdk"</span> <span class="org-string">"bak"</span>))
  (dired-rainbow-define vc          <span class="org-string">"#0074d9"</span> (<span class="org-string">"git"</span> <span class="org-string">"gitignore"</span> <span class="org-string">"gitattributes"</span> <span class="org-string">"gitmodules"</span>))
  (dired-rainbow-define-chmod executable-unix <span class="org-string">"#38c172"</span> <span class="org-string">"-.*x.*"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9fb9bd3" class="outline-5">
<h5 id="org9fb9bd3">Dired Subtree/ranger</h5>
<div class="outline-text-5" id="text-org9fb9bd3">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dired-subtree)

(straight-use-package 'dired-ranger)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd48880f" class="outline-5">
<h5 id="orgd48880f">Dired Narrow</h5>
<div class="outline-text-5" id="text-orgd48880f">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dired-narrow)
(use-package dired-narrow
  <span class="org-builtin">:after</span>    dired
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> dired-narrow-map
              (<span class="org-string">"&lt;down&gt;"</span>  . dired-narrow-next-file)
              (<span class="org-string">"&lt;up&gt;"</span>    . dired-narrow-previous-file)
              (<span class="org-string">"&lt;right&gt;"</span> . dired-narrow-enter-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2162b3c" class="outline-5">
<h5 id="org2162b3c">Dired Collapse</h5>
<div class="outline-text-5" id="text-org2162b3c">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dired-collapse)
(use-package dired-collapse
  <span class="org-builtin">:ghook</span> 'dired-mode-hook)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5abe336" class="outline-4">
<h4 id="org5abe336">Easy Kill</h4>
<div class="outline-text-4" id="text-org5abe336">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'easy-kill)
(use-package easy-kill
  <span class="org-builtin">:bind</span> (([remap kill-ring-save] . easy-kill)
         ([remap mark-sexp]      . easy-mark)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'thingopt)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge45dbd0" class="outline-4">
<h4 id="orge45dbd0">Eldoc Box</h4>
<div class="outline-text-4" id="text-orge45dbd0">
<p>
Disabled by default due to it causes lots of cpu.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *eldoc-box*
  (straight-use-package 'eldoc-box)
  (use-package eldoc-box
    <span class="org-builtin">:hook</span> ((eldoc-mode . eldoc-box-hover-mode)
           (eldoc-mode . eldoc-box-hover-at-point-mode))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7febe3" class="outline-4">
<h4 id="orgf7febe3">Fill Column</h4>
<div class="outline-text-4" id="text-orgf7febe3">
</div>
<div id="outline-container-org1529294" class="outline-5">
<h5 id="org1529294">Unfill</h5>
<div class="outline-text-5" id="text-org1529294">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'unfill)
(use-package unfill
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-q"</span> . unfill-toggle)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0a9488b" class="outline-5">
<h5 id="org0a9488b">Visual-fill-column</h5>
<div class="outline-text-5" id="text-org0a9488b">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'visual-fill-column)
(use-package visual-fill-column
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">maybe-adjust-visual-fill-column</span> ()
    <span class="org-doc">"Readjust visual fill column when the global font size is modified.</span>
<span class="org-doc">This is helpful for writeroom-mode, in particular."</span>
    (<span class="org-keyword">if</span> visual-fill-column-mode
        (add-hook 'after-setting-font-hook 'visual-fill-column--adjust-window nil t)
      (remove-hook 'after-setting-font-hook 'visual-fill-column--adjust-window t)))
  <span class="org-builtin">:hook</span> ((visual-line-mode        . visual-fill-column-mode        )
         (visual-fill-column-mode . maybe-adjust-visual-fill-column)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org07c9721" class="outline-4">
<h4 id="org07c9721">Find File in Project</h4>
<div class="outline-text-4" id="text-org07c9721">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'find-file-in-project)
(gsetq ffip-use-rust-fd t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9ede9f1" class="outline-4">
<h4 id="org9ede9f1">Flycheck</h4>
<div class="outline-text-4" id="text-org9ede9f1">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'flycheck)
(straight-use-package 'flycheck-package)

(use-package flycheck
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">save-buffer-maybe-show-errors</span> ()
    <span class="org-doc">"Save buffer and show errors if any."</span>
    (<span class="org-keyword">interactive</span>)
    (save-buffer)
    (<span class="org-keyword">when</span> (not flycheck-current-errors)
      (flycheck-list-errors)))
  <span class="org-builtin">:commands</span> (flycheck-mode
             flycheck-next-error
             flycheck-previous-error
             flycheck-add-next-checker)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">:bind (("C-x C-s" . save-buffer-maybe-show-errors))</span>
  <span class="org-builtin">:hook</span> ((after-init . global-flycheck-mode))
  <span class="org-builtin">:init</span> (gsetq flycheck-display-errors-function
               #'flycheck-display-error-messages-unless-error-list
               flycheck-check-syntax-automatically '(save mode-enabled)
               flycheck-display-errors-delay       0.25)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> flycheck-error-list-mode-map
              (<span class="org-string">"C-n"</span>    . flycheck-error-list-next-error)
              (<span class="org-string">"C-p"</span>    . flycheck-error-list-previous-error)
              (<span class="org-string">"RET"</span>    . flycheck-error-list-goto-error)
              ([return] . flycheck-error-list-goto-error))
  <span class="org-builtin">:config</span> (<span class="org-keyword">defalias</span> '<span class="org-function-name">show-error-at-point-soon</span>
            'flycheck-show-error-at-point)
  (add-to-list 'flycheck-emacs-lisp-checkdoc-variables 'sentence-end-double-space))


(use-package flycheck-package
  <span class="org-builtin">:after</span> flycheck
  <span class="org-builtin">:init</span>
  (after! elisp-mode
    (flycheck-package-setup)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a32fd2" class="outline-4">
<h4 id="org1a32fd2">Fuz.el</h4>
<div class="outline-text-4" id="text-org1a32fd2">
<p>
Fast and precise fuzzy scoring/matching utils for Emacs, powered by rust
</p>

<p>
<a href="https://github.com/rustify-emacs/fuz.el">https://github.com/rustify-emacs/fuz.el</a>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'fuz)
(straight-use-package 'helm-fuz)
(use-package fuz
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">load-fuz</span> ()
    <span class="org-doc">"Load fuz.el."</span>
    (<span class="org-keyword">require</span> '<span class="org-constant">fuz</span>)
    (<span class="org-keyword">unless</span> (<span class="org-keyword">require</span> '<span class="org-constant">fuz-core</span> nil t)
      (fuz-build-and-load-dymod)))
  <span class="org-builtin">:hook</span> ((after-init . load-fuz))
  <span class="org-builtin">:config</span>
  (after! helm
    (<span class="org-keyword">require</span> '<span class="org-constant">helm-fuz</span>)
    (helm-fuz-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0e3365" class="outline-4">
<h4 id="orgc0e3365">Grab Mac Link</h4>
<div class="outline-text-4" id="text-orgc0e3365">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'grab-mac-link)
</pre>
</div>
</div>
</div>

<div id="outline-container-org627ab91" class="outline-4">
<h4 id="org627ab91">Grep</h4>
<div class="outline-text-4" id="text-org627ab91">
<div class="org-src-container">
<pre class="src src-elisp">(gsetq-default grep-highlight-matches t
               grep-scroll-output t)

(<span class="org-keyword">when</span> *is-a-mac*
  (gsetq-default locate-command <span class="org-string">"mdfind"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga769df2" class="outline-4">
<h4 id="orga769df2">Highlight</h4>
<div class="outline-text-4" id="text-orga769df2">
</div>
<div id="outline-container-orgbcaab47" class="outline-5">
<h5 id="orgbcaab47">cl-lib-highlight</h5>
<div class="outline-text-5" id="text-orgbcaab47">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'cl-lib-highlight)
(after! emacs-lisp-mode
  (use-package cl-lib-highlight
    <span class="org-builtin">:config</span>
    (cl-lib-highlight-initialize)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb163a01" class="outline-5">
<h5 id="orgb163a01">Color Identifiers Mode</h5>
<div class="outline-text-5" id="text-orgb163a01">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'color-identifiers-mode)
(use-package color-identifiers-mode
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((prog-mode . color-identifiers-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6ed5861" class="outline-5">
<h5 id="org6ed5861">hl-line</h5>
<div class="outline-text-5" id="text-org6ed5861">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'hl-line)
(use-package hl-line
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((after-init . global-hl-line-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd671ab9" class="outline-5">
<h5 id="orgd671ab9">Highlight Indent Guides</h5>
<div class="outline-text-5" id="text-orgd671ab9">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *highlight-indent-guides*
  (straight-use-package 'highlight-indent-guides)
  (use-package highlight-indent-guides
    <span class="org-builtin">:init</span> (gsetq highlight-indent-guides-responsive nil
                 highlight-indent-guides-delay      0.5)
    <span class="org-builtin">:ghook</span> '(prog-mode-hook text-mode-hook org-mode-hook)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org76b426d" class="outline-5">
<h5 id="org76b426d">Rainbow-Mode</h5>
<div class="outline-text-5" id="text-org76b426d">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'rainbow-mode)
(use-package rainbow-mode
  <span class="org-builtin">:hook</span> (((after-init
           text-mode
           org-mode
           css-mode
           html-mode
           prog-mode)<span class="org-warning">. rainbow-mode))</span>
  <span class="org-builtin">:diminish</span> rainbow-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org30ed847" class="outline-4">
<h4 id="org30ed847">Helpful</h4>
<div class="outline-text-4" id="text-org30ed847">
<p>
<a href="https://github.com/Wilfred/helpful">https://github.com/Wilfred/helpful</a>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'helpful)
(use-package helpful
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c C-d"</span> . helpful-at-point))
  <span class="org-builtin">:init</span> (general-define-key
         <span class="org-builtin">:prefix</span> <span class="org-string">"C-h"</span>
         <span class="org-string">"f"</span> 'helpful-callable
         <span class="org-string">"v"</span> 'helpful-variable
         <span class="org-string">"k"</span> 'helpful-key
         <span class="org-string">"F"</span> 'helpful-function
         <span class="org-string">"C"</span> 'helpful-command))
</pre>
</div>
</div>
</div>

<div id="outline-container-org03b82ed" class="outline-4">
<h4 id="org03b82ed">Helm</h4>
<div class="outline-text-4" id="text-org03b82ed">
<p>
<a href="https://github.com/emacs-helm/helm">https://github.com/emacs-helm/helm</a>
</p>
</div>

<div id="outline-container-org7d2b375" class="outline-5">
<h5 id="org7d2b375">Helm</h5>
<div class="outline-text-5" id="text-org7d2b375">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'helm)

(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/helm</span> ()
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let</span> ((helm-ff-transformer-show-only-basename nil)
          helm-source-list)
      (<span class="org-keyword">unless</span> helm-source-buffers-list
        (<span class="org-keyword">setq</span> helm-source-buffers-list
              (helm-make-source <span class="org-string">"Buffers"</span> 'helm-source-buffers)))
      (<span class="org-keyword">cond</span> (
             <span class="org-comment-delimiter">;; </span><span class="org-comment">Just add helm-source-projectile-* in list when current place in project.</span>
             (projectile-project-p)
             (<span class="org-keyword">setq</span> helm-source-list
                   '(
                     <span class="org-comment-delimiter">;; </span><span class="org-comment">helm-source-awesome-tab-group</span>
                     helm-source-projectile-buffers-list
                     helm-source-buffers-list
                     helm-source-recentf
                     helm-source-projectile-files-list)))

            (t
             (<span class="org-keyword">setq</span> helm-source-list
                   '(
                     <span class="org-comment-delimiter">;; </span><span class="org-comment">helm-source-awesome-tab-group</span>
                     helm-source-buffers-list
                     helm-source-recentf))))
      (helm-other-buffer helm-source-list <span class="org-string">"*helm search*"</span>)))

(use-package helm-mode
  <span class="org-builtin">:ghook</span> 'pre-command-hook
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  (general-define-key
     [remap execute-extended-command]    #'helm-M-x
     [remap noop-show-kill-ring]         #'helm-show-kill-ring
     [remap find-library]                #'helm-locate-library
     [remap bookmark-jump]               #'helm-bookmarks
     [remap find-file]                   #'helm-find-files
     [remap locate]                      #'helm-locate
     [remap imenu]                       #'helm-semantic-or-imenu
     [remap noop-show-kill-ring]         #'helm-show-kill-ring
     [remap persp-switch-to-buffer]      #'+helm/workspace-mini
     [remap switch-to-buffer]            #'helm-buffers-list
     [remap projectile-find-file]        #'+helm/projectile-find-file
     [remap projectile-recentf]          #'helm-projectile-recentf
     [remap projectile-switch-project]   #'helm-projectile-switch-project
     [remap projectile-switch-to-buffer] #'helm-projectile-switch-to-buffer
     [remap recentf-open-files]          #'helm-recentf
     [remap yank-pop]                    #'helm-show-kill-ring
     <span class="org-string">"M-b"</span>     'nasy/helm
     <span class="org-string">"C-o"</span>     'helm-occur
     <span class="org-string">"C-x C-f"</span> 'helm-find-files)
  (general-define-key
   <span class="org-builtin">:prefix</span> <span class="org-string">"C-x c"</span>
   <span class="org-string">"x"</span>   'helm-register
   <span class="org-string">"g"</span>   'helm-google-suggest
   <span class="org-string">"M-:"</span> 'helm-eval-expression-with-eldoc)
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'helm-map
   <span class="org-string">"&lt;tab&gt;"</span> 'helm-execute-persistent-action <span class="org-comment-delimiter">; </span><span class="org-comment">rebind tab to run persistent action</span>
   <span class="org-string">"C-i"</span>   'helm-execute-persistent-action <span class="org-comment-delimiter">; </span><span class="org-comment">make TAB works in terminal</span>
   <span class="org-string">"C-z"</span>   'helm-select-action) <span class="org-comment-delimiter">; </span><span class="org-comment">list actions using C-z</span>
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'shell-mode-map
   <span class="org-string">"C-c C-l"</span> 'helm-comint-input-ring)
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'minibuffer-local-map
   <span class="org-string">"C-c C-l"</span> 'helm-minibuffer-history)
  <span class="org-builtin">:config</span>
  (helm-mode +1))

(use-package helm
  <span class="org-builtin">:after</span> helm-mode
  <span class="org-builtin">:hook</span> ((helm-mode . helm-autoresize-mode))
  <span class="org-builtin">:init</span>
  (gsetq helm-M-x-fuzzy-match        t
         helm-buffers-fuzzy-matching t
         helm-recentf-fuzzy-match    t
         helm-imenu-fuzzy-match      t
         helm-locate-fuzzy-match     t
         helm-apropos-fuzzy-match    t
         helm-lisp-fuzzy-completion  t
         helm-allow-mouse            t
         helm-follow-mode-persistent t
         helm-ff-lynx-style-map      t
         helm-bookmark-show-location t)

  (<span class="org-keyword">when</span> (executable-find <span class="org-string">"curl"</span>)
    (gsetq helm-google-suggest-use-curl-p t))

  (gsetq helm-split-window-in-side-p           t
         helm-move-to-line-cycle-in-source     nil
         helm-ff-search-library-in-sexp        t
         helm-scroll-amount                    8
         helm-ff-file-name-history-use-recentf t
         helm-echo-input-in-header-line        t
         helm-source-names-using-follow        '(<span class="org-string">"Buffers"</span> <span class="org-string">"kill-buffer"</span> <span class="org-string">"Occur"</span>))
  <span class="org-builtin">:config</span>
  (add-to-list 'helm-sources-using-default-as-input 'helm-source-man-pages))

(<span class="org-keyword">defvar</span> <span class="org-variable-name">helm-generic-files-map</span> (make-sparse-keymap))

(after! helm-locate
 (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> *is-a-mac*
          (null helm-locate-command)
          (executable-find <span class="org-string">"mdfind"</span>))
   (gsetq helm-locate-command <span class="org-string">"mdfind -name %s"</span>))
 (set-keymap-parent helm-generic-files-map helm-map))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8fb30b5" class="outline-5">
<h5 id="org8fb30b5">Helm Org</h5>
<div class="outline-text-5" id="text-org8fb30b5">
<div class="org-src-container">
<pre class="src src-elisp">(use-package helm-org
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">cl-defun</span> <span class="org-function-name">helm-org-headings-in-buffer</span> ()
    (<span class="org-keyword">interactive</span>)
    (helm <span class="org-builtin">:sources</span> (helm-source-org-headings-for-files
                    (list (projectile-completing-read
                           <span class="org-string">"File to look at headings from: "</span>
                           (projectile-all-project-files))))
          <span class="org-builtin">:candidate-number-limit</span> 99999
          <span class="org-builtin">:buffer</span> <span class="org-string">"*helm org inbuffer*"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9b0b7d0" class="outline-5">
<h5 id="org9b0b7d0">Helm Descbings</h5>
<div class="outline-text-5" id="text-org9b0b7d0">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'helm-descbinds)
(use-package helm-descbinds
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((helm-mode . helm-descbinds-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4619131" class="outline-5">
<h5 id="org4619131">Helm Projectile</h5>
<div class="outline-text-5" id="text-org4619131">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'helm-projectile)
(use-package helm-projectile
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:commands</span> (helm-projectile-find-file
             helm-projectile-recentf
             helm-projectile-switch-project
             helm-projectile-switch-to-buffer
             nasy/helm)
  <span class="org-builtin">:init</span>
  (gsetq projectile-completion-system 'helm)
  (<span class="org-keyword">defvar</span> <span class="org-variable-name">helm-projectile-find-file-map</span> (make-sparse-keymap))
  (after! helm
    (<span class="org-keyword">require</span> '<span class="org-constant">helm-for-files</span>)
    (helm-projectile-on)
    (set-keymap-parent helm-projectile-find-file-map helm-map)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb061d7" class="outline-5">
<h5 id="orgcb061d7">Helm rg</h5>
<div class="outline-text-5" id="text-orgcb061d7">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'helm-rg)
(use-package helm-rg
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'helm-rg-map
   <span class="org-string">"C-c C-e"</span> #'helm-rg--bounce)
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'helm-rg--bounce-mode-map
   <span class="org-string">"q"</span> #'kill-current-buffer
   <span class="org-string">"C-c C-c"</span> (lambda! (helm-rg--bounce-dump) (kill-current-buffer))
   <span class="org-string">"C-x C-c"</span> #'helm-rg--bounce-dump-current-file
   <span class="org-string">"C-c C-k"</span> #'kill-current-buffer))
</pre>
</div>
</div>
</div>

<div id="outline-container-org20b9edc" class="outline-5">
<h5 id="org20b9edc">Helm Dash</h5>
<div class="outline-text-5" id="text-org20b9edc">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'helm-dash)
(use-package helm-dash
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span> (gsetq helm-dash-docsets-path <span class="org-string">"~/.docsets"</span>))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3ade844" class="outline-4">
<h4 id="org3ade844">Htmlize</h4>
<div class="outline-text-4" id="text-org3ade844">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'htmlize)
(use-package htmlize
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span> (gsetq htmlize-pre-style t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge50cee7" class="outline-4">
<h4 id="orge50cee7">Hydra</h4>
<div class="outline-text-4" id="text-orge50cee7">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'hydra)
(use-package hydra
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span>
  (general-define-key
   <span class="org-builtin">:prefix</span> <span class="org-string">"C-x"</span>
   <span class="org-string">"9"</span> 'hydra-unicode/body)
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'dired-mode-map
   <span class="org-string">"."</span> 'hydra-dired/body)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">insert unicode</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy:insert-unicode</span> (unicode-name)
    <span class="org-doc">"Same as C-x 8 enter UNICODE-NAME."</span>
    (insert-char (gethash unicode-name (ucs-names))))
  (defhydra hydra-unicode (<span class="org-builtin">:hint</span> nil)
    <span class="org-string">"</span>
<span class="org-string">    Unicode  _e_ &#8364;  _s_ ZERO WIDTH SPACE</span>
<span class="org-string">             _f_ &#9792;  _o_ &#176;   _m_ &#181;</span>
<span class="org-string">             _r_ &#9794;  _a_ &#8594;   _l_ &#955;</span>
<span class="org-string">    "</span>
    (<span class="org-string">"e"</span> (nasy:insert-unicode <span class="org-string">"EURO SIGN"</span>))
    (<span class="org-string">"r"</span> (nasy:insert-unicode <span class="org-string">"MALE SIGN"</span>))
    (<span class="org-string">"f"</span> (nasy:insert-unicode <span class="org-string">"FEMALE SIGN"</span>))
    (<span class="org-string">"s"</span> (nasy:insert-unicode <span class="org-string">"ZERO WIDTH SPACE"</span>))
    (<span class="org-string">"o"</span> (nasy:insert-unicode <span class="org-string">"DEGREE SIGN"</span>))
    (<span class="org-string">"a"</span> (nasy:insert-unicode <span class="org-string">"RIGHTWARDS ARROW"</span>))
    (<span class="org-string">"m"</span> (nasy:insert-unicode <span class="org-string">"MICRO SIGN"</span>))
    (<span class="org-string">"l"</span> (nasy:insert-unicode <span class="org-string">"GREEK SMALL LETTER LAMBDA"</span>)))


  (defhydra hydra-dired (<span class="org-builtin">:hint</span> nil <span class="org-builtin">:color</span> pink)
    <span class="org-string">"</span>
<span class="org-string">  _+_ mkdir          _v_iew           _m_ark             _(_ details        _i_nsert-subdir    wdired</span>
<span class="org-string">  _C_opy             _O_ view other   _U_nmark all       _)_ omit-mode      _$_ hide-subdir    C-x C-q : edit</span>
<span class="org-string">  _D_elete           _o_pen other     _u_nmark           _l_ redisplay      _w_ kill-subdir    C-c C-c : commit</span>
<span class="org-string">  _R_ename           _M_ chmod        _t_oggle           _g_ revert buf     _e_ ediff          C-c ESC : abort</span>
<span class="org-string">  _Y_ rel symlink    _G_ chgrp        _E_xtension mark   _s_ort             _=_ pdiff</span>
<span class="org-string">  _S_ymlink          ^ ^              _F_ind marked      _._ toggle hydra   \\ flyspell</span>
<span class="org-string">  _r_sync            ^ ^              ^ ^                ^ ^                _?_ summary</span>
<span class="org-string">  _z_ compress-file  _A_ find regexp</span>
<span class="org-string">  _Z_ compress       _Q_ repl regexp</span>

<span class="org-string">  T - tag prefix</span>
<span class="org-string">  "</span>
    (<span class="org-string">"\\"</span> dired-do-ispell)
    (<span class="org-string">"("</span> dired-hide-details-mode)
    (<span class="org-string">")"</span> dired-omit-mode)
    (<span class="org-string">"+"</span> dired-create-directory)
    (<span class="org-string">"="</span> diredp-ediff)         <span class="org-comment-delimiter">;; </span><span class="org-comment">smart diff</span>
    (<span class="org-string">"?"</span> dired-summary)
    (<span class="org-string">"$"</span> diredp-hide-subdir-nomove)
    (<span class="org-string">"A"</span> dired-do-find-regexp)
    (<span class="org-string">"C"</span> dired-do-copy)        <span class="org-comment-delimiter">;; </span><span class="org-comment">Copy all marked files</span>
    (<span class="org-string">"D"</span> dired-do-delete)
    (<span class="org-string">"E"</span> dired-mark-extension)
    (<span class="org-string">"e"</span> dired-ediff-files)
    (<span class="org-string">"F"</span> dired-do-find-marked-files)
    (<span class="org-string">"G"</span> dired-do-chgrp)
    (<span class="org-string">"g"</span> revert-buffer)        <span class="org-comment-delimiter">;; </span><span class="org-comment">read all directories again (refresh)</span>
    (<span class="org-string">"i"</span> dired-maybe-insert-subdir)
    (<span class="org-string">"l"</span> dired-do-redisplay)   <span class="org-comment-delimiter">;; </span><span class="org-comment">relist the marked or singel directory</span>
    (<span class="org-string">"M"</span> dired-do-chmod)
    (<span class="org-string">"m"</span> dired-mark)
    (<span class="org-string">"O"</span> dired-display-file)
    (<span class="org-string">"o"</span> dired-find-file-other-window)
    (<span class="org-string">"Q"</span> dired-do-find-regexp-and-replace)
    (<span class="org-string">"R"</span> dired-do-rename)
    (<span class="org-string">"r"</span> dired-do-rsynch)
    (<span class="org-string">"S"</span> dired-do-symlink)
    (<span class="org-string">"s"</span> dired-sort-toggle-or-edit)
    (<span class="org-string">"t"</span> dired-toggle-marks)
    (<span class="org-string">"U"</span> dired-unmark-all-marks)
    (<span class="org-string">"u"</span> dired-unmark)
    (<span class="org-string">"v"</span> dired-view-file)      <span class="org-comment-delimiter">;; </span><span class="org-comment">q to exit, s to search, = gets line #</span>
    (<span class="org-string">"w"</span> dired-kill-subdir)
    (<span class="org-string">"Y"</span> dired-do-relsymlink)
    (<span class="org-string">"z"</span> diredp-compress-this-file)
    (<span class="org-string">"Z"</span> dired-do-compress)
    (<span class="org-string">"q"</span> nil)
    (<span class="org-string">"."</span> nil <span class="org-builtin">:color</span> blue)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb71def2" class="outline-4">
<h4 id="orgb71def2">iBuffer</h4>
<div class="outline-text-4" id="text-orgb71def2">
</div>
<div id="outline-container-org35be464" class="outline-5">
<h5 id="org35be464">ibuffer</h5>
<div class="outline-text-5" id="text-org35be464">
<div class="org-src-container">
<pre class="src src-elisp">(use-package ibuffer
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-x C-b"</span> . ibuffer))
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">ibuffer-switch-to-normal</span> ()
    <span class="org-doc">"ibuffer swith to normal filter groups."</span>
    (ibuffer-switch-to-saved-filter-groups <span class="org-string">"Normal"</span>))
  <span class="org-builtin">:init</span>
  (gsetq ibuffer-saved-filter-groups
         '((<span class="org-string">"Normal"</span>
            (<span class="org-string">"Dired"</span>      (mode . dired-mode))
            (<span class="org-string">"Emacs"</span>     (<span class="org-keyword">or</span>
                          (name . <span class="org-string">"^\\*dashboard\\*$"</span> )
                          (name . <span class="org-string">"^\\*scratch\\*$"</span>   )
                          (name . <span class="org-string">"^\\*Messages\\*$"</span>  )
                          (name . <span class="org-string">"^\\*Backtrace\\*$"</span> )))
            (<span class="org-string">"Term"</span>       (mode . vterm-mode))
            (<span class="org-string">"Text"</span>      (<span class="org-keyword">or</span>
                          (mode . org-mode)
                          (mode . markdown)
                          (mode . rst-mode)
                          (mode . text-mode)))
            (<span class="org-string">"TeX"</span>        (mode . tex-mode))
            (<span class="org-string">"Languages"</span> (<span class="org-keyword">or</span>
                          (mode . emacs-lisp-mode)
                          (mode . haskell-mode)
                          (mode . javascript-mode)
                          (mode . lisp-mode)
                          (mode . python-mode)
                          (mode . ruby-mode)
                          (mode . rust-mode)
                          (mode . html-mode)
                          (mode . css-mode)
                          (mode . prog-mode)))
            (<span class="org-string">"GNUs"</span>      (<span class="org-keyword">or</span>
                          (mode . message-mode)
                          (mode . bbdb-mode)
                          (mode . mail-mode)
                          (mode . gnus-group-mode)
                          (mode . gnus-summary-mode)
                          (mode . gnus-article-mode)
                          (name . <span class="org-string">"^\\.bbdb$"</span>)
                          (name . <span class="org-string">"^\\.newsrc-dribble"</span>)))
            (<span class="org-string">"Magit"</span>      (name . <span class="org-string">"^magit"</span>))
            (<span class="org-string">"Help"</span>      (<span class="org-keyword">or</span>
                          (name . <span class="org-string">"^\\*Help\\*$"</span>)
                          (name . <span class="org-string">"^\\*Apropos\\*$"</span>)
                          (name . <span class="org-string">"^\\*info\\*$"</span>)
                          (name . <span class="org-string">"^\\*helpful"</span>)))
            (<span class="org-string">"Custom"</span>    (<span class="org-keyword">or</span>
                          (mode . custom-mode)
                          (name . <span class="org-string">"^\\*Customize"</span>)))
            (<span class="org-string">"Helm"</span>       (mode . helm-major-mode))
            ))
         ibuffer-show-empty-filter-groups nil
         ibuffer-default-sorting-mode     'filename/process)
  <span class="org-builtin">:hook</span> ((ibuffer-mode . ibuffer-switch-to-normal)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c021e6" class="outline-5">
<h5 id="org4c021e6">ibuffer vc</h5>
<div class="outline-text-5" id="text-org4c021e6">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'ibuffer-vc)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9068221" class="outline-5">
<h5 id="org9068221">Other settings</h5>
<div class="outline-text-5" id="text-org9068221">
<div class="org-src-container">
<pre class="src src-elisp">(use-package ibuffer
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">define-ibuffer-column</span> size-h
    (<span class="org-builtin">:name</span> <span class="org-string">"Size"</span> <span class="org-builtin">:inline</span> t)
    (file-size-human-readable (buffer-size)))
  (<span class="org-keyword">setq</span>
   ibuffer-formats
   '((mark modified read-only vc-status-mini <span class="org-string">" "</span>
           (name 22 22 <span class="org-builtin">:left</span> <span class="org-builtin">:elide</span>)
           <span class="org-string">" "</span>
           (size-h 9 -1 <span class="org-builtin">:right</span>)
           <span class="org-string">" "</span>
           (mode 12 12 <span class="org-builtin">:left</span> <span class="org-builtin">:elide</span>)
           <span class="org-string">" "</span>
           vc-relative-file)
     (mark modified read-only vc-status-mini <span class="org-string">" "</span>
           (name 22 22 <span class="org-builtin">:left</span> <span class="org-builtin">:elide</span>)
           <span class="org-string">" "</span>
           (size-h 9 -1 <span class="org-builtin">:right</span>)
           <span class="org-string">" "</span>
           (mode 14 14 <span class="org-builtin">:left</span> <span class="org-builtin">:elide</span>)
           <span class="org-string">" "</span>
           (vc-status 12 12 <span class="org-builtin">:left</span>)
           <span class="org-string">" "</span>
           vc-relative-file))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd685613" class="outline-4">
<h4 id="orgd685613">imenu list</h4>
<div class="outline-text-4" id="text-orgd685613">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'imenu-list)
(use-package imenu-list
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-."</span> . imenu-list-smart-toggle))
  <span class="org-builtin">:init</span> (<span class="org-keyword">setq</span> imenu-list-auto-resize t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf71383f" class="outline-4">
<h4 id="orgf71383f">indent-tools</h4>
<div class="outline-text-4" id="text-orgf71383f">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'indent-tools)
(use-package indent-tools
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c TAB"</span> . indent-tools-hydra/body)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orged90882" class="outline-4">
<h4 id="orged90882">iSearch</h4>
<div class="outline-text-4" id="text-orged90882">
<p>
I only use <code>rg</code> to search, so I disabled the key-map of isearch.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(use-package isearch
  <span class="org-builtin">:preface</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Search back/forth for the symbol at point</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">See http://www.emacswiki.org/emacs/SearchAtPoint</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">isearch-yank-symbol</span> ()
    <span class="org-doc">"*Put symbol at current point into search string."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let</span> ((sym (thing-at-point 'symbol)))
      (<span class="org-keyword">if</span> sym
          (<span class="org-keyword">progn</span>
            (<span class="org-keyword">setq</span> isearch-regexp t
                  isearch-string (concat <span class="org-string">"\\_&lt;"</span> (regexp-quote sym) <span class="org-string">"\\_&gt;"</span>)
                  isearch-message (mapconcat 'isearch-text-char-description isearch-string <span class="org-string">""</span>)
                  isearch-yank-flag t))
        (ding)))
    (isearch-search-and-update))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">http://www.emacswiki.org/emacs/ZapToISearch</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">isearch-exit-other-end</span> (rbeg rend)
    <span class="org-doc">"Exit isearch, but at the other end of the search string.</span>
<span class="org-doc">This is useful when followed by an immediate kill."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"r"</span>)
    (isearch-exit)
    (goto-char isearch-other-end))

  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> isearch-mode-map
              ([remap isearch-delete-char] . isearch-del-char)
              (<span class="org-string">"C-M-w"</span>                     . isearch-yank-symbol)
              ([(control return)]              . isearch-exit-other-end)
              (<span class="org-string">"C-c C-o"</span>                   . isearch-occur)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0c64904" class="outline-4">
<h4 id="org0c64904">Ivy, Counsel and Swiper</h4>
<div class="outline-text-4" id="text-org0c64904">
<p>
Now disabled.
</p>
</div>
</div>

<div id="outline-container-org9076257" class="outline-4">
<h4 id="org9076257">Large File</h4>
<div class="outline-text-4" id="text-org9076257">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'vlf)
(use-package vlf
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">ffap-vlf</span> ()
    <span class="org-doc">"Find file at point with VLF."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let</span> ((file (ffap-file-at-point)))
      (<span class="org-keyword">unless</span> (file-exists-p file)
        (<span class="org-warning">error</span> <span class="org-string">"File does not exist: %s"</span> file))
      (vlf file))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfdf13fb" class="outline-4">
<h4 id="orgfdf13fb">Link Hint</h4>
<div class="outline-text-4" id="text-orgfdf13fb">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'link-hint)
(use-package link-hint
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c l o"</span> . link-hint-open-link)
         (<span class="org-string">"C-c l c"</span> . link-hint-copy-link))
  <span class="org-builtin">:config</span>
  (general-define-key
   <span class="org-builtin">:prefix</span> <span class="org-string">"C-c l"</span>)
  <span class="org-string">"o"</span> 'link-hint-open-link
  <span class="org-string">"c"</span> 'link-hint-copy-link)
</pre>
</div>
</div>
</div>

<div id="outline-container-org393d543" class="outline-4">
<h4 id="org393d543">List Unicode Display</h4>
<div class="outline-text-4" id="text-org393d543">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'list-unicode-display)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0b8e5e5" class="outline-4">
<h4 id="org0b8e5e5">mmm-mode</h4>
<div class="outline-text-4" id="text-org0b8e5e5">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'mmm-mode)
(use-package mmm-auto
  <span class="org-builtin">:init</span> (gsetq
         mmm-global-mode
         'buffers-with-submode-classes
         mmm-submode-decoration-level 2))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6add7bc" class="outline-4">
<h4 id="org6add7bc">Multiple Cursors</h4>
<div class="outline-text-4" id="text-org6add7bc">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'multiple-cursors)
(use-package multiple-cursors
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-&lt;"</span>     . mc/mark-previous-like-this)
         (<span class="org-string">"C-&gt;"</span>     . mc/mark-next-like-this)
         (<span class="org-string">"C-+"</span>     . mc/mark-next-like-this)
         (<span class="org-string">"C-c C-&lt;"</span> . mc/mark-all-like-this))
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">From active region to multiple cursors:</span>
  (general-define-key
   <span class="org-builtin">:preface</span> <span class="org-string">"C-c m"</span>
   <span class="org-string">"r"</span> 'set=rectangular-region-anchor
   <span class="org-string">"c"</span> 'mc/edit-lines
   <span class="org-string">"e"</span> 'mc/edit-ends-of-lines
   <span class="org-string">"a"</span> 'mc/edit-beginnings-of-lines))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6fffd1d" class="outline-4">
<h4 id="org6fffd1d">Pangu Spacing</h4>
<div class="outline-text-4" id="text-org6fffd1d">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'pangu-spacing)
(use-package pangu-spacing
  <span class="org-builtin">:init</span> (gsetq pangu-spacing-real-insert-separtor t)
  <span class="org-builtin">:hook</span> ((after-init . global-pangu-spacing-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org196c736" class="outline-4">
<h4 id="org196c736">Paper Break Lines</h4>
<div class="outline-text-4" id="text-org196c736">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'page-break-lines)
(use-package page-break-lines
  <span class="org-builtin">:hook</span> ((after-init . global-page-break-lines-mode))
  <span class="org-builtin">:diminish</span> page-break-lines-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org618ad31" class="outline-4">
<h4 id="org618ad31">Parens</h4>
<div class="outline-text-4" id="text-org618ad31">
<p>
I use <code>smartparens</code>, <code>parinfer</code> with <code>rainbow-delimiters</code> instead of <code>paredit</code>.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(add-hook 'after-init-hook 'show-paren-mode)
</pre>
</div>
</div>

<div id="outline-container-org8075149" class="outline-5">
<h5 id="org8075149">Smartparens</h5>
<div class="outline-text-5" id="text-org8075149">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'smartparens)
(use-package smartparens-config
  <span class="org-builtin">:hook</span> ((after-init . smartparens-global-mode))
  <span class="org-builtin">:init</span> (gsetq sp-hybrid-kill-entire-symbol nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb53e2ce" class="outline-5">
<h5 id="orgb53e2ce">Parinfer</h5>
<div class="outline-text-5" id="text-orgb53e2ce">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'parinfer)
(use-package parinfer
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-,"</span> . parinfer-toggle-mode))
  <span class="org-builtin">:init</span> (gsetq parinfer-auto-switch-indent-mode              t
               parinfer-auto-switch-indent-mode-when-closing t
               parinfer-extensions
               '(defaults       <span class="org-comment-delimiter">;; </span><span class="org-comment">should be included.</span>
                 pretty-parens  <span class="org-comment-delimiter">;; </span><span class="org-comment">different paren styles for different modes.</span>
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">evil           ;; If you use Evil.</span>
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">lispy          ;; If you use Lispy. With this extension, you should install Lispy and do not enable lispy-mode directly.</span>
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">paredit        ;; Introduce some paredit commands.</span>
                 smart-tab      <span class="org-comment-delimiter">;; </span><span class="org-comment">C-b &amp; C-f jump positions and smart shift with tab &amp; S-tab.</span>
                 smart-yank))   <span class="org-comment-delimiter">;; </span><span class="org-comment">Yank behavior depend on mode.</span>
  <span class="org-builtin">:ghook</span> lisp-modes-hooks)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcfe0e3" class="outline-5">
<h5 id="orgdcfe0e3">Rainbow Delimiters</h5>
<div class="outline-text-5" id="text-orgdcfe0e3">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'rainbow-delimiters)
(use-package rainbow-delimiters
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:ghook</span> '(prog-mode-hook text-mode-hook org-src-mode-hook))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3e69a3e" class="outline-4">
<h4 id="org3e69a3e">PDF Tools</h4>
<div class="outline-text-4" id="text-org3e69a3e">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'pdf-tools)
(use-package pdf-tools
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span>
  (gsetq-default pdf-view-display-size 'fit-width)
  (bind-keys <span class="org-builtin">:map</span> pdf-view-mode-map
             (<span class="org-string">"\\"</span> . hydra-pdftools/body)
             (<span class="org-string">"&lt;s-spc&gt;"</span> .  pdf-view-scroll-down-or-next-page)
             (<span class="org-string">"g"</span>  . pdf-view-first-page)
             (<span class="org-string">"G"</span>  . pdf-view-last-page)
             (<span class="org-string">"l"</span>  . image-forward-hscroll)
             (<span class="org-string">"h"</span>  . image-backward-hscroll)
             (<span class="org-string">"j"</span>  . pdf-view-next-page)
             (<span class="org-string">"k"</span>  . pdf-view-previous-page)
             (<span class="org-string">"e"</span>  . pdf-view-goto-page)
             (<span class="org-string">"u"</span>  . pdf-view-revert-buffer)
             (<span class="org-string">"al"</span> . pdf-annot-list-annotations)
             (<span class="org-string">"ad"</span> . pdf-annot-delete)
             (<span class="org-string">"aa"</span> . pdf-annot-attachment-dired)
             (<span class="org-string">"am"</span> . pdf-annot-add-markup-annotation)
             (<span class="org-string">"at"</span> . pdf-annot-add-text-annotation)
             (<span class="org-string">"y"</span>  . pdf-view-kill-ring-save)
             (<span class="org-string">"i"</span>  . pdf-misc-display-metadata)
             (<span class="org-string">"s"</span>  . pdf-occur)
             (<span class="org-string">"b"</span>  . pdf-view-set-slice-from-bounding-box)
             (<span class="org-string">"r"</span>  . pdf-view-reset-slice)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org844d5b9" class="outline-4">
<h4 id="org844d5b9">Pretty</h4>
<div class="outline-text-4" id="text-org844d5b9">
</div>
<div id="outline-container-org1ccfef0" class="outline-5">
<h5 id="org1ccfef0">Pretty Mode</h5>
<div class="outline-text-5" id="text-org1ccfef0">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'pretty-mode)
(use-package pretty-mode
  <span class="org-builtin">:commands</span> (turn-on-pretty-mode global-prettify-symbols-mode)
  <span class="org-builtin">:hook</span> (((text-mode
           org-mode)  <span class="org-warning">. turn-on-pretty-mode)</span>
         (after-init  . global-prettify-symbols-mode)
         (prog-mode . (<span class="org-keyword">lambda</span> () (mapc (<span class="org-keyword">lambda</span> (pair) (<span class="org-keyword">push</span> pair prettify-symbols-alist))
                                  '(<span class="org-comment-delimiter">;; </span><span class="org-comment">Data Type             P N</span>
                                    (<span class="org-string">"Float"</span>  . #x211d)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8477;xxxx</span>
                                    (<span class="org-string">"float"</span>  . #x211d)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8477;xxx</span>
                                    (<span class="org-string">"Int"</span>    . #x2124)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8484;xxx</span>
                                    (<span class="org-string">"int"</span>    . #x2124)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120171;xxx</span>
                                    <span class="org-comment-delimiter">;; </span><span class="org-comment">("String" . #x1d57e)  ;; &#120138; &#120190;</span>
                                    <span class="org-comment-delimiter">;; </span><span class="org-comment">("string" . #x1d598)  ;; &#120164; &#120216;</span>
                                    <span class="org-comment-delimiter">;; </span><span class="org-comment">("str"    . #x1d598)  ;; &#120164; &#120216;</span>
                                    (<span class="org-string">"String"</span> . (#x1d54a (Br . Bl) #x2006))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120138;&#8198;xxxxxx</span>
                                    (<span class="org-string">"string"</span> . (#x1d564 (Br . Bl) #x2006))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120164;&#8198;xxxxxx</span>
                                    (<span class="org-string">"str"</span>    . (#x1d564 (Br . Bl) #x2006))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120164;&#8198;xxxx</span>
                                    (<span class="org-string">"Char"</span>   . #x2102)   <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8450;x</span>
                                    (<span class="org-string">"char"</span>   . (#x1d554 (Br . Bl) #x2006))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120148;&#8198;x</span>

                                    (<span class="org-string">"False"</span>  . #x1d53d)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120177; &#120125;</span>
                                    (<span class="org-string">"True"</span>   . #x1d54b)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120191; &#120139;</span>

                                    (<span class="org-string">"Any"</span>    . #x2203)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8707;</span>
                                    (<span class="org-string">"any"</span>    . #x2203)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8707;</span>
                                    (<span class="org-string">"any_"</span>   . #x2203)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8707;</span>
                                    (<span class="org-string">"And"</span>    . #x22c0)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8896;</span>
                                    (<span class="org-string">"and"</span>    . #x22cf)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8911;</span>
                                    (<span class="org-string">"Or"</span>     . #x22c1)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8897;</span>
                                    (<span class="org-string">"or"</span>     . #x22cE)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8910;</span>
                                    (<span class="org-string">"not"</span>    . #x00ac)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#172;</span>
                                    (<span class="org-string">"not_"</span>   . #x00ac)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#172;</span>

                                    (<span class="org-string">"All"</span>    . #x2200)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8704;</span>
                                    (<span class="org-string">"all"</span>    . #x2200)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8704;</span>
                                    (<span class="org-string">"all_"</span>   . #x2200)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8704;</span>
                                    (<span class="org-string">"for"</span>    . #x2200)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8704;</span>
                                    (<span class="org-string">"forall"</span> . #x2200)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8704;</span>
                                    (<span class="org-string">"forM"</span>   . #x2200)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8704;</span>

                                    (<span class="org-string">"pi"</span>     . #x03c0)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#960;</span>

                                    (<span class="org-string">"sum"</span>    . #x2211)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8721;</span>
                                    (<span class="org-string">"Sum"</span>    . #x2211)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8721;</span>
                                    (<span class="org-string">"Product"</span> . #x220F) <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8719;</span>
                                    (<span class="org-string">"product"</span> . #x220F) <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8719;</span>

                                    (<span class="org-string">"None"</span>   . #x2205)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8709;</span>
                                    (<span class="org-string">"none"</span>   . #x2205)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8709;</span>

                                    (<span class="org-string">"in"</span>     . #x2286)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8838;</span>
                                    (<span class="org-string">"`elem`"</span> . #x2286)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8838;</span>
                                    (<span class="org-string">"not in"</span>    . #x2288)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8840;</span>
                                    (<span class="org-string">"`notElem`"</span> . #x2288)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8840;</span>

                                    (<span class="org-string">"return"</span> . (#x21d2 (Br . Bl) #x2006 (Br . Bl) #x2004))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8658;&#8196;&#8198;x</span>
                                    (<span class="org-string">"yield"</span>  . (#x21d4 (Br . Bl) #x2004))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8660;&#8196;x</span>
                                    (<span class="org-string">"pure"</span>   . (#x21f0 (Br . Bl)))))))          <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8688; x</span>

         ((prog-mode
           emacs-lisp-mode
           org-mode) . (<span class="org-keyword">lambda</span> () (mapc (<span class="org-keyword">lambda</span> (pair) (<span class="org-keyword">push</span> pair prettify-symbols-alist))
                                   '(<span class="org-comment-delimiter">;; </span><span class="org-comment">Global</span>
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Pipes</span>
                                     (<span class="org-string">"&lt;|"</span>  . (?\s (Br . Bl) #Xe14d))
                                     (<span class="org-string">"&lt;&gt;"</span>  . (?\s (Br . Bl) #Xe15b))
                                     (<span class="org-string">"&lt;|&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe14e))
                                     (<span class="org-string">"|&gt;"</span>  . (?\s (Br . Bl) #Xe135))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Brackets</span>
                                     (<span class="org-string">"&lt;*"</span>  . (?\s (Br . Bl) #Xe14b))
                                     (<span class="org-string">"&lt;*&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe14c))
                                     (<span class="org-string">"*&gt;"</span>  . (?\s (Br . Bl) #Xe104))
                                     (<span class="org-string">"&lt;$"</span>  . (?\s (Br . Bl) #Xe14f))
                                     (<span class="org-string">"&lt;$&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe150))
                                     (<span class="org-string">"$&gt;"</span>  . (?\s (Br . Bl) #Xe137))
                                     (<span class="org-string">"&lt;+"</span>  . (?\s (Br . Bl) #Xe155))
                                     (<span class="org-string">"&lt;+&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe156))
                                     (<span class="org-string">"+&gt;"</span>  . (?\s (Br . Bl) #Xe13a))
                                     (<span class="org-string">"[]"</span>  . (#x2005 (Br . Bl) #x1d731 (Br . Bl) #x2005))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Equality</span>
                                     (<span class="org-string">"=/="</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe143))
                                     (<span class="org-string">"/="</span>   . (?\s (Br . Bl) #Xe12c))
                                     (<span class="org-string">"/=="</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe12d))
                                     (<span class="org-string">"/==&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) ?\s (Br . Bl) #Xe13c))
                                     (<span class="org-string">"!==&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) ?\s (Br . Bl) #Xe13c))
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Special</span>
                                     (<span class="org-string">"||="</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe133))
                                     (<span class="org-string">"|="</span>   . (?\s (Br . Bl) #Xe134))
                                     (<span class="org-string">"~="</span>   . (?\s (Br . Bl) #Xe166))
                                     (<span class="org-string">"^="</span>   . (?\s (Br . Bl) #Xe136))
                                     (<span class="org-string">"=:="</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe13b))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Comparisons</span>
                                     (<span class="org-string">"&lt;/"</span>   . (?\s (Br . Bl) #Xe162))
                                     (<span class="org-string">"&lt;/&gt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe163))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Shifts</span>
                                     (<span class="org-string">"=&gt;&gt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe147))
                                     (<span class="org-string">"-&gt;&gt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe147))
                                     (<span class="org-string">"&gt;&gt;&gt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe14a))
                                     (<span class="org-string">"&gt;&gt;&gt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe14a))
                                     (<span class="org-string">"=&lt;&lt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe15c))
                                     (<span class="org-string">"-&lt;&lt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe15c))
                                     (<span class="org-string">"&lt;&lt;&lt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe15f))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Dots</span>
                                     (<span class="org-string">".-"</span>   . (?\s (Br . Bl) #Xe122))
                                     (<span class="org-string">".="</span>   . (?\s (Br . Bl) #Xe123))
                                     (<span class="org-string">"..&lt;"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe125))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Hashes</span>
                                     (<span class="org-string">"#{"</span>   . (?\s (Br . Bl) #Xe119))
                                     (<span class="org-string">"#("</span>   . (?\s (Br . Bl) #Xe11e))
                                     (<span class="org-string">"#_"</span>   . (?\s (Br . Bl) #Xe120))
                                     (<span class="org-string">"#_("</span>  . (?\s (Br . Bl) #Xe121))
                                     (<span class="org-string">"#?"</span>   . (?\s (Br . Bl) #Xe11f))
                                     (<span class="org-string">"#["</span>   . (?\s (Br . Bl) #Xe11a))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">REPEATED CHARACTERS</span>
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">2-Repeats</span>
                                     (<span class="org-string">"!!"</span>   . (?\s (Br . Bl) #Xe10d))
                                     (<span class="org-string">"%%"</span>   . (?\s (Br . Bl) #Xe16a))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">2+3-Repeats</span>
                                     (<span class="org-string">"##"</span>   . (?\s (Br . Bl) #Xe11b))
                                     (<span class="org-string">"###"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe11c))
                                     (<span class="org-string">"####"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe11d))
                                     (<span class="org-string">"---"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe112))
                                     (<span class="org-string">"{-"</span>   . (?\s (Br . Bl) #Xe108))
                                     (<span class="org-string">"-}"</span>   . (?\s (Br . Bl) #Xe110))
                                     (<span class="org-string">"\\\\"</span> . (?\s (Br . Bl) #Xe106))
                                     (<span class="org-string">"\\\\\\"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe107))
                                     (<span class="org-string">".."</span>   . (?\s (Br . Bl) #Xe124))
                                     (<span class="org-string">"..."</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe126))
                                     (<span class="org-string">"+++"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe139))
                                     (<span class="org-string">"//"</span>   . (?\s (Br . Bl) #Xe12f))
                                     (<span class="org-string">"///"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe130))
                                     (<span class="org-string">"::"</span>   . (?\s (Br . Bl) #Xe10a))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#57610;</span>
                                     (<span class="org-string">":::"</span>  . (?\s (Br . Bl) ?\s (Br . Bl) #Xe10b))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Arrows</span>
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Direct</span>
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">("-&gt;"  . (?\s (Br . Bl) #Xe114))  ;; &#57620;</span>
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">("=&gt;"  . (?\s (Br . Bl) #Xe13f))</span>
                                     (<span class="org-string">"-&gt;&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe115))
                                     (<span class="org-string">"=&gt;&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe140))
                                     (<span class="org-string">"&lt;&lt;-"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe15d))
                                     (<span class="org-string">"&lt;&lt;="</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe15e))
                                     (<span class="org-string">"&lt;-&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe154))
                                     (<span class="org-string">"&lt;=&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe159))
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Branches</span>
                                     (<span class="org-string">"-&lt;"</span>  . (?\s (Br . Bl) #Xe116))
                                     (<span class="org-string">"-&lt;&lt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe117))
                                     (<span class="org-string">"&gt;-"</span>  . (?\s (Br . Bl) #Xe144))
                                     (<span class="org-string">"&gt;&gt;-"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe148))
                                     (<span class="org-string">"=&lt;&lt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe142))
                                     (<span class="org-string">"&gt;=&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe146))
                                     (<span class="org-string">"&gt;&gt;="</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe149))
                                     (<span class="org-string">"&lt;=&lt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe15a))
                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">Squiggly</span>
                                     (<span class="org-string">"&lt;~"</span>  . (?\s (Br . Bl) #Xe160))
                                     (<span class="org-string">"&lt;~~"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe161))
                                     (<span class="org-string">"~&gt;"</span>  . (?\s (Br . Bl) #Xe167))
                                     (<span class="org-string">"~~&gt;"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe169))
                                     (<span class="org-string">"-~"</span>  . (?\s (Br . Bl) #Xe118))
                                     (<span class="org-string">"~-"</span>  . (?\s (Br . Bl) #Xe165))

                                     <span class="org-comment-delimiter">;; </span><span class="org-comment">MISC</span>
                                     (<span class="org-string">"www"</span> . (?\s (Br . Bl) ?\s (Br . Bl) #Xe100))
                                     (<span class="org-string">"~@"</span>  . (?\s (Br . Bl) #Xe164))
                                     (<span class="org-string">"~~"</span>  . (?\s (Br . Bl) #Xe168))
                                     (<span class="org-string">"?="</span>  . (?\s (Br . Bl) #Xe127))
                                     (<span class="org-string">":="</span>  . (?\s (Br . Bl) #Xe10c))
                                     (<span class="org-string">"/&gt;"</span>  . (?\s (Br . Bl) #Xe12e))
                                     (<span class="org-string">"+"</span>   . #Xe16d)
                                     (<span class="org-string">"(:"</span>  . (?\s (Br . Bl) #Xe16c))))))


         (python-mode . (<span class="org-keyword">lambda</span> ()
                          (mapc (<span class="org-keyword">lambda</span> (pair) (<span class="org-keyword">push</span> pair prettify-symbols-alist))
                                '(<span class="org-comment-delimiter">;; </span><span class="org-comment">Syntax</span>
                                  <span class="org-comment-delimiter">;;</span><span class="org-comment">("def"    . (#x1d521 (Br . Bl) #x1d522 (Br . Bl) #x1d523))</span>
                                  (<span class="org-string">"def"</span>    . #x1D487)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#119943; 1 111</span>
                                  (<span class="org-string">"List"</span>   . #x1d543)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120131; &#120183;</span>
                                  (<span class="org-string">"list"</span>   . (#x1d55d (Br . Bl) #x2006 (Br . Bl) #x2005))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120157;&#8198;&#8197; &#120209;</span>
                                  (<span class="org-string">"Dict"</span>   . #x1d53B)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120123; &#120175;</span>
                                  (<span class="org-string">"dict"</span>   . #x1d555)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120149; &#120201;</span>
                                  (<span class="org-string">"Set"</span>    . #x1d61a)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120086; &#120346;</span>
                                  (<span class="org-string">"set"</span>    . #x1d634)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120112; &#120372;</span>
                                  (<span class="org-string">"Tuple"</span>  . #x1d61b)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120139; &#120191; &#120347;</span>
                                  (<span class="org-string">"tuple"</span>  . #x1d635)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#120165; &#120217; &#120373;</span>

                                  (<span class="org-string">"Union"</span>  . #x22c3)  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8899;</span>
                                  (<span class="org-string">"union"</span>  . #x22c3)))))  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8899;</span>

         (haskell-mode . (<span class="org-keyword">lambda</span> ()
                           (mapc (<span class="org-keyword">lambda</span> (pair) (<span class="org-keyword">push</span> pair prettify-symbols-alist))
                                 '(<span class="org-comment-delimiter">;; </span><span class="org-comment">Syntax</span>
                                   (<span class="org-string">"pure"</span> . (#x21f0 (Br . Bl) #x2006))))))) <span class="org-comment-delimiter">;; </span><span class="org-comment">&#8688;&#8198; x</span>
                                   <span class="org-comment-delimiter">;; </span><span class="org-comment">(" . "  . (?\s (Br . Bl) #x2218 (Br . Bl) ?\s (Br . Bl) #x2006)) ;; &#8728;</span>

  <span class="org-builtin">:config</span>
  (pretty-activate-groups
   '(<span class="org-builtin">:sub-and-superscripts</span> <span class="org-builtin">:greek</span> <span class="org-builtin">:arithmetic</span>))

  (pretty-deactivate-groups
   '(<span class="org-builtin">:equality</span> <span class="org-builtin">:ordering</span> <span class="org-builtin">:ordering-double</span> <span class="org-builtin">:ordering-triple</span>
               <span class="org-builtin">:arrows</span> <span class="org-builtin">:arrows-twoheaded</span> <span class="org-builtin">:punctuation</span>
               <span class="org-builtin">:logic</span> <span class="org-builtin">:sets</span> <span class="org-builtin">:arithmetic-double</span> <span class="org-builtin">:arithmetic-triple</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org78e34c4" class="outline-5">
<h5 id="org78e34c4">ipretty</h5>
<div class="outline-text-5" id="text-org78e34c4">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'ipretty)
(use-package ipretty
  <span class="org-builtin">:defer</span>    t
  <span class="org-builtin">:ghook</span> 'after-init-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org59f4d2c" class="outline-5">
<h5 id="org59f4d2c">Pretty Font</h5>
<div class="outline-text-5" id="text-org59f4d2c">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/tonsky/FiraCode/wiki/Emacs-instructions</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">This works when using emacs --daemon + emacsclient</span>
(add-hook 'after-make-frame-functions (<span class="org-keyword">lambda</span> (frame) (set-fontset-font t '(#Xe100 . #Xe16f) <span class="org-string">"Fira Code Symbol"</span>)))
<span class="org-comment-delimiter">;; </span><span class="org-comment">This works when using emacs without server/client</span>
(set-fontset-font t '(#Xe100 . #Xe16f) <span class="org-string">"Fira Code Symbol"</span>)
<span class="org-comment-delimiter">;; </span><span class="org-comment">I haven't found one statement that makes both of the above situations work, so I use both for now</span>

(<span class="org-keyword">defun</span> <span class="org-function-name">pretty-fonts-set-fontsets</span> (CODE-FONT-ALIST)
  <span class="org-doc">"Utility to associate many unicode points with specified `</span><span class="org-doc"><span class="org-constant">CODE-FONT-ALIST</span></span><span class="org-doc">'."</span>
  (--each CODE-FONT-ALIST
    (-let (((font . codes) it))
      (--each codes
        (set-fontset-font nil `(,it . ,it) font)
        (set-fontset-font t `(,it . ,it) font)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">pretty-fonts--add-kwds</span> (FONT-LOCK-ALIST)
  <span class="org-doc">"Exploits `</span><span class="org-doc"><span class="org-constant">font-lock-add-keywords</span></span><span class="org-doc">'(`</span><span class="org-doc"><span class="org-constant">FONT-LOCK-ALIST</span></span><span class="org-doc">') to apply regex-unicode replacements."</span>
  (font-lock-add-keywords
   nil (--map (-let (((rgx uni-point) it))
               `(,rgx (0 (<span class="org-keyword">progn</span>
                           (compose-region
                            (match-beginning 1) (match-end 1)
                            ,(concat <span class="org-string">"\t"</span> (list uni-point)))
                           nil))))
             FONT-LOCK-ALIST)))

(<span class="org-keyword">defmacro</span> <span class="org-function-name">pretty-fonts-set-kwds</span> (FONT-LOCK-HOOKS-ALIST)
  <span class="org-doc">"Set regex-unicode replacements to many modes(`</span><span class="org-doc"><span class="org-constant">FONT-LOCK-HOOKS-ALIST</span></span><span class="org-doc">')."</span>
  `(--each ,FONT-LOCK-HOOKS-ALIST
     (-let (((font-locks . mode-hooks) it))
       (--each mode-hooks
         (add-hook it (-partial 'pretty-fonts--add-kwds
                                (symbol-value font-locks)))))))

(<span class="org-keyword">defconst</span> <span class="org-variable-name">pretty-fonts-fira-font</span>
  '(<span class="org-comment-delimiter">;; </span><span class="org-comment">OPERATORS</span>
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Pipes</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;|</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe14d) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe15b) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;|&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe14e) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">|&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe135)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Brackets</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;\\*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe14b) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;\\*&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe14c) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\*&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe104)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;\\$</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe14f) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;\\$&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe150) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\$&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe137)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;\\+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe155) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;\\+&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe156) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\+&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe13a)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Equality</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">!=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe10e) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">!==</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>         #Xe10f) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">=/=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe143)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">/=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe12c) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">/==</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>         #Xe12d)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">===</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe13d) (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">!/]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">==</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">&gt;]"</span> #Xe13c)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Equality Special</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">||=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>  #Xe133) (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">|]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">|=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe134)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">~=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>   #Xe166)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\^=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe136)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">=:=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>  #Xe13b)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Comparisons</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe141) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&gt;=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe145)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;/</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe162) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;/&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe163)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Shifts</span>
    (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">-=]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&gt;&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe147) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&gt;&gt;&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe14a)
    (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">-=]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;&lt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe15c) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;&lt;&lt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe15f)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Dots</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\.-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe122) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\.=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe123)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\.\\.&lt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe125)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Hashes</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">#{</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>  #Xe119) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">#(</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>   #Xe11e) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">#_</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>   #Xe120)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">#_(</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe121) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">#\\?</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe11f) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">#\\[</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe11a)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">REPEATED CHARACTERS</span>
    <span class="org-comment-delimiter">;; </span><span class="org-comment">2-Repeats</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">||</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe132)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">!!</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe10d)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">%%</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe16a)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&amp;&amp;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe131)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">2+3-Repeats</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">##</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>       #Xe11b) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">###</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>          #Xe11c) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">####</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe11d)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">--</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>       #Xe111) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">---</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>          #Xe112)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">{-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>       #Xe108) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">-}</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>           #Xe110)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\\\\\\\</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe106) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\\\\\\\\\\\</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe107)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\.\\.</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>   #Xe124) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\.\\.\\.</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe126)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\+\\+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>   #Xe138) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\+\\+\\+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe139)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">//</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>       #Xe12f) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">///</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>          #Xe130)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">::</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>       #Xe10a) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">:::</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>          #Xe10b)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">ARROWS</span>
    <span class="org-comment-delimiter">;; </span><span class="org-comment">Direct</span>
    (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">-]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">-&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe114) (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">=]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">=&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe13f)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>     #Xe152)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">--&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe113) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">-&gt;&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe115)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">==&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe13e) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">=&gt;&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe140)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;--</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe153) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;&lt;-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe15d)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;==</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe158) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;&lt;=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe15e)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;-&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe154) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;=&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>    #Xe159)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Branches</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">-&lt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>  #Xe116) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">-&lt;&lt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe117)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&gt;-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>  #Xe144) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&gt;&gt;-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe148)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">=&lt;&lt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe142) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&gt;&gt;=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe149)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&gt;=&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe146) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;=&lt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe15a)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Squiggly</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;~</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe160) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;~~</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe161)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">~&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe167) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">~~&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe169)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">-~</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span> #Xe118) (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">~-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>  #Xe165)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">MISC</span>
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">www</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                   #Xe100)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;!--</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                  #Xe151)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">~@</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                    #Xe164)
    (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">&lt;]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">~~</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                #Xe168)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\?=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                  #Xe127)
    (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">=]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">:=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                #Xe10c)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">/&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                    #Xe12e)
    (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">\\+&lt;&gt;]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">\\+&lt;&gt;]"</span>   #Xe16d)
    (<span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">:=]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">:</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">:=]"</span>           #Xe16c)
    (<span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;=</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>                    #Xe157))
  <span class="org-doc">"Fira font ligatures and their regexes."</span>)

(<span class="org-keyword">if</span> (fboundp 'mac-auto-operator-composition-mode)
    (mac-auto-operator-composition-mode)
  (pretty-fonts-set-kwds
   '((pretty-fonts-fira-font prog-mode-hook org-mode-hook))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org95d35df" class="outline-4">
<h4 id="org95d35df">Prescient</h4>
<div class="outline-text-4" id="text-org95d35df">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'prescient)
<span class="org-comment-delimiter">;; </span><span class="org-comment">(straight-use-package 'ivy-prescient)</span>
(straight-use-package 'company-prescient)

(use-package prescient
  <span class="org-builtin">:hook</span> ((after-init . prescient-persist-mode)))


(use-package ivy-prescient
  <span class="org-builtin">:disabled</span> t
  <span class="org-builtin">:ghook</span> 'after-init-hook)


(use-package company-prescient
  <span class="org-builtin">:hook</span> ((company-mode . company-prescient-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcfc9353" class="outline-4">
<h4 id="orgcfc9353">Projectile</h4>
<div class="outline-text-4" id="text-orgcfc9353">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'projectile)
(use-package projectile
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:commands</span> (projectile-project-root
             projectile-project-name
             projectile-project-p
             projectile-locate-dominating-file)
  <span class="org-builtin">:bind-keymap</span> (<span class="org-string">"C-c C-p"</span> . projectile-command-map)
  <span class="org-builtin">:ghook</span> '(after-find-file dired-before-readin-hook minibuffer-setup-hook)
  <span class="org-builtin">:init</span>
  (gsetq projectile-indexing-method      'hybrid
         projectile-require-project-root 'prompt)
  (general-define-key
   [remap find-tag] #'projectile-find-tag)
  <span class="org-builtin">:config</span>
  (gsetq projectile-project-root-files-top-down-recurring
         (append '(<span class="org-string">"compile_commands.json"</span>
                   <span class="org-string">".cquery"</span>)
                 projectile-project-root-files-top-down-recurring))
  (projectile-mode +1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge52aff4" class="outline-4">
<h4 id="orge52aff4">Recentf</h4>
<div class="outline-text-4" id="text-orge52aff4">
<div class="org-src-container">
<pre class="src src-elisp">(use-package recentf
  <span class="org-builtin">:init</span> (gsetq
         recentf-save-file       <span class="org-string">"~/.emacs.d/var/recentf"</span>
         recentf-max-saved-items 100
         recentf-exclude         '(<span class="org-string">"/tmp/"</span> <span class="org-string">"/ssh:"</span>))
  <span class="org-builtin">:config</span>
  (add-to-list 'recentf-exclude no-littering-var-directory)
  (add-to-list 'recentf-exclude no-littering-etc-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5545429" class="outline-4">
<h4 id="org5545429">Smex/Amx</h4>
<div class="outline-text-4" id="text-org5545429">
<p>
Now use amx instead of smex.
</p>

<p>
It's for ivy.
</p>
</div>
</div>

<div id="outline-container-org9d67752" class="outline-4">
<h4 id="org9d67752">Snails</h4>
<div class="outline-text-4" id="text-org9d67752">
<p>
A modern, easy-to-expand fuzzy search framework
</p>

<p>
<a href="https://github.com/manateelazycat/snails">https://github.com/manateelazycat/snails</a>
</p>

<p>
Not work now.
</p>
</div>
</div>

<div id="outline-container-org86376e1" class="outline-4">
<h4 id="org86376e1">Subword</h4>
<div class="outline-text-4" id="text-org86376e1">
<div class="org-src-container">
<pre class="src src-elisp">(use-package subword
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:diminish</span> (subword-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6f8d8ff" class="outline-4">
<h4 id="org6f8d8ff">Symbol Overlay</h4>
<div class="outline-text-4" id="text-org6f8d8ff">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'symbol-overlay)
(use-package symbol-overlay
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-i"</span>  . symbol-overlay-put)
         (<span class="org-string">"M-n"</span>  . symbol-overlay-switch-forward)
         (<span class="org-string">"M-p"</span>  . symbol-overlay-switch-backward)
         (<span class="org-string">"&lt;f8&gt;"</span> . symbol-overlay-remove-all)
         (<span class="org-string">"&lt;f7&gt;"</span> . symbol-overlay-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org318b064" class="outline-4">
<h4 id="org318b064">Treemacs</h4>
<div class="outline-text-4" id="text-org318b064">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'treemacs)
(use-package treemacs
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  (after! winum
    (define-key winum-keymap (kbd <span class="org-string">"M-0"</span>) #'treemacs-select-window))
  <span class="org-builtin">:config</span>
  (gsetq treemacs-collapse-dirs                 (<span class="org-keyword">if</span> treemacs-python-executable 3 0)
         treemacs-deferred-git-apply-delay      0.5
         treemacs-display-in-side-window        t
         treemacs-eldoc-display                 t
         treemacs-file-event-delay              5000
         treemacs-file-follow-delay             0.2
         treemacs-follow-after-init             t
         treemacs-git-command-pipe              <span class="org-string">""</span>
         treemacs-goto-tag-strategy             'refetch-index
         treemacs-indentation                   2
         treemacs-indentation-string            <span class="org-string">" "</span>
         treemacs-is-never-other-window         nil
         treemacs-max-git-entries               5000
         treemacs-missing-project-action        'ask
         treemacs-no-png-images                 nil
         treemacs-no-delete-other-windows       t
         treemacs-project-follow-cleanup        nil
         treemacs-persist-file
         (no-littering-expand-var-file-name <span class="org-string">"treemacs-persist"</span>)
         treemacs-position                      'left
         treemacs-recenter-distance             0.1
         treemacs-recenter-after-file-follow    nil
         treemacs-recenter-after-tag-follow     nil
         treemacs-recenter-after-project-jump   'always
         treemacs-recenter-after-project-expand 'on-distance
         treemacs-show-cursor                   nil
         treemacs-show-hidden-files             t
         treemacs-silent-filewatch              nil
         treemacs-silent-refresh                nil
         treemacs-sorting                       'alphabetic-desc
         treemacs-space-between-root-nodes      t
         treemacs-tag-follow-cleanup            t
         treemacs-tag-follow-delay              1.5
         treemacs-width                         35)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">The default width and height of the icons is 22 pixels. If you are</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">using a Hi-DPI display, uncomment this to double the icon size.</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(treemacs-resize-icons 44)</span>
  (treemacs-follow-mode t)
  (treemacs-filewatch-mode t)
  (treemacs-fringe-indicator-mode t)
  (<span class="org-keyword">pcase</span> (cons (not (null (executable-find <span class="org-string">"git"</span>)))
               (not (null treemacs-python-executable)))
    (`(t . t)
     (treemacs-git-mode 'deferred))
    (`(t . _)
     (treemacs-git-mode 'simple)))
  <span class="org-builtin">:config</span>
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'global-map
   <span class="org-string">"M-0"</span> 'treemacs-select-window)
  (general-define-key
   <span class="org-builtin">:prefix</span> <span class="org-string">"C-x t"</span>
   <span class="org-builtin">:keymaps</span> 'global-map
   <span class="org-string">"1"</span>   'treemacs-delete-other-windows
   <span class="org-string">"t"</span>   'treemacs
   <span class="org-string">"B"</span>   'treemacs-bookmark
   <span class="org-string">"C-t"</span> 'treemacs-find-file
   <span class="org-string">"M-t"</span> 'treemacs-find-tag))


(straight-use-package 'treemacs-projectile)
(straight-use-package 'treemacs-icons-dired)
(straight-use-package 'treemacs-magit)

(use-package treemacs-projectile
  <span class="org-builtin">:after</span> treemacs projectile)

(use-package treemacs-icons-dired
  <span class="org-builtin">:after</span> treemacs dired
  <span class="org-builtin">:config</span> (treemacs-icons-dired-mode))

(use-package treemacs-magit
  <span class="org-builtin">:after</span> treemacs magit)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea94b39" class="outline-4">
<h4 id="orgea94b39">Undo/Redo</h4>
<div class="outline-text-4" id="text-orgea94b39">
</div>
<div id="outline-container-org055a567" class="outline-5">
<h5 id="org055a567">Point History</h5>
<div class="outline-text-5" id="text-org055a567">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package '(point-history <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"blue0513/point-history"</span>))
(use-package point-history
  <span class="org-builtin">:ghook</span> 'after-init-hook
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c C-/"</span> . point-history-show))
  <span class="org-builtin">:init</span> (gsetq point-history-ignore-buffer <span class="org-string">"^ \\*Minibuf</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">^ \\*point-history-show*"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca0ad20" class="outline-5">
<h5 id="orgca0ad20">Undo Propose</h5>
<div class="outline-text-5" id="text-orgca0ad20">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'undo-propose)
(use-package undo-propose
  <span class="org-builtin">:defer</span>
  <span class="org-builtin">:config</span> (undo-propose-wrap redo))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3dfe322" class="outline-4">
<h4 id="org3dfe322">Version Control</h4>
<div class="outline-text-4" id="text-org3dfe322">
</div>
<div id="outline-container-orgd923d8c" class="outline-5">
<h5 id="orgd923d8c">Useful Simple Packages</h5>
<div class="outline-text-5" id="text-orgd923d8c">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">dolist</span> (package '(git-blamed
                   git-timemachine))
  (straight-use-package package))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ffd388" class="outline-5">
<h5 id="org8ffd388">Git Modes</h5>
<div class="outline-text-5" id="text-org8ffd388">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'git-modes)
</pre>
</div>
</div>
</div>

<div id="outline-container-org08966a6" class="outline-5">
<h5 id="org08966a6">Magit</h5>
<div class="outline-text-5" id="text-org08966a6">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'magit)
(use-package magit
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:commands</span> magit-status
  <span class="org-builtin">:hook</span> ((magit-popup-mode-hook . no-trailing-whitespace)
         (git-commit-mode . goto-address-mode))
  <span class="org-builtin">:init</span> (gsetq magit-diff-refine-hunk t)
  <span class="org-builtin">:bind</span> (([(meta f12)] . magit-status)  <span class="org-comment-delimiter">;; </span><span class="org-comment">Hint: customize `</span><span class="org-comment"><span class="org-constant">magit-repository-directories</span></span><span class="org-comment">' so that you can use C-u M-F12 to</span>
         (<span class="org-string">"C-x g"</span>      . magit-status)
         (<span class="org-string">"C-x M-g"</span>    . magit-dispatch-popup)
         <span class="org-builtin">:map</span> magit-status-mode-map
         (<span class="org-string">"C-M-&lt;up&gt;"</span>   . magit-section-up)
         <span class="org-builtin">:map</span> vc-prefix-map
         (<span class="org-string">"f"</span>          . vc-git-grep))
  <span class="org-builtin">:config</span>
  (gsetq vc-handled-backends nil)
  (<span class="org-keyword">when</span> *is-a-mac* (add-hook 'magit-mode-hook (<span class="org-keyword">lambda</span> () (local-unset-key [(meta h)])))))

(straight-use-package 'magit-todos)
(use-package magit-todos
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((magit-status-mode . magit-todos-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5d4de29" class="outline-5">
<h5 id="org5d4de29">Magit Org Todos</h5>
<div class="outline-text-5" id="text-org5d4de29">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'magit-org-todos)
(use-package magit-org-todos
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span> (magit-org-todos-autoinsert))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb969913" class="outline-5">
<h5 id="orgb969913">Forge</h5>
<div class="outline-text-5" id="text-orgb969913">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'forge)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c724d4" class="outline-5">
<h5 id="org4c724d4">Transient</h5>
<div class="outline-text-5" id="text-org4c724d4">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'transient)
(gsetq transient-default-level 5)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7c75cd8" class="outline-5">
<h5 id="org7c75cd8">Git Messenger</h5>
<div class="outline-text-5" id="text-org7c75cd8">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'git-messenger)
(use-package git-messenger
  <span class="org-builtin">:init</span> (gsetq git-messenger:show-detail t)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> vc-prefix-map
         (<span class="org-string">"p"</span> . git-messenger:popup-message)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a258bd" class="outline-5">
<h5 id="org1a258bd">Git Gutter</h5>
<div class="outline-text-5" id="text-org1a258bd">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'git-gutter)
(use-package git-gutter
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:hook</span> (after-init . global-git-gutter-mode)
  <span class="org-builtin">:init</span> (gsetq git-gutter:visual-line t
               git-gutter:disabled-modes '(asm-mode image-mode)
               git-gutter:modified-sign <span class="org-string">"&#10074;"</span>
               git-gutter:added-sign <span class="org-string">"&#10010;"</span>
               git-gutter:deleted-sign <span class="org-string">"&#10008;"</span>)

  <span class="org-builtin">:config</span> (general-define-key
           <span class="org-builtin">:prefix</span> <span class="org-string">"C-x"</span>
           <span class="org-string">"v ="</span> 'git-gutter:popup-hunk
           <span class="org-string">"p"</span>   'git-gutter:previous-hunk
           <span class="org-string">"n"</span>   'git-gutter:next-hunk))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge1f5efa" class="outline-5">
<h5 id="orge1f5efa">Github Gist</h5>
<div class="outline-text-5" id="text-orge1f5efa">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'gist)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf993c0c" class="outline-4">
<h4 id="orgf993c0c">Which Function</h4>
<div class="outline-text-4" id="text-orgf993c0c">
<div class="org-src-container">
<pre class="src src-elisp">(use-package which-func
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:ghook</span> 'after-init-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c0ff4f" class="outline-4">
<h4 id="org8c0ff4f">Which Key</h4>
<div class="outline-text-4" id="text-org8c0ff4f">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'which-key)
(use-package which-key
  <span class="org-builtin">:ghook</span> 'after-init-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org59d0391" class="outline-4">
<h4 id="org59d0391">Whitespace</h4>
<div class="outline-text-4" id="text-org59d0391">
<div class="org-src-container">
<pre class="src src-elisp">(use-package whitespace
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">no-trailing-whitespace</span> ()
    <span class="org-doc">"Turn off display of trailing whitespace in this buffer."</span>
    (<span class="org-keyword">setq</span> show-trailing-whitespace nil))
  <span class="org-builtin">:init</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">But don't show trailing whitespace in SQLi, inf-ruby etc.</span>
  (<span class="org-keyword">dolist</span> (hook '(artist-mode-hook
                  picture-mode-hook
                  special-mode-hook
                  Info-mode-hook
                  eww-mode-hook
                  term-mode-hook
                  vterm-mode-hook
                  comint-mode-hook
                  compilation-mode-hook
                  twittering-mode-hook
                  minibuffer-setup-hook
                  fundamental-mode))
    (add-hook hook #'no-trailing-whitespace))
  <span class="org-builtin">:diminish</span> whitespace-mode)

(straight-use-package 'whitespace-cleanup-mode)
(use-package whitespace-cleanup-mode
  <span class="org-builtin">:init</span>
  (gsetq whitespace-cleanup-mode-only-if-initially-clean nil)
  (gsetq-default whitespace-style
                 '(face tabs spaces trailing space-before-tab
                        newline indentation empty space-after-tab
                        space-mark tab-mark newline-mark))
  <span class="org-builtin">:hook</span> ((after-init . global-whitespace-cleanup-mode))
  <span class="org-builtin">:diminish</span> (whitespace-cleanup-mode)
  <span class="org-builtin">:bind</span> ((<span class="org-string">"&lt;remap&gt; &lt;just-one-space&gt;"</span> . cycle-spacing)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb88bf11" class="outline-4">
<h4 id="orgb88bf11">Writeroom Mode</h4>
<div class="outline-text-4" id="text-orgb88bf11">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'writeroom-mode)
(use-package writeroom-mode
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">define-minor-mode</span> <span class="org-function-name">prose-mode</span>
    <span class="org-doc">"Set up a buffer for prose editing.</span>
<span class="org-doc">This enables or modifies a number of settings so that the</span>
<span class="org-doc">experience of editing prose is a little more like that of a</span>
<span class="org-doc">typical word processor."</span>
    nil <span class="org-string">" Prose"</span> nil
    (<span class="org-keyword">if</span> prose-mode
        (<span class="org-keyword">progn</span>
          (<span class="org-keyword">when</span> (fboundp 'writeroom-mode)
            (writeroom-mode 1))
          (<span class="org-keyword">setq</span> truncate-lines nil)
          (<span class="org-keyword">setq</span> word-wrap t)
          (<span class="org-keyword">setq</span> cursor-type 'bar)
          (<span class="org-keyword">when</span> (eq major-mode 'org)
            (kill-local-variable 'buffer-face-mode-face))
          (buffer-face-mode 1)
          <span class="org-comment-delimiter">;;</span><span class="org-comment">(delete-selection-mode 1)</span>
          (set (make-local-variable 'blink-cursor-interval) 0.6)
          (set (make-local-variable 'show-trailing-whitespace) nil)
          (set (make-local-variable 'line-spacing) 0.2)
          (set (make-local-variable 'electric-pair-mode) nil)
          (<span class="org-keyword">ignore-errors</span> (flyspell-mode 1))
          (visual-line-mode 1))
      (kill-local-variable 'truncate-lines)
      (kill-local-variable 'word-wrap)
      (kill-local-variable 'cursor-type)
      (kill-local-variable 'show-trailing-whitespace)
      (kill-local-variable 'line-spacing)
      (kill-local-variable 'electric-pair-mode)
      (buffer-face-mode -1)
      <span class="org-comment-delimiter">;; </span><span class="org-comment">(delete-selection-mode -1)</span>
      (flyspell-mode -1)
      (visual-line-mode -1)
      (<span class="org-keyword">when</span> (fboundp 'writeroom-mode)
        (writeroom-mode 0)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org69b83a9" class="outline-4">
<h4 id="org69b83a9">Yasnipeet</h4>
<div class="outline-text-4" id="text-org69b83a9">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'yasnippet)
(straight-use-package 'yasnippet-snippets)

(use-package yasnippet
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> yas-minor-mode-map
              (<span class="org-string">"C-'"</span> . yas-expand))
  <span class="org-builtin">:commands</span> (yas-minor-mode)
  <span class="org-builtin">:hook</span> ((prog-mode      . yas-minor-mode)
         (yas-minor-mode . (<span class="org-keyword">lambda</span> ()
                             (add-to-list
                              'yas-snippet-dirs
                              (concat user-emacs-directory <span class="org-string">"snippets"</span>)))))
  <span class="org-builtin">:config</span> (yas-reload-all))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga5f6b3f" class="outline-3">
<h3 id="orga5f6b3f">Languages</h3>
<div class="outline-text-3" id="text-orga5f6b3f">
</div>
<div id="outline-container-orgb141a0c" class="outline-4">
<h4 id="orgb141a0c">English</h4>
<div class="outline-text-4" id="text-orgb141a0c">
</div>
<div id="outline-container-orgf60b4ee" class="outline-5">
<h5 id="orgf60b4ee">Dict</h5>
<div class="outline-text-5" id="text-orgf60b4ee">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'bing-dict)
(use-package bing-dict
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c d"</span> . bing-dict-brief))
  <span class="org-builtin">:init</span> (gsetq bing-dict-show-thesaurus  'both
               bing-dict-vocabulary-save t
               bing-dict-cache-auto-save t
               bing-dict-vocabulary-file
               (no-littering-expand-var-file-name <span class="org-string">"bing-dict/vocabulary.org"</span>)
               bing-dict-cache-file
               (no-littering-expand-var-file-name <span class="org-string">"bing-dict/bing-dict-save.el"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f25792" class="outline-5">
<h5 id="org0f25792">Spell</h5>
<div class="outline-text-5" id="text-org0f25792">
<div class="org-src-container">
<pre class="src src-elisp">(use-package ispell
  <span class="org-builtin">:if</span> *ispell*
  <span class="org-builtin">:init</span>
  (gsetq-default ispell-program-name   *ispell*
                 ispell-silently-savep t
                 ispell-dictionary     <span class="org-string">"english"</span>
                 ispell-personal-dictionary
                 (no-littering-expand-var-file-name <span class="org-string">"ispell/dictionary"</span>))
  (<span class="org-keyword">when</span> (string-suffix-p <span class="org-string">"aspell"</span> *ispell*)
    (gsetq-default ispell-extra-args '(<span class="org-string">"--reverse"</span>))))

(<span class="org-keyword">unless</span> *ispell*
  (message <span class="org-string">"if you want to use ispell, try\n brew install aspell\n brew install ispell"</span>))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org39470bb" class="outline-4">
<h4 id="org39470bb">Simple Supported Languages</h4>
<div class="outline-text-4" id="text-org39470bb">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">let</span> ((languages '(elvish-mode
                   fish-mode
                   toml-mode
                   yaml-mode))
      (extras    '(fish-completion
                   ob-elvish)))
  (<span class="org-keyword">dolist</span> (language languages)
    (straight-use-package language))
  (<span class="org-keyword">dolist</span> (extra extras)
    (straight-use-package extra)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5ab7b98" class="outline-4">
<h4 id="org5ab7b98">Language Server Protocol &amp; Debug Adapter Protocol</h4>
<div class="outline-text-4" id="text-org5ab7b98">
</div>
<div id="outline-container-org860539a" class="outline-5">
<h5 id="org860539a">lsp-mode</h5>
<div class="outline-text-5" id="text-org860539a">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'lsp-mode)
(use-package lsp
  <span class="org-builtin">:commands</span> (lsp lsp-deferred)
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">delete-company-lsp</span> ()
    <span class="org-doc">"Delete company-lsp added by lsp-mode from company-backends"</span>
    (<span class="org-keyword">when</span> 'company-backends
      (gsetq company-backends (delete 'company-lsp company-backends)
             company-backends (delete 'intero-company company-backends))))
  <span class="org-builtin">:hook</span> ((lsp-after-open . lsp-enable-imenu))
  <span class="org-builtin">:init</span> (gsetq lsp-log-io                       *debug*
               lsp-print-performance            *debug*
               lsp-inhibit-message              t
               lsp-report-if-no-buffer          *debug*
               lsp-keep-workspace-alive         t
               lsp-enable-snippet               t
               lsp-restart                      'interactive
               lsp-auto-configure               nil
               lsp-document-sync-method         nil
               lsp-auto-execute-action          nil
               lsp-eldoc-render-all             t
               lsp-enable-completion-at-point   nil
               lsp-enable-xref                  t
               lsp-enable-indentation           t
               lsp-prefer-flymake               nil
               lsp-enable-on-type-formatting    t
               lsp-signature-auto-activate      t
               lsp-enable-semantic-highlighting t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc98f16d" class="outline-5">
<h5 id="orgc98f16d">lsp-ui</h5>
<div class="outline-text-5" id="text-orgc98f16d">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'lsp-ui)
(use-package lsp-ui
  <span class="org-builtin">:commands</span> lsp-ui-mode
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> lsp-ui-mode-map
              (<span class="org-string">"M-,"</span>  . lsp-ui-peek-find-definitions)
              (<span class="org-string">"M-?"</span>  . lsp-ui-peek-find-references)
              (<span class="org-string">"C-c u"</span>   . lsp-ui-imenu)
              (<span class="org-string">"C-c C-a"</span> . lsp-ui-sideline-apply-code-actions))
  <span class="org-builtin">:hook</span> ((lsp-after-open . lsp-ui-mode))
  <span class="org-builtin">:init</span>
  (gsetq lsp-ui-doc-position 'at-point
         lsp-ui-doc-header nil
         lsp-ui-doc-border <span class="org-string">"violet"</span>
         <span class="org-comment-delimiter">;; </span><span class="org-comment">lsp-ui-doc-include-signature t</span>
         lsp-ui-sideline-update-mode 'point
         lsp-ui-sideline-delay 1
         lsp-ui-sideline-ignore-duplicate t
         lsp-ui-peek-always-show t
         lsp-ui-flycheck-enable t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbbc34f4" class="outline-5">
<h5 id="orgbbc34f4">company-lsp</h5>
<div class="outline-text-5" id="text-orgbbc34f4">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'company-lsp)
(use-package company-lsp
  <span class="org-builtin">:after</span> company
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:commands</span> company-lsp
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">push-company-lsp-backends</span> ()
   <span class="org-doc">"Push company-lsp to the backends."</span>
   (general-pushnew
     '(company-lsp
       company-files
       (company-dabbrev company-dabbrev-code)
       company-keywords
       company-yasnippet)
     company-backends))
  (<span class="org-keyword">defun</span> <span class="org-function-name">company-lsp-init-h</span> ()
    <span class="org-doc">"Make sure that `</span><span class="org-doc"><span class="org-constant">company-capf</span></span><span class="org-doc">' is disabled since it is incompatible with</span>
<span class="org-doc">`</span><span class="org-doc"><span class="org-constant">company-lsp</span></span><span class="org-doc">' (see lsp-mode#884)."</span>
    (<span class="org-keyword">if</span> (not (<span class="org-keyword">bound-and-true-p</span> company-mode))
        (add-hook 'company-mode-hook #'company-lsp-init-h t t)
      (<span class="org-keyword">setq-local</span> company-backends
                  (cons 'company-lsp
                        (remq 'company-capf company-backends)))
      (remove-hook 'company-mode-hook #'company-lsp-init-h t)))
  <span class="org-builtin">:hook</span> ((lsp-mode . company-lsp-init-h))
  <span class="org-builtin">:init</span>
  (gsetq company-lsp-async               t
         company-lsp-enable-recompletion t
         company-lsp-enable-snippet      t
         company-lsp-cache-candidates    'auto))
</pre>
</div>
</div>
</div>

<div id="outline-container-org16d5a01" class="outline-5">
<h5 id="org16d5a01">Dap Mode</h5>
<div class="outline-text-5" id="text-org16d5a01">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dap-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org469d6dc" class="outline-5">
<h5 id="org469d6dc">lsp-treemacs</h5>
<div class="outline-text-5" id="text-org469d6dc">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'lsp-treemacs)
(use-package lsp-treemacs
  <span class="org-builtin">:commands</span> lsp-treemacs-errors-list
  <span class="org-builtin">:config</span>
  (lsp-metals-treeview-enable t)
  (gsetq lsp-metals-treeview-show-when-views-received t))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4ec8f14" class="outline-4">
<h4 id="org4ec8f14">C/C++/Object-C (Clangd or ccls)</h4>
<div class="outline-text-4" id="text-org4ec8f14">
<p>
Clangd or ccls.
</p>
</div>

<div id="outline-container-org6cd5d63" class="outline-5">
<h5 id="org6cd5d63">clangd</h5>
<div class="outline-text-5" id="text-org6cd5d63">
<div class="org-src-container">
<pre class="src src-elisp">(use-package lsp-mode
  <span class="org-builtin">:if</span> *clangd*
  <span class="org-builtin">:hook</span> (((c-mode c++-mode objc-mode) . lsp-deferred))
  <span class="org-builtin">:init</span> (<span class="org-keyword">setq-default</span> lsp-clients-clangd-executable *clangd*))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9fc8f4d" class="outline-5">
<h5 id="org9fc8f4d">ccls</h5>
<div class="outline-text-5" id="text-org9fc8f4d">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *ccls*
  (straight-use-package 'ccls)
  (use-package ccls
    <span class="org-builtin">:preface</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/load</span> ()
      (<span class="org-keyword">require</span> '<span class="org-constant">ccls</span>)
      (lsp-deferred))
    <span class="org-builtin">:hook</span> (((c-mode c++-mode objc-mode) . ccls/load))
    <span class="org-builtin">:init</span> (gsetq ccls-executable *ccls*
                 ccls-initialization-options
                 '(<span class="org-builtin">:clang</span> (<span class="org-builtin">:extraArgs</span>
                           [<span class="org-string">"-isysroot"</span>
                            <span class="org-string">"/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk"</span>]))
                 ccls-sem-highlight-method 'font-lock)
    <span class="org-builtin">:config</span>
    (ccls-use-default-rainbow-sem-highlight)
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/callee</span> ()
      (<span class="org-keyword">interactive</span>)
      (lsp-ui-peek-find-custom <span class="org-string">"$ccls/call"</span> '(<span class="org-builtin">:callee</span> t)))
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/caller</span> ()
      (<span class="org-keyword">interactive</span>)
      (lsp-ui-peek-find-custom <span class="org-string">"$ccls/call"</span>))
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/vars</span> (kind)
      (lsp-ui-peek-find-custom <span class="org-string">"$ccls/vars"</span> `(<span class="org-builtin">:kind</span> ,kind)))
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/base</span> (levels)
      (lsp-ui-peek-find-custom <span class="org-string">"$ccls/inheritance"</span> `(<span class="org-builtin">:levels</span> ,levels)))
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/derived</span> (levels)
      (lsp-ui-peek-find-custom <span class="org-string">"$ccls/inheritance"</span> `(<span class="org-builtin">:levels</span> ,levels <span class="org-builtin">:derived</span> t)))
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/member</span> (kind)
      (lsp-ui-peek-find-custom <span class="org-string">"$ccls/member"</span> `(<span class="org-builtin">:kind</span> ,kind)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">The meaning of :role corresponds to https://github.com/maskray/ccls/blob/master/src/symbol.h</span>

    <span class="org-comment-delimiter">;; </span><span class="org-comment">References w/ Role::Address bit (e.g. variables explicitly being taken addresses)</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/references-address</span> ()
      (<span class="org-keyword">interactive</span>)
      (lsp-ui-peek-find-custom <span class="org-string">"textDocument/references"</span>
       (plist-put (lsp--text-document-position-params) <span class="org-builtin">:role</span> 128)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">References w/ Role::Dynamic bit (macro expansions)</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/references-macro</span> ()
      (<span class="org-keyword">interactive</span>)
      (lsp-ui-peek-find-custom <span class="org-string">"textDocument/references"</span>
       (plist-put (lsp--text-document-position-params) <span class="org-builtin">:role</span> 64)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">References w/o Role::Call bit (e.g. where functions are taken addresses)</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/references-not-call</span> ()
      (<span class="org-keyword">interactive</span>)
      (lsp-ui-peek-find-custom <span class="org-string">"textDocument/references"</span>
       (plist-put (lsp--text-document-position-params) <span class="org-builtin">:excludeRole</span> 32)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">References w/ Role::Read</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/references-read</span> ()
      (<span class="org-keyword">interactive</span>)
      (lsp-ui-peek-find-custom <span class="org-string">"textDocument/references"</span>
       (plist-put (lsp--text-document-position-params) <span class="org-builtin">:role</span> 8)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">References w/ Role::Write</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">ccls/references-write</span> ()
      (<span class="org-keyword">interactive</span>)
      (lsp-ui-peek-find-custom <span class="org-string">"textDocument/references"</span>
       (plist-put (lsp--text-document-position-params) <span class="org-builtin">:role</span> 16)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">xref-find-apropos (workspace/symbol)</span>

    (<span class="org-keyword">defun</span> <span class="org-function-name">my/highlight-pattern-in-text</span> (pattern line)
      (<span class="org-keyword">when</span> (&gt; (length pattern) 0)
        (<span class="org-keyword">let</span> ((i 0))
         (<span class="org-keyword">while</span> (string-match pattern line i)
           (<span class="org-keyword">setq</span> i (match-end 0))
           (add-face-text-property (match-beginning 0) (match-end 0) 'isearch t line))

         line)))

    (after! lsp-methods
      <span class="org-comment-delimiter">;;; </span><span class="org-comment">Override</span>
      <span class="org-comment-delimiter">;; </span><span class="org-comment">This deviated from the original in that it highlights pattern appeared in symbol</span>
      (<span class="org-keyword">defun</span> <span class="org-function-name">lsp--symbol-information-to-xref</span> (pattern symbol)
       <span class="org-doc">"Return a `</span><span class="org-doc"><span class="org-constant">xref-item</span></span><span class="org-doc">' from SYMBOL information."</span>
       (<span class="org-keyword">let*</span> ((location (gethash <span class="org-string">"location"</span> symbol))
              (uri (gethash <span class="org-string">"uri"</span> location))
              (range (gethash <span class="org-string">"range"</span> location))
              (start (gethash <span class="org-string">"start"</span> range))
              (name (gethash <span class="org-string">"name"</span> symbol)))
         (xref-make (format <span class="org-string">"[%s] %s"</span>
                            (alist-get (gethash <span class="org-string">"kind"</span> symbol) lsp--symbol-kind)
                            (my/highlight-pattern-in-text (regexp-quote pattern) name))
                    (xref-make-file-location (string-remove-prefix <span class="org-string">"file://"</span> uri)
                                             (1+ (gethash <span class="org-string">"line"</span> start))
                                             (gethash <span class="org-string">"character"</span> start)))))

      (<span class="org-keyword">cl-defmethod</span> <span class="org-function-name">xref-backend-apropos</span> ((_backend (eql xref-lsp)) pattern)
        (<span class="org-keyword">let</span> ((symbols (lsp--send-request (lsp--make-request
                                           <span class="org-string">"workspace/symbol"</span>
                                           `(<span class="org-builtin">:query</span> ,pattern)))))
          (mapcar (<span class="org-keyword">lambda</span> (x) (lsp--symbol-information-to-xref pattern x)) symbols))))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgce82375" class="outline-4">
<h4 id="orgce82375">Haskell</h4>
<div class="outline-text-4" id="text-orgce82375">
<p>
Include haskell-mode, lsp-haskell, intero and structured haskell mode.  Also
inlcude haskell-snippets.
</p>
</div>

<div id="outline-container-org223cb62" class="outline-5">
<h5 id="org223cb62">Haskell-Mode</h5>
<div class="outline-text-5" id="text-org223cb62">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'haskell-mode)
(use-package haskell-mode
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">define-minor-mode</span> <span class="org-function-name">stack-exec-path-mode</span>
    <span class="org-doc">"If this is a stack project, set `</span><span class="org-doc"><span class="org-constant">exec-path</span></span><span class="org-doc">' to the path \"stack exec\" would use."</span>
    nil
    <span class="org-builtin">:lighter</span> <span class="org-string">""</span>
    <span class="org-builtin">:global</span> nil
    (<span class="org-keyword">if</span> stack-exec-path-mode
        (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> (executable-find <span class="org-string">"stack"</span>)
                   (locate-dominating-file default-directory <span class="org-string">"stack.yaml"</span>))
          (<span class="org-keyword">setq-local</span>
           exec-path
           (seq-uniq
            (append (list (concat (string-trim-right (shell-command-to-string <span class="org-string">"stack path --local-install-root"</span>)) <span class="org-string">"/bin"</span>))
                    (parse-colon-path
                     (replace-regexp-in-string <span class="org-string">"[\r\n]+\\'"</span> <span class="org-string">""</span>
                                               (shell-command-to-string <span class="org-string">"stack path --bin-path"</span>))))
            'string-equal)))
      (kill-local-variable 'exec-path)))

  <span class="org-builtin">:gfhook</span> '(subword-mode
            haskell-auto-insert-module-template
            haskell-collapse-mode
            stack-exec-path-mode
            interactive-haskell-mode
            (<span class="org-keyword">lambda</span> () (gsetq-local tab-width 4)))
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-x a a"</span> . align)
         <span class="org-builtin">:map</span> haskell-mode-map
         (<span class="org-string">"C-c h"</span> . hoogle)
         (<span class="org-string">"C-o"</span>   . open-line))
  <span class="org-builtin">:init</span>
  (gsetq haskell-mode-stylish-haskell-path            <span class="org-string">"stylish-haskell"</span>
         haskell-indentation-layout-offset            4
         haskell-indentation-left-offset              4
         haskell-process-suggest-haskell-docs-imports t
         haskell-process-suggest-remove-import-lines  t
         haskell-process-auto-import-loaded-modules   t
         haskell-process-log                          t
         haskell-process-suggest-hayoo-imports        t
         haskell-process-suggest-hoogle-imports       t
         haskell-process-suggest-remove-import-lines  t
         haskell-tags-on-save                         t
         haskell-completing-read-function             'helm--completing-read-default
         haskell-doc-show-global-types                t
         haskell-svg-render-images                    t
         haskell-doc-chop-off-context                 nil)

  (<span class="org-keyword">unless</span> *struct-hs*
    (add-hook #'haskell-mode-hook #'haskell-indentation-mode))

  (<span class="org-keyword">unless</span> (fboundp 'align-rules-list)
    (<span class="org-keyword">defvar</span> <span class="org-variable-name">align-rules-list</span> nil))

  (add-to-list 'align-rules-list
               '(haskell-types
                 (regexp . <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\s-+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">::</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">&#8759;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\s-+"</span>)
                 (modes quote (haskell-mode literate-haskell-mode))))
  (add-to-list 'align-rules-list
               '(haskell-assignment
                 (regexp . <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\s-+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">=\\s-+"</span>)
                 (modes quote (haskell-mode literate-haskell-mode))))
  (add-to-list 'align-rules-list
               '(haskell-arrows
                 (regexp . <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\s-+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">-&gt;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">&#8594;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\s-+"</span>)
                 (modes quote (haskell-mode literate-haskell-mode))))
  (add-to-list 'align-rules-list
               '(haskell-left-arrows
                 (regexp . <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\\s-+</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">&lt;-</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">&#8592;</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\s-+"</span>)
                 (modes quote (haskell-mode literate-haskell-mode))))

  <span class="org-builtin">:config</span>
  (after! page-break-lines
    (<span class="org-keyword">push</span> 'haskell-mode page-break-lines-modes))
  (<span class="org-keyword">defun</span> <span class="org-function-name">haskell-mode-generate-tags</span> (<span class="org-type">&amp;optional</span> and-then-find-this-tag)
    <span class="org-doc">"Generate tags using Hasktags.  This is synchronous function.</span>

<span class="org-doc">  If optional AND-THEN-FIND-THIS-TAG argument is present it is used</span>
<span class="org-doc">  with function `</span><span class="org-doc"><span class="org-constant">xref-find-definitions</span></span><span class="org-doc">' after new table was</span>
<span class="org-doc">  generated."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let*</span> ((dir (haskell-cabal--find-tags-dir))
           (command (haskell-cabal--compose-hasktags-command dir)))
      (<span class="org-keyword">if</span> (not command)
          (<span class="org-warning">error</span> <span class="org-string">"Unable to compose hasktags command"</span>)
        <span class="org-comment-delimiter">;; </span><span class="org-comment">I disabled the noisy shell command output.</span>
        <span class="org-comment-delimiter">;; </span><span class="org-comment">The original is (shell-command command)</span>
        (call-process-shell-command command nil <span class="org-string">"*Shell Command Output*"</span> t)
        (haskell-mode-message-line <span class="org-string">"Tags generated."</span>)
        (<span class="org-keyword">when</span> and-then-find-this-tag
          (<span class="org-keyword">let</span> ((tags-file-name dir))
            (xref-find-definitions and-then-find-this-tag)))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org83df1ce" class="outline-5">
<h5 id="org83df1ce">LSP Haskell</h5>
<div class="outline-text-5" id="text-org83df1ce">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'lsp-haskell)
(use-package lsp-haskell
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">start-lsp-haskell</span> ()
    (<span class="org-keyword">require</span> '<span class="org-constant">lsp</span>)
    (<span class="org-keyword">require</span> '<span class="org-constant">lsp-haskell</span>)
    (lsp-deferred))
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((haskell-mode . start-lsp-haskell))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">:init</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(gsetq lsp-haskell-process-path-hie "hie-8.6.5")</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">You can set the lsp-haskell settings here</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(lsp-haskell-set-hlint-on)                    ;; default on</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(lsp-haskell-set-max-number-of-problems 100)  ;; default 100</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(lsp-haskell-set-liquid-on)                   ;; default off</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(lsp-haskell-set-completion-snippets-on)      ;; default on</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(gsetq lsp-haskell-process-path-hie "ghcide")</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(gsetq lsp-haskell-process-args-hie '())</span>
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c10b6e" class="outline-5">
<h5 id="org6c10b6e">intero</h5>
<div class="outline-text-5" id="text-org6c10b6e">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *intero*
  (straight-use-package 'intero)
  (use-package intero
    <span class="org-builtin">:hook</span> ((haskell-mode . intero-mode))
    <span class="org-builtin">:config</span>
    (define-key intero-mode-map (kbd <span class="org-string">"M-?"</span>) nil)
    (define-key intero-mode-map (kbd <span class="org-string">"C-c C-r"</span>) nil)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org04a5583" class="outline-5">
<h5 id="org04a5583">Structured Haskell Mode</h5>
<div class="outline-text-5" id="text-org04a5583">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">if</span> *struct-hs*
    (<span class="org-keyword">progn</span>
      (add-to-list 'load-path *struct-hs-path*)
      (<span class="org-keyword">require</span> '<span class="org-constant">shm</span>)
      (<span class="org-keyword">setq</span> shm-program-name *struct-hs*)
      (add-hook #'haskell-mode-hook #'structured-haskell-mode))
  (<span class="org-keyword">progn</span>
    (<span class="org-keyword">when</span> *struct-hs*
      (message (concat <span class="org-string">"*NOTE* about structured-haskell-mode:\n"</span>
                       <span class="org-string">"https://github.com/projectional-haskell/structured-haskell-mode\n"</span>
                       <span class="org-string">"No structured-haskell-mode elisp find.\n"</span>
                       <span class="org-string">"If you want to use it, \n"</span>
                       <span class="org-string">"please install it and config its variables *struct-hs-path* in user-config.el\n"</span>)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9883f00" class="outline-5">
<h5 id="org9883f00">haskell snippets</h5>
<div class="outline-text-5" id="text-org9883f00">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'haskell-snippets)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org625f8d9" class="outline-4">
<h4 id="org625f8d9">HTML</h4>
<div class="outline-text-4" id="text-org625f8d9">
<div class="org-src-container">
<pre class="src src-elisp">(use-package lsp-html
  <span class="org-builtin">:hook</span> ((html-mode . lsp-deferred)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge6005e1" class="outline-4">
<h4 id="orge6005e1">JavaScript &amp; TypeScript</h4>
<div class="outline-text-4" id="text-orge6005e1">
<div class="org-src-container">
<pre class="src src-elisp">(use-package lsp-mode
  <span class="org-builtin">:disabled</span> t
  <span class="org-builtin">:hook</span> ((javascript-mode . lsp-deferred)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org75e2d11" class="outline-4">
<h4 id="org75e2d11">Lisp</h4>
<div class="outline-text-4" id="text-org75e2d11">
</div>
<div id="outline-container-org704dc8f" class="outline-5">
<h5 id="org704dc8f">lisp-mode</h5>
<div class="outline-text-5" id="text-org704dc8f">
<div class="org-src-container">
<pre class="src src-elisp">(use-package lisp-mode
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">eval-last-sexp-or-region</span> (prefix)
    <span class="org-doc">"Eval region from BEG to END if active, otherwise the last sexp."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
    (<span class="org-keyword">if</span> (<span class="org-keyword">and</span> (mark) (use-region-p))
        (eval-region (min (point) (mark)) (max (point) (mark)))
      (pp-eval-last-sexp prefix)))
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> emacs-lisp-mode-map
         (<span class="org-string">"&lt;remap&gt; &lt;eval-expression&gt;"</span> . pp-eval-expression)
         (<span class="org-string">"C-x C-e"</span> . eval-last-sexp-or-region)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org34b7ae8" class="outline-5">
<h5 id="org34b7ae8">Highlight-quoted</h5>
<div class="outline-text-5" id="text-org34b7ae8">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'highlight-quoted)
(use-package highlight-quoted
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((emacs-lisp-mode . highlight-quoted-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdabd4b7" class="outline-5">
<h5 id="orgdabd4b7">elisp-def</h5>
<div class="outline-text-5" id="text-orgdabd4b7">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'elisp-def)
(use-package elisp-def
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> (((emacs-lisp-mode ielm-mode) . elisp-def-mode)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbff20b5" class="outline-4">
<h4 id="orgbff20b5">Markdown</h4>
<div class="outline-text-4" id="text-orgbff20b5">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'markdown-mode)
(use-package markdown-mode
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:mode</span> (<span class="org-string">"INSTALL\\'"</span>
         <span class="org-string">"CONTRIBUTORS\\'"</span>
         <span class="org-string">"LICENSE\\'"</span>
         <span class="org-string">"README\\'"</span>
         <span class="org-string">"\\.markdown\\'"</span>
         <span class="org-string">"\\.md\\'"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org559448c" class="outline-4">
<h4 id="org559448c">Pandoc</h4>
<div class="outline-text-4" id="text-org559448c">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'pandoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org17eaffa" class="outline-4">
<h4 id="org17eaffa">Python</h4>
<div class="outline-text-4" id="text-org17eaffa">
<p>
Include python-mode, black, py-isort, python-docstring and sphinx-doc.
</p>
</div>

<div id="outline-container-org0264fa8" class="outline-5">
<h5 id="org0264fa8">Python Mode</h5>
<div class="outline-text-5" id="text-org0264fa8">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'python-mode)
(use-package python-mode
  <span class="org-builtin">:commands</span> python-mode
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.py\\'"</span> . python-mode)
  <span class="org-builtin">:interpreter</span> ((<span class="org-string">"python"</span>  . python-mode)
                (<span class="org-string">"python3"</span> . python-mode))
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defcustom</span> <span class="org-variable-name">nasy*python-buffer</span> <span class="org-string">"vterm"</span>
    <span class="org-doc">"Nasy Python Buffer"</span>
    <span class="org-builtin">:group</span> 'python-mode
    <span class="org-builtin">:type</span> 'string)

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/python-send-buffer</span> ()
    <span class="org-doc">"Send current buffer to the running python process."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let</span> ((proc (get-buffer-process nasy*python-buffer)))
      (<span class="org-keyword">unless</span> proc
        (<span class="org-warning">error</span> <span class="org-string">"No process found"</span>))
      (save-buffer)
      (comint-simple-send proc
                          (concat <span class="org-string">"%run "</span> (format <span class="org-string">"%s"</span> (buffer-file-name))))
      (pop-to-buffer nasy*python-buffer)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/python-send-region</span> (begin end)
    <span class="org-doc">"Evaluate the code in region from BEGIN to END in the python repl.</span>
<span class="org-doc">if the region is unset, the current line will be used."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"r"</span>)
    (<span class="org-keyword">unless</span> (use-region-p)
      (<span class="org-keyword">setq</span> begin (line-beginning-position)
            end (line-end-position)))
    (<span class="org-keyword">let*</span> ((text (buffer-substring-no-properties begin end))
           (proc (get-buffer-process nasy*python-buffer)))
      (<span class="org-keyword">unless</span> proc
        (<span class="org-warning">error</span> <span class="org-string">"No process found"</span>))
      (comint-simple-send proc text)
      (display-buffer nasy*python-buffer)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/python-send-defun</span> (<span class="org-type">&amp;optional</span> arg)
    <span class="org-doc">"Send the current defun to inferior Python process.</span>
<span class="org-doc">When ARG is non-nil do not include decorators."</span>
    (<span class="org-keyword">interactive</span> (list current-prefix-arg t))
    (nasy:python-send-region
     (<span class="org-keyword">progn</span>
       (end-of-line 1)
       (<span class="org-keyword">while</span> (<span class="org-keyword">and</span> (<span class="org-keyword">or</span> (python-nav-beginning-of-defun)
                    (beginning-of-line 1))
                 (&gt; (current-indentation) 0)))
       (<span class="org-keyword">when</span> (not arg)
         (<span class="org-keyword">while</span> (<span class="org-keyword">and</span> (forward-line -1)
                   (looking-at (python-rx decorator))))
         (forward-line 1))
       (point-marker)
       (<span class="org-keyword">progn</span>
         (<span class="org-keyword">or</span> (python-nav-end-of-defun)
            (end-of-line 1))
         (point-marker)))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/python-switch-to-shell</span> ()
    <span class="org-doc">"Switch to inferior Python process buffer."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"p"</span>)
    (<span class="org-keyword">let</span> ((proc (get-buffer-process nasy:python-buffer)))
      (<span class="org-keyword">unless</span> proc
        (<span class="org-warning">error</span> <span class="org-string">"No process found"</span>))
      (pop-to-buffer nasy*python-buffer)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">python-flycheck-setup</span> ()
    <span class="org-doc">"Add python checker for lsp-ui."</span>
    (after! lsp-ui
      (flycheck-add-next-checker 'lsp-ui             'python-pytype)
      (flycheck-add-next-checker 'python-pytype      'python-flake8)))


  (<span class="org-keyword">defun</span> <span class="org-function-name">start-lsp-pyls</span> ()
    <span class="org-doc">"Start lsp-python-ms."</span>
    (<span class="org-keyword">require</span> '<span class="org-constant">lsp-pyls</span>)
    (lsp-deferred))
  <span class="org-builtin">:init</span>
  (general-define-key
   <span class="org-builtin">:prefix</span> <span class="org-string">"C-c"</span>
   <span class="org-builtin">:keymaps</span> 'python-mode-map
   <span class="org-string">"C-b"</span> 'nasy/python-send-buffer
   <span class="org-string">"C-r"</span> 'nasy/python-send-region
   <span class="org-string">"C-c"</span> 'nasy/python-send-defun
   <span class="org-string">"C-z"</span> 'nasy/python-switch-to-shell)
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'python-mode-map
   <span class="org-string">"&lt;S-return&gt;"</span> 'nasy/python-send-region)
  (gsetq python-indent-offset                  4
         indent-tabs-mode                      nil
         python-indent-guess-indent-offset     nil
         python-shell-completion-native-enable nil
         py-set-fill-column-p                  t
         py-shell-name                         nasy*python-buffer)

  (nasy/add-company-backend 'python-mode '(company-lsp company-files <span class="org-builtin">:with</span> company-tabnine company-yasnippet))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">A list here https://github.com/palantir/python-language-server/blob/develop/vscode-client/package.json#L23-L230</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">I prefer pydocstyle and black, so disabled yapf, though, pydocstyle still cannot be abled.</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">pip install black pyls-black -U</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">The default line-length is 88 when using black, you can add a file named "pyproject.yaml" that contains</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">[tool.black]</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">line-length = 79</span>
  (after! lsp-pyls
    (gsetq lsp-pyls-configuration-sources                          [<span class="org-string">"pydocstyle"</span> <span class="org-string">"pycodestyle"</span> <span class="org-string">"pyflakes"</span> <span class="org-string">"flake8"</span>]
           lsp-pyls-plugins-pydocstyle-enabled                     t
           lsp-pyls-plugins-yapf-enabled                           nil
           lsp-pyls-plugins-jedi-definition-follow-imports         t
           lsp-pyls-plugins-jedi-definition-follow-builtin-imports t
           lsp-pyls-plugins-jedi-signature-help-enabled            t
           lsp-pyls-plugins-jedi-symbols-enabled                   t
           lsp-pyls-plugins-flake8-enabled                         t
           lsp-pyls-plugins-pyls_mypy-live-mode                    nil))
  <span class="org-builtin">:hook</span> ((after-init  . python-flycheck-setup)
         (python-mode . start-lsp-pyls))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">unless</span> *blacken*
    (add-hook #'python-mode-hook
              #'(lambda () (add-hook #'before-save-hook #'lsp-format-buffer nil t)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org18f7b05" class="outline-5">
<h5 id="org18f7b05">lsp-python-ms</h5>
<div class="outline-text-5" id="text-org18f7b05">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(straight-use-package 'lsp-python-ms)</span>
(use-package lsp-python-ms
  <span class="org-builtin">:disabled</span> t
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">start-lsp-ms</span> ()
   <span class="org-doc">"Start lsp-python-ms."</span>
   (<span class="org-keyword">require</span> '<span class="org-constant">lsp-python-ms</span>)
   (lsp-deferred))
  <span class="org-builtin">:init</span> (gsetq lsp-python-ms-nupkg-channel <span class="org-string">"daily"</span>
               lsp-python-ms-executable    <span class="org-string">"~/.local/bin/Microsoft.Python.LanguageServer"</span>
               lsp-python-ms-errors        [<span class="org-string">"inherit-non-class"</span>
                                            <span class="org-string">"too-many-function-arguments"</span>
                                            <span class="org-string">"too-many-positional-arguments-before-star"</span>
                                            <span class="org-string">"no-method-argument"</span>
                                            <span class="org-string">"parameter-already-specified"</span>
                                            <span class="org-string">"parameter-missing"</span>
                                            <span class="org-string">"positional-argument-after-keyword"</span>
                                            <span class="org-string">"positional-only-named"</span>
                                            <span class="org-string">"return-in-init"</span>
                                            <span class="org-string">"typing-generic-arguments"</span>
                                            <span class="org-string">"typing-newtype-arguments"</span>
                                            <span class="org-string">"typing-typevar-arguments"</span>
                                            <span class="org-string">"unknown-parameter-name"</span>
                                            <span class="org-string">"undefined-variable"</span>
                                            <span class="org-string">"unresolved-import"</span>]
               lsp-python-ms-warnings      [<span class="org-string">"no-cls-argument"</span>
                                            <span class="org-string">"no-self-argument"</span>
                                            <span class="org-string">"variable-not-defined-globally"</span>
                                            <span class="org-string">"variable-not-defined-nonlocal"</span>])
  <span class="org-builtin">:hook</span> ((python-mode . start-lsp-ms)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8a9dd3d" class="outline-5">
<h5 id="org8a9dd3d">Flycheck Mypy</h5>
<div class="outline-text-5" id="text-org8a9dd3d">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(straight-use-package 'flycheck-mypy)</span>
(gsetq flycheck-python-mypy-ini <span class="org-string">"~/config/mypy/config"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga839f59" class="outline-5">
<h5 id="orga839f59">PyType</h5>
<div class="outline-text-5" id="text-orga839f59">
<div class="org-src-container">
<pre class="src src-elisp">(after! flycheck
  (flycheck-def-args-var flycheck-python-pytype-args python-pytype)

  (flycheck-define-checker python-pytype
    <span class="org-string">"Pytype syntax checker.</span>

<span class="org-string">    See url `https://github.com/google/pytype`."</span>
    <span class="org-builtin">:command</span> (<span class="org-string">"pytype"</span>
              (eval flycheck-python-pytype-args)
              source-original)
    <span class="org-builtin">:error-patterns</span>
    ((warning line-start <span class="org-string">"File \""</span> (file-name) <span class="org-string">"\", line "</span> line <span class="org-string">", "</span> (message (one-or-more (not (any <span class="org-string">"["</span>)))) <span class="org-string">"["</span> (id (one-or-more not-newline)) <span class="org-string">"]"</span>))
    <span class="org-builtin">:modes</span> python-mode
    <span class="org-builtin">:predicate</span> flycheck-buffer-saved-p
    <span class="org-builtin">:next-checkers</span> (python-flake8))

  (add-to-list 'flycheck-checkers 'python-pytype t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1f72f61" class="outline-5">
<h5 id="org1f72f61">black</h5>
<div class="outline-text-5" id="text-org1f72f61">
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Now you can use it in lsp.</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">NOTICE you have to config black though pyproject.toml.</span>
(<span class="org-keyword">when</span> *blacken*
  (straight-use-package 'blacken)
  (use-package blacken
    <span class="org-builtin">:hook</span> ((python-mode . blacken-mode))
    <span class="org-builtin">:init</span> (gsetq blacken-allow-py36  t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb13dc6f" class="outline-5">
<h5 id="orgb13dc6f">py-isort</h5>
<div class="outline-text-5" id="text-orgb13dc6f">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'py-isort)
(use-package py-isort
  <span class="org-builtin">:hook</span> ((before-save . py-isort-before-save)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org983b633" class="outline-5">
<h5 id="org983b633">Python Docstring</h5>
<div class="outline-text-5" id="text-org983b633">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'python-docstring)
(use-package python-docstring
  <span class="org-builtin">:hook</span> ((python-mode . python-docstring-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c30297" class="outline-5">
<h5 id="org8c30297">Sphinx Doc</h5>
<div class="outline-text-5" id="text-org8c30297">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'sphinx-doc)
(use-package sphinx-doc
  <span class="org-builtin">:hook</span> ((python-mode . sphinx-doc-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org860bab0" class="outline-5">
<h5 id="org860bab0">pyimport</h5>
<div class="outline-text-5" id="text-org860bab0">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'pyimport)
(use-package pyimport
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> python-mode-map
              (<span class="org-string">"C-c C-i"</span> . pyimport-insert-missing)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org17fd8e4" class="outline-4">
<h4 id="org17fd8e4">Rust</h4>
<div class="outline-text-4" id="text-org17fd8e4">
<p>
Include rust-mode, rls and Cargo.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> *rust*
  (straight-use-package 'rust-mode)
  (straight-use-package 'cargo)
  (use-package rust-mode
    <span class="org-builtin">:defer</span> t
    <span class="org-builtin">:hook</span> ((rust-mode . (<span class="org-keyword">lambda</span> () (<span class="org-keyword">setq-local</span> tab-width 4)))
           (rust-mode . lsp-deferred))
    <span class="org-builtin">:config</span>
    (<span class="org-keyword">when</span> *rls*
      (add-hook #'rust-mode-hook #'(lambda () (add-to-list 'flycheck-disabled-checkers 'rust-cargo)))))

  (use-package cargo
    <span class="org-builtin">:after</span> rust-mode
    <span class="org-builtin">:hook</span> ((toml-mode . cargo-minor-mode)
           (rust-mode . cargo-minor-mode))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org334b1e5" class="outline-4">
<h4 id="org334b1e5">Yaml</h4>
<div class="outline-text-4" id="text-org334b1e5">
<div class="org-src-container">
<pre class="src src-elisp">(use-package lsp-yaml
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:hook</span> ((yaml-mode . lsp-deferred)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge9737a6" class="outline-3">
<h3 id="orge9737a6">Org Mode</h3>
<div class="outline-text-3" id="text-orge9737a6">
</div>
<div id="outline-container-org9640a42" class="outline-4">
<h4 id="org9640a42">Load</h4>
<div class="outline-text-4" id="text-org9640a42">
<p>
I use <code>org</code> with <code>org-plus-contrib</code>
</p>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'org-plus-contrib)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9c53194" class="outline-4">
<h4 id="org9c53194">Basic Configs</h4>
<div class="outline-text-4" id="text-org9c53194">
<div class="org-src-container">
<pre class="src src-elisp">(use-package org
  <span class="org-builtin">:preface</span>
  (advice-add 'org-refile <span class="org-builtin">:after</span> (<span class="org-keyword">lambda</span> (<span class="org-type">&amp;rest</span> _) (org-save-all-org-buffers)))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Exclude DONE state tasks from refile targets</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">verify-refile-target</span> ()
    <span class="org-doc">"Exclude todo keywords with a done state from refile targets."</span>
    (not (member (nth 2 (org-heading-components)) org-done-keywords)))
  (<span class="org-keyword">setq</span> org-refile-target-verify-function 'verify-refile-target)

  (<span class="org-keyword">defun</span> <span class="org-function-name">org-refile-anywhere</span> (<span class="org-type">&amp;optional</span> goto default-buffer rfloc msg)
    <span class="org-doc">"A version of `</span><span class="org-doc"><span class="org-constant">org-refile</span></span><span class="org-doc">' which allows refiling to any subtree."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
    (<span class="org-keyword">let</span> ((org-refile-target-verify-function))
      (org-refile goto default-buffer rfloc msg)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">org-agenda-refile-anywhere</span> (<span class="org-type">&amp;optional</span> goto rfloc no-update)
    <span class="org-doc">"A version of `</span><span class="org-doc"><span class="org-constant">org-agenda-refile</span></span><span class="org-doc">' which allows refiling to any subtree."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
    (<span class="org-keyword">let</span> ((org-refile-target-verify-function))
      (org-agenda-refile goto rfloc no-update)))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">The original from spacemacs chinese layer shows as follow.</span>
  <span class="org-comment-delimiter">;;   </span><span class="org-comment">(defadvice org-html-paragraph (before org-html-paragraph-advice</span>
  <span class="org-comment-delimiter">;;                                         </span><span class="org-comment">(paragraph contents info) activate)</span>
  <span class="org-comment-delimiter">;;     </span><span class="org-comment">"Join consecutive Chinese lines into a single long line without</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">unwanted space when exporting org-mode to html."</span>
  <span class="org-comment-delimiter">;;     </span><span class="org-comment">(let* ((origin-contents (ad-get-arg 1))</span>
  <span class="org-comment-delimiter">;;            </span><span class="org-comment">(fix-regexp "[[:multibyte:]]")</span>
  <span class="org-comment-delimiter">;;            </span><span class="org-comment">(fixed-contents</span>
  <span class="org-comment-delimiter">;;             </span><span class="org-comment">(replace-regexp-in-string</span>
  <span class="org-comment-delimiter">;;              </span><span class="org-comment">(concat</span>
  <span class="org-comment-delimiter">;;               </span><span class="org-comment">"\\(" fix-regexp "\\) *\n *\\(" fix-regexp "\\)") "\\1\\2" origin-contents)))</span>
  <span class="org-comment-delimiter">;;       </span><span class="org-comment">(ad-set-arg 1 fixed-contents)))</span>

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/org-html-paragraph-advice</span> (orig paragraph contents <span class="org-type">&amp;rest</span> args)
    <span class="org-doc">"Join consecutive Chinese lines into a single long line without</span>
<span class="org-doc">unwanted space when exporting org-mode to html."</span>
    (<span class="org-keyword">let*</span> ((fix-regexp <span class="org-string">"[[:multibyte:]]"</span>)
           (fixed-contents
            (replace-regexp-in-string
             (concat
              <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">"</span> fix-regexp <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string"> *\n *</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">"</span> fix-regexp <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>) <span class="org-string">"\\1\\2"</span> contents)))
      (apply orig paragraph fixed-contents args)))
  (advice-add #'org-html-paragraph <span class="org-builtin">:around</span> #'nasy/org-html-paragraph-advice)

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/org-fix-saveplace</span> ()
    <span class="org-doc">"Fix a problem with saveplace.el putting you back in a folded position"</span>
    (<span class="org-keyword">when</span> (outline-invisible-p)
      (<span class="org-keyword">save-excursion</span>
        (outline-previous-visible-heading 1)
        (org-show-subtree))))

  (<span class="org-keyword">defvar-local</span> <span class="org-variable-name">nasy/org-at-src-begin</span> -1
    <span class="org-doc">"Variable that holds whether last position was a "</span>)

  (<span class="org-keyword">defvar</span> <span class="org-variable-name">nasy/ob-header-symbol</span> ?&#9776;
    <span class="org-doc">"Symbol used for babel headers"</span>)

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/org-prettify-src--update</span> ()
    (<span class="org-keyword">let</span> ((case-fold-search t)
          (re <span class="org-string">"^[ \t]*#\\+begin_src[ \t]+[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string"> \f\t\n\r\v]+[ \t]*"</span>)
          found)
      (<span class="org-keyword">save-excursion</span>
        (goto-char (point-min))
        (<span class="org-keyword">while</span> (re-search-forward re nil t)
          (goto-char (match-end 0))
          (<span class="org-keyword">let</span> ((args (org-trim
                       (buffer-substring-no-properties (point)
                                                       (line-end-position)))))
            (<span class="org-keyword">when</span> (org-string-nw-p args)
              (<span class="org-keyword">let</span> ((new-cell (cons args nasy/ob-header-symbol)))
                (<span class="org-keyword">cl-pushnew</span> new-cell prettify-symbols-alist <span class="org-builtin">:test</span> #'equal)
                (<span class="org-keyword">cl-pushnew</span> new-cell found <span class="org-builtin">:test</span> #'equal)))))
        (<span class="org-keyword">setq</span> prettify-symbols-alist
              (cl-set-difference prettify-symbols-alist
                                 (cl-set-difference
                                  (cl-remove-if-not
                                   (<span class="org-keyword">lambda</span> (elm)
                                     (eq (cdr elm) nasy/ob-header-symbol))
                                   prettify-symbols-alist)
                                  found <span class="org-builtin">:test</span> #'equal)))
        <span class="org-comment-delimiter">;; </span><span class="org-comment">Clean up old font-lock-keywords.</span>
        (font-lock-remove-keywords nil prettify-symbols--keywords)
        (<span class="org-keyword">setq</span> prettify-symbols--keywords (prettify-symbols--make-keywords))
        (font-lock-add-keywords nil prettify-symbols--keywords)
        (<span class="org-keyword">while</span> (re-search-forward re nil t)
          (font-lock-flush (line-beginning-position) (line-end-position))))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/org-prettify-src</span> ()
    <span class="org-doc">"Hide src options via `</span><span class="org-doc"><span class="org-constant">prettify-symbols-mode</span></span><span class="org-doc">'.</span>

<span class="org-doc">  `</span><span class="org-doc"><span class="org-constant">prettify-symbols-mode</span></span><span class="org-doc">' is used because it has uncollpasing. It's</span>
<span class="org-doc">  may not be efficient."</span>
    (<span class="org-keyword">let*</span> ((case-fold-search t)
           (at-src-block (<span class="org-keyword">save-excursion</span>
                           (beginning-of-line)
                           (looking-at <span class="org-string">"^[ \t]*#\\+begin_src[ \t]+[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string"> \f\t\n\r\v]+[ \t]*"</span>))))
      <span class="org-comment-delimiter">;; </span><span class="org-comment">Test if we moved out of a block.</span>
      (<span class="org-keyword">when</span> (<span class="org-keyword">or</span> (<span class="org-keyword">and</span> nasy/org-at-src-begin
                     (not at-src-block))
                <span class="org-comment-delimiter">;; </span><span class="org-comment">File was just opened.</span>
                (eq nasy/org-at-src-begin -1))
        (nasy/org-prettify-src--update))
      <span class="org-comment-delimiter">;; </span><span class="org-comment">Remove composition if at line; doesn't work properly.</span>
      <span class="org-comment-delimiter">;; </span><span class="org-comment">(when at-src-block</span>
      <span class="org-comment-delimiter">;;   </span><span class="org-comment">(with-silent-modifications</span>
      <span class="org-comment-delimiter">;;     </span><span class="org-comment">(remove-text-properties (match-end 0)</span>
      <span class="org-comment-delimiter">;;                             </span><span class="org-comment">(1+ (line-end-position))</span>
      <span class="org-comment-delimiter">;;                             </span><span class="org-comment">'(composition))))</span>
      (<span class="org-keyword">setq</span> nasy/org-at-src-begin at-src-block)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/org-prettify-symbols</span> ()
    (mapc (apply-partially 'add-to-list 'prettify-symbols-alist)
          (cl-reduce 'append
                     (mapcar (<span class="org-keyword">lambda</span> (x) (list x (cons (upcase (car x)) (cdr x))))
                             `((<span class="org-string">"#+begin_src"</span> . ?&#955;)
                               (<span class="org-string">"#+end_src"</span>   . ?&#8990;)
                               (<span class="org-string">"#+header:"</span> . ,nasy/ob-header-symbol)
                               (<span class="org-string">"#+begin_quote"</span> . ?&#9998;)
                               (<span class="org-string">"#+end_quote"</span> . ?&#8990;)))))
    (turn-on-prettify-symbols-mode)
    (add-hook 'post-command-hook 'nasy/org-prettify-src t t))

  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c l"</span> . org-store-link)
         (<span class="org-string">"C-c a"</span> . org-agenda)
         (<span class="org-string">"C-c c"</span> . org-capture)
         <span class="org-builtin">:map</span> org-mode-map
         (<span class="org-string">"C-M-&lt;up&gt;"</span> . org-up-element)
         (<span class="org-string">"M-h"</span>      . nil)
         (<span class="org-string">"C-c g"</span>    . org-mac-grab-link)
         (<span class="org-string">"C-c _"</span>    . org-edit-special)
         <span class="org-builtin">:map</span> org-src-mode-map
         (<span class="org-string">"C-c _"</span>    . org-edit-src-exit))
  <span class="org-builtin">:hook</span> ((org-mode . auto-fill-mode)
         (org-mode . nasy/org-fix-saveplace)
         (org-mode . nasy/org-prettify-symbols))
  <span class="org-builtin">:init</span>
  (gsetq
   org-archive-mark-done nil
   org-archive-location  <span class="org-string">"%s_archive::* Archive"</span>
   org-archive-mark-done nil

   org-catch-invisible-edits 'smart

   org-default-notes-file <span class="org-string">"~/notes/default.org"</span>

   org-edit-timestamp-down-means-later t

   org-ellipsis <span class="org-string">" &#65093;"</span>

   org-emphasis-regexp-components <span class="org-comment-delimiter">;; </span><span class="org-comment">markup chinesee without space</span>
      (list (concat <span class="org-string">" \t('\"{"</span>            <span class="org-string">"[:nonascii:]"</span>)
            (concat <span class="org-string">"- \t.,:!?;'\")}\\["</span>  <span class="org-string">"[:nonascii:]"</span>)
            <span class="org-string">" \t\r\n,\"'"</span>
            <span class="org-string">"."</span>
            1)

   org-export-backends                           '(ascii html latex md)
   org-export-coding-system                      'utf-8
   org-export-kill-product-buffer-when-displayed t
   org-export-with-broken-links                  'mark
   org-export-with-sub-superscripts              '{}
   org-use-sub-superscripts                      '{}

   org-fast-tag-selection-single-key 'expert

   org-highlight-latex-and-related: '(native latex script entities)

   org-hide-emphasis-markers t
   org-hide-leading-stars    nil

   org-html-checkbox-type       'uncode
   org-html-doctype             <span class="org-string">"html5"</span>
   org-html-html5-fancy         t
   org-html-htmlize-output-type 'inline-css
   org-html-klipsify-src        t
   org-html-mathjax-options     '((path          <span class="org-string">"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"</span>)
                                  (scale         <span class="org-string">"100"</span>)
                                  (align         <span class="org-string">"center"</span>)
                                  (font          <span class="org-string">"Neo-Euler"</span>)
                                  (linebreaks    <span class="org-string">"false"</span>)
                                  (autonumber    <span class="org-string">"AMS"</span>)
                                  (indent        <span class="org-string">"0em"</span>)
                                  (multlinewidth <span class="org-string">"85%"</span>)
                                  (tagindent     <span class="org-string">".8em"</span>)
                                  (tagside       <span class="org-string">"right"</span>))
   org-html-with-latex          'mathjax
   org-html-validation-link     nil

   org-indent-mode-turns-on-hiding-stars nil

   org-pretty-entities t

   <span class="org-comment-delimiter">;; </span><span class="org-comment">org time</span>
   <span class="org-comment-delimiter">;; </span><span class="org-comment">org-display-custom-times         t  ;; should setq-default</span>
   org-time-stamp-custom-formats    '(<span class="org-string">"&lt;%a %b %d, %Y&gt;"</span> . <span class="org-string">"&lt;%a %b %d %H:%M:%S %Y&gt;"</span>)
   org-export-date-timestamp-format <span class="org-string">"%b %d, %Y"</span>

   <span class="org-comment-delimiter">;; </span><span class="org-comment">org latex</span>
   org-latex-compiler <span class="org-string">"lualatex"</span>
   org-latex-default-packages-alist
   (<span class="org-keyword">quote</span>
    ((<span class="org-string">"AUTO"</span> <span class="org-string">"inputenc"</span>  t   (<span class="org-string">"pdflatex"</span>))
     (<span class="org-string">"T1"</span>   <span class="org-string">"fontenc"</span>   t   (<span class="org-string">"pdflatex"</span>))
     (<span class="org-string">""</span>     <span class="org-string">"graphicx"</span>  t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"grffile"</span>   t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"longtable"</span> t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"booktabs"</span>  t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"wrapfig"</span>   nil nil)
     (<span class="org-string">""</span>     <span class="org-string">"rotating"</span>  nil nil)
     (<span class="org-string">"normalem"</span> <span class="org-string">"ulem"</span>  t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"amsmath"</span>   t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"textcomp"</span>  t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"amssymb"</span>   t   nil)
     (<span class="org-string">""</span>     <span class="org-string">"capt-of"</span>   nil nil)
     (<span class="org-string">"colorlinks,unicode,linkcolor=blue,anchorcolor=blue,citecolor=green,filecolor=black,urlcolor=blue"</span>
      <span class="org-string">"hyperref"</span> t nil)
     (<span class="org-string">""</span>            <span class="org-string">"luatexja-fontspec"</span> t nil)
     (<span class="org-string">""</span>            <span class="org-string">"listings"</span>          t nil)
     (<span class="org-string">""</span>            <span class="org-string">"algpseudocode"</span> t nil)
     (<span class="org-string">"cache=false"</span> <span class="org-string">"minted"</span>            t nil)))
   org-latex-default-table-environment <span class="org-string">"longtable"</span>
   org-latex-listings 'minted
   org-latex-listings-langs
   (<span class="org-keyword">quote</span>
    ((emacs-lisp   <span class="org-string">"Lisp"</span>)
     (lisp         <span class="org-string">"Lisp"</span>)
     (clojure      <span class="org-string">"Lisp"</span>)
     (c            <span class="org-string">"C"</span>)
     (C            <span class="org-string">"C"</span>)
     (cc           <span class="org-string">"C++"</span>)
     (fortran      <span class="org-string">"fortran"</span>)
     (perl         <span class="org-string">"Perl"</span>)
     (cperl        <span class="org-string">"Perl"</span>)
     (Python       <span class="org-string">"Python"</span>)
     (python       <span class="org-string">"Python"</span>)
     (ruby         <span class="org-string">"Ruby"</span>)
     (html         <span class="org-string">"HTML"</span>)
     (xml          <span class="org-string">"XML"</span>)
     (tex          <span class="org-string">"TeX"</span>)
     (latex        <span class="org-string">"[LaTeX]TeX"</span>)
     (sh           <span class="org-string">"bash"</span>)
     (shell-script <span class="org-string">"bash"</span>)
     (gnuplot      <span class="org-string">"Gnuplot"</span>)
     (ocaml        <span class="org-string">"Caml"</span>)
     (caml         <span class="org-string">"Caml"</span>)
     (sql          <span class="org-string">"SQL"</span>)
     (sqlite       <span class="org-string">"sql"</span>)
     (makefile     <span class="org-string">"make"</span>)
     (make         <span class="org-string">"make"</span>)
     (R            <span class="org-string">"r"</span>)))
   org-latex-pdf-process
   (<span class="org-keyword">quote</span>
    (<span class="org-string">"lualatex -shell-escape -interaction nonstopmode %f"</span>
     <span class="org-string">"lualatex -shell-escape -interaction nonstopmode %f"</span>))
   org-latex-tables-booktabs t

   org-level-color-stars-only nil
   org-list-indent-offset 2
   org-log-done t

   org-outline-path-complete-in-steps nil

   org-refile-allow-creating-parent-nodes 'confirm
   org-refile-targets                     '((nil <span class="org-builtin">:maxlevel</span> . 5) (org-agenda-files <span class="org-builtin">:maxlevel</span> . 5))
   org-refile-use-cache                   nil
   org-refile-use-outline-path            t

   org-startup-indented  t
   org-startup-folded    'content
   org-startup-truncated nil

   org-src-lang-modes '((<span class="org-string">"C"</span>         . c)
                        (<span class="org-string">"C++"</span>       . c++)
                        (<span class="org-string">"asymptote"</span> . asy)
                        (<span class="org-string">"bash"</span>      . sh)
                        (<span class="org-string">"beamer"</span>    . latex)
                        (<span class="org-string">"calc"</span>      . fundamental)
                        (<span class="org-string">"makefile"</span>  . fundamental)
                        (<span class="org-string">"make"</span>      . fundamental)
                        (<span class="org-string">"cpp"</span>       . c++)
                        (<span class="org-string">"ditaa"</span>     . artist)
                        (<span class="org-string">"dot"</span>       . fundamental)
                        (<span class="org-string">"elisp"</span>     . emacs-lisp)
                        (<span class="org-string">"ocaml"</span>     . tuareg)
                        (<span class="org-string">"screen"</span>    . shell-script)
                        (<span class="org-string">"shell"</span>     . sh)
                        (<span class="org-string">"sqlite"</span>    . sql))

   org-support-shift-select t

   org-tags-column 80

   <span class="org-comment-delimiter">;; </span><span class="org-comment">to-do settings</span>
   org-todo-keywords        (<span class="org-keyword">quote</span> ((sequence <span class="org-string">"TODO(t)"</span> <span class="org-string">"NEXT(n)"</span> <span class="org-string">"|"</span> <span class="org-string">"DONE(d!/!)"</span>)
                                    (sequence <span class="org-string">"PROJECT(p)"</span> <span class="org-string">"|"</span> <span class="org-string">"DONE(d!/!)"</span> <span class="org-string">"CANCELLED(c@/!)"</span>)
                                    (sequence <span class="org-string">"WAITING(w@/!)"</span> <span class="org-string">"DELEGATED(e!)"</span> <span class="org-string">"HOLD(h)"</span> <span class="org-string">"|"</span> <span class="org-string">"CANCELLED(c@/!)"</span>)))
   org-todo-repeat-to-state <span class="org-string">"NEXT"</span>
   org-todo-keyword-faces   (<span class="org-keyword">quote</span> ((<span class="org-string">"NEXT"</span> <span class="org-builtin">:inherit</span> warning)
                                    (<span class="org-string">"PROJECT"</span> <span class="org-builtin">:inherit</span> font-lock-string-face))))
  (gsetq org-display-custom-times t)
  (nasy/add-company-backend 'org-mode 'company-tabnine)
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">--------</span>
  (org-babel-do-load-languages
   'org-babel-load-languages
   `((ditaa      . t)
     (dot        . t)
     (elvish     . t)
     (emacs-lisp . t)
     (gnuplot    . t)
     (haskell    . nil)
     (latex      . t)
     (ledger     . t)
     (ocaml      . nil)
     (octave     . t)
     (plantuml   . t)
     (python     . t)
     (R          . t)
     (ruby       . t)
     (screen     . nil)
     (,(<span class="org-keyword">if</span> (locate-library <span class="org-string">"ob-sh"</span>) 'sh 'shell) . t)
     (sql . nil)
     (sqlite . t)))

  (gsetq org-babel-python-command <span class="org-string">"python3"</span>)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">--------</span>
  (gsetq luamagick
         '(luamagick
           <span class="org-builtin">:programs</span> (<span class="org-string">"lualatex"</span> <span class="org-string">"convert"</span>)
           <span class="org-builtin">:description</span> <span class="org-string">"pdf &gt; png"</span>
           <span class="org-builtin">:message</span> <span class="org-string">"you need to install lualatex and imagemagick."</span>
           <span class="org-builtin">:use-xcolor</span> t
           <span class="org-builtin">:image-input-type</span> <span class="org-string">"pdf"</span>
           <span class="org-builtin">:image-output-type</span> <span class="org-string">"png"</span>
           <span class="org-builtin">:image-size-adjust</span> (1.0 . 1.0)
           <span class="org-builtin">:latex-compiler</span> (<span class="org-string">"lualatex -interaction nonstopmode -output-directory %o %f"</span>)
           <span class="org-builtin">:image-converter</span> (<span class="org-string">"convert -density %D -trim -antialias %f -quality 100 %O"</span>)))
  (add-to-list 'org-preview-latex-process-alist luamagick)

  (gsetq luasvg
         '(luasvg
           <span class="org-builtin">:programs</span> (<span class="org-string">"lualatex"</span> <span class="org-string">"dvisvgm"</span>)
           <span class="org-builtin">:description</span> <span class="org-string">"dvi &gt; svg"</span>
           <span class="org-builtin">:message</span> <span class="org-string">"you need to install lualatex and dvisvgm."</span>
           <span class="org-builtin">:use-xcolor</span> t
           <span class="org-builtin">:image-input-type</span> <span class="org-string">"dvi"</span>
           <span class="org-builtin">:image-output-type</span> <span class="org-string">"svg"</span>
           <span class="org-builtin">:image-size-adjust</span> (1.7 . 1.5)
           <span class="org-builtin">:latex-compiler</span> (<span class="org-string">"lualatex -interaction nonstopmode -output-format dvi -output-directory %o %f"</span>)
           <span class="org-builtin">:image-converter</span> (<span class="org-string">"dvisvgm %f -n -b min -c %S -o %O"</span>)))
  (add-to-list 'org-preview-latex-process-alist luasvg)
  (gsetq org-preview-latex-default-process 'luasvg)

  (<span class="org-keyword">require</span> '<span class="org-constant">org-tempo</span> nil t)
  (after! ox
    (<span class="org-keyword">let</span> ((oxs '(ox-rst
                 ox-pandoc)))
      (<span class="org-keyword">dolist</span> (language oxs)
        (straight-use-package language)
        (<span class="org-keyword">require</span> <span class="org-constant">language</span> nil t)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3224b36" class="outline-4">
<h4 id="org3224b36">Org Agenda</h4>
<div class="outline-text-4" id="text-org3224b36">
<div class="org-src-container">
<pre class="src src-elisp">(use-package org-agenda
  <span class="org-builtin">:init</span> (gsetq-default org-agenda-clockreport-parameter-plist '(<span class="org-builtin">:link</span> t <span class="org-builtin">:maxlevel</span> 3))
  <span class="org-builtin">:hook</span> ((org-agenda-mode . (<span class="org-keyword">lambda</span> () (add-hook 'window-configuration-change-hook 'org-agenda-align-tags nil t)))
         (org-agenda-mode . hl-line-mode))
  <span class="org-builtin">:config</span> (add-to-list 'org-agenda-after-show-hook 'org-show-entry)
  (<span class="org-keyword">let</span> ((active-project-match <span class="org-string">"-INBOX/PROJECT"</span>))

    (gsetq org-stuck-projects
           `(,active-project-match (<span class="org-string">"NEXT"</span>)))

    (gsetq
     org-agenda-compact-blocks t
     org-agenda-sticky t
     org-agenda-start-on-weekday nil
     org-agenda-span 'day
     org-agenda-include-diary nil
     org-agenda-sorting-strategy
     '((agenda habit-down time-up user-defined-up effort-up category-keep)
       (todo category-up effort-up)
       (tags category-up effort-up)
       (search category-up))
     org-agenda-window-setup 'current-window
     org-agenda-custom-commands
     `((<span class="org-string">"N"</span> <span class="org-string">"Notes"</span> tags <span class="org-string">"NOTE"</span>
        ((org-agenda-overriding-header <span class="org-string">"Notes"</span>)
         (org-tags-match-list-sublevels t)))
       (<span class="org-string">"g"</span> <span class="org-string">"GTD"</span>
        ((agenda <span class="org-string">""</span> nil)
         (tags <span class="org-string">"INBOX"</span>
               ((org-agenda-overriding-header <span class="org-string">"Inbox"</span>)
                (org-tags-match-list-sublevels nil)))
         (stuck <span class="org-string">""</span>
                ((org-agenda-overriding-header <span class="org-string">"Stuck Projects"</span>)
                 (org-agenda-tags-todo-honor-ignore-options t)
                 (org-tags-match-list-sublevels t)
                 (org-agenda-todo-ignore-scheduled 'future)))
         (tags-todo <span class="org-string">"-INBOX"</span>
                    ((org-agenda-overriding-header <span class="org-string">"Next Actions"</span>)
                     (org-agenda-tags-todo-honor-ignore-options t)
                     (org-agenda-todo-ignore-scheduled 'future)
                     (org-agenda-skip-function
                      '(lambda ()
                         (<span class="org-keyword">or</span> (org-agenda-skip-subtree-if 'todo '(<span class="org-string">"HOLD"</span> <span class="org-string">"WAITING"</span>))
                             (org-agenda-skip-entry-if 'nottodo '(<span class="org-string">"NEXT"</span>)))))
                     (org-tags-match-list-sublevels t)
                     (org-agenda-sorting-strategy
                      '(todo-state-down effort-up category-keep))))
         (tags-todo ,active-project-match
                    ((org-agenda-overriding-header <span class="org-string">"Projects"</span>)
                     (org-tags-match-list-sublevels t)
                     (org-agenda-sorting-strategy
                      '(category-keep))))
         (tags-todo <span class="org-string">"-INBOX/-NEXT"</span>
                    ((org-agenda-overriding-header <span class="org-string">"Orphaned Tasks"</span>)
                     (org-agenda-tags-todo-honor-ignore-options t)
                     (org-agenda-todo-ignore-scheduled 'future)
                     (org-agenda-skip-function
                      '(lambda ()
                         (<span class="org-keyword">or</span> (org-agenda-skip-subtree-if 'todo '(<span class="org-string">"PROJECT"</span> <span class="org-string">"HOLD"</span> <span class="org-string">"WAITING"</span> <span class="org-string">"DELEGATED"</span>))
                             (org-agenda-skip-subtree-if 'nottododo '(<span class="org-string">"TODO"</span>)))))
                     (org-tags-match-list-sublevels t)
                     (org-agenda-sorting-strategy
                      '(category-keep))))
         (tags-todo <span class="org-string">"/WAITING"</span>
                    ((org-agenda-overriding-header <span class="org-string">"Waiting"</span>)
                     (org-agenda-tags-todo-honor-ignore-options t)
                     (org-agenda-todo-ignore-scheduled 'future)
                     (org-agenda-sorting-strategy
                      '(category-keep))))
         (tags-todo <span class="org-string">"/DELEGATED"</span>
                    ((org-agenda-overriding-header <span class="org-string">"Delegated"</span>)
                     (org-agenda-tags-todo-honor-ignore-options t)
                     (org-agenda-todo-ignore-scheduled 'future)
                     (org-agenda-sorting-strategy
                      '(category-keep))))
         (tags-todo <span class="org-string">"-INBOX"</span>
                    ((org-agenda-overriding-header <span class="org-string">"On Hold"</span>)
                     (org-agenda-skip-function
                      '(lambda ()
                         (<span class="org-keyword">or</span> (org-agenda-skip-subtree-if 'todo '(<span class="org-string">"WAITING"</span>))
                             (org-agenda-skip-entry-if 'nottodo '(<span class="org-string">"HOLD"</span>)))))
                     (org-tags-match-list-sublevels nil)
                     (org-agenda-sorting-strategy
                      '(category-keep))))))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge3e0e81" class="outline-4">
<h4 id="orge3e0e81">Org Bullets</h4>
<div class="outline-text-4" id="text-orge3e0e81">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'org-bullets)
(use-package org-bullets
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/org-bullets-mode</span> ()
    (org-bullets-mode 1))
  <span class="org-builtin">:hook</span> ((org-mode . nasy/org-bullets-mode))
  <span class="org-builtin">:init</span> (gsetq org-bullets-bullet-list
               '(<span class="org-comment-delimiter">;;; </span><span class="org-comment">Large</span>
                 <span class="org-string">"&#9829;"</span>
                 <span class="org-string">"&#10047;"</span>
                 <span class="org-string">"&#10048;"</span>
                 <span class="org-string">"&#9673;"</span>
                 <span class="org-string">"&#10040;"</span>
                 <span class="org-string">"&#8226;"</span>)))
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">&#9829; &#9679; &#9675; &#9671; &#10010; &#10012; &#9775; &#9670; &#9824; &#9827; &#9830; &#9762; &#10048; &#9670; &#9686; &#9654;</span>
                 <span class="org-comment-delimiter">;;; </span><span class="org-comment">Small</span>
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">&#9658; &#8226; &#9733; &#9656;</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-orgffacd7b" class="outline-4">
<h4 id="orgffacd7b">Org Capture</h4>
<div class="outline-text-4" id="text-orgffacd7b">
<div class="org-src-container">
<pre class="src src-elisp">(use-package org-capture
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">unless</span> (boundp 'org-capture-templates)
    (<span class="org-keyword">defvar</span> <span class="org-variable-name">org-capture-templates</span> nil))

  (add-to-list 'org-capture-templates '(<span class="org-string">"t"</span> <span class="org-string">"Tasks"</span>))

  (add-to-list 'org-capture-templates
               '(<span class="org-string">"tr"</span> <span class="org-string">"Book Reading Task"</span> entry
                 (file+olp <span class="org-string">"~/notes/task.org"</span> <span class="org-string">"Reading"</span> <span class="org-string">"Book"</span>)
                 <span class="org-string">"* TODO %^{book name}\n%u\n%a\n"</span> <span class="org-builtin">:clock-in</span> t <span class="org-builtin">:clock-resume</span> t))

  (add-to-list 'org-capture-templates
               '(<span class="org-string">"tw"</span> <span class="org-string">"Work Task"</span> entry
                 (file+headline <span class="org-string">"~/notes/task.org"</span> <span class="org-string">"Work"</span>)
                 <span class="org-string">"* TODO %^{task name}\n%u\n%a\n"</span> <span class="org-builtin">:clock-in</span> t <span class="org-builtin">:clock-resume</span> t))

  (add-to-list 'org-capture-templates
               '(<span class="org-string">"T"</span> <span class="org-string">"Thoughts"</span> entry
                 (file <span class="org-string">"~/notes/thoughts.org"</span>)
                 <span class="org-string">"* %t - %^{heading}\n\n%?"</span>))

  (add-to-list 'org-capture-templates
               '(<span class="org-string">"j"</span> <span class="org-string">"Journal"</span> entry
                 (file <span class="org-string">"~/notes/journal.org"</span>)
                 <span class="org-string">"* %U - %^{heading}\n  %?"</span>))

  (add-to-list 'org-capture-templates
               '(<span class="org-string">"i"</span> <span class="org-string">"Inbox"</span> entry
                 (file <span class="org-string">"~/notes/inbox.org"</span>)
                 <span class="org-string">"* %U - %^{heading} %^g\n %?\n"</span>))

  (add-to-list 'org-capture-templates
               '(<span class="org-string">"n"</span> <span class="org-string">"Notes"</span> entry
                 (file <span class="org-string">"~/notes/notes.org"</span>)
                 <span class="org-string">"* %^{heading} %t %^g\n  %?\n"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org74db878" class="outline-4">
<h4 id="org74db878">Org Cliplink</h4>
<div class="outline-text-4" id="text-org74db878">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'org-cliplink)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde09143" class="outline-4">
<h4 id="orgde09143">Org clock</h4>
<div class="outline-text-4" id="text-orgde09143">
<div class="org-src-container">
<pre class="src src-elisp">(use-package org-clock
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">show-org-clock-in-header-line</span> ()
    <span class="org-doc">"Show the clocked-in task in header line"</span>
    (<span class="org-keyword">setq-default</span> header-line-format '((<span class="org-string">" "</span> org-mode-line-string <span class="org-string">""</span>))))

  (<span class="org-keyword">defun</span> <span class="org-function-name">hide-org-clock-from-header-line</span> ()
    <span class="org-doc">"Hide the clocked-in task from header line"</span>
    (<span class="org-keyword">setq-default</span> header-line-format nil))
  <span class="org-builtin">:init</span>
  (gsetq org-clock-persist t
         org-clock-in-resume t
         <span class="org-comment-delimiter">;; </span><span class="org-comment">Save clock data and notes in the LOGBOOK drawer</span>
         org-clock-into-drawer t
         <span class="org-comment-delimiter">;; </span><span class="org-comment">Save state changes in the LOGBOOK drawer</span>
         org-log-into-drawer t
         <span class="org-comment-delimiter">;; </span><span class="org-comment">Removes clocked tasks with 0:00 duration</span>
         org-clock-out-remove-zero-time-clocks t
         <span class="org-comment-delimiter">;; </span><span class="org-comment">Show clock sums as hours and minutes, not "n days" etc.</span>
         org-time-clocksum-format
         '(<span class="org-builtin">:hours</span> <span class="org-string">"%d"</span> <span class="org-builtin">:require-hours</span> t <span class="org-builtin">:minutes</span> <span class="org-string">":%02d"</span> <span class="org-builtin">:require-minutes</span> t))
  <span class="org-builtin">:hook</span> ((org-clock-in . show-org-clock-in-header-line)
         ((org-clock-out . org-clock-cancel) . hide-org-clock-from-header))
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> org-clock-mode-line-map
             ([header-line mouse-2] . org-clock-goto)
             ([header-line mouse-1] . org-clock-menu))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> *is-a-mac* (file-directory-p <span class="org-string">"/Applications/org-clock-statusbar.app"</span>))
    (add-hook 'org-clock-in-hook
              (<span class="org-keyword">lambda</span> () (call-process <span class="org-string">"/usr/bin/osascript"</span> nil 0 nil <span class="org-string">"-e"</span>
                                  (concat <span class="org-string">"tell application \"org-clock-statusbar\" to clock in \""</span>
                                          org-clock-current-task <span class="org-string">"\""</span>))))
    (add-hook 'org-clock-out-hook
              (<span class="org-keyword">lambda</span> () (call-process <span class="org-string">"/usr/bin/osascript"</span> nil 0 nil <span class="org-string">"-e"</span>
                                  <span class="org-string">"tell application \"org-clock-statusbar\" to clock out"</span>)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org75ee06d" class="outline-4">
<h4 id="org75ee06d">Org Extra Jar &#x2013; ob-ditaa &amp; ob-plantuml</h4>
<div class="outline-text-4" id="text-org75ee06d">
<p>
Include ob-ditaa and ob-plantuml
</p>

<div class="org-src-container">
<pre class="src src-elisp">(use-package org
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">grab-ditaa</span> (url jar-name)
    <span class="org-doc">"Download URL and extract JAR-NAME as `</span><span class="org-doc"><span class="org-constant">org-ditaa-jar-path</span></span><span class="org-doc">'."</span>
    (message <span class="org-string">"Grabbing "</span> jar-name <span class="org-string">" for org."</span>)
    (<span class="org-keyword">let</span> ((zip-temp (make-temp-name (no-littering-expand-var-file-name <span class="org-string">"emacs-ditaa"</span>))))
      (<span class="org-keyword">unwind-protect</span>
          (<span class="org-keyword">progn</span>
            (<span class="org-keyword">when</span> (executable-find <span class="org-string">"unzip"</span>)
              (url-copy-file url zip-temp)
              (shell-command (concat <span class="org-string">"unzip -p "</span> (shell-quote-argument zip-temp)
                                     <span class="org-string">" "</span> (shell-quote-argument jar-name) <span class="org-string">" &gt; "</span>
                                     (shell-quote-argument org-ditaa-jar-path)))))
        (<span class="org-keyword">when</span> (file-exists-p zip-temp)
          (delete-file zip-temp)))))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">unless</span> (<span class="org-keyword">and</span> (boundp 'org-ditaa-jar-path)
               (file-exists-p org-ditaa-jar-path))
    (<span class="org-keyword">let</span> ((jar-name <span class="org-string">"ditaa0_9.jar"</span>)
          (url <span class="org-string">"http://jaist.dl.sourceforge.net/project/ditaa/ditaa/0.9/ditaa0_9.zip"</span>))
      (<span class="org-keyword">setq</span> org-ditaa-jar-path (no-littering-expand-var-file-name jar-name))
      (<span class="org-keyword">unless</span> (file-exists-p org-ditaa-jar-path)
        (grab-ditaa url jar-name))))

  (<span class="org-keyword">let</span> ((jar-name <span class="org-string">"plantuml.jar"</span>)
        (url <span class="org-string">"http://jaist.dl.sourceforge.net/project/plantuml/plantuml.jar"</span>))
    (<span class="org-keyword">setq</span> org-plantuml-jar-path (no-littering-expand-var-file-name jar-name))
    (<span class="org-keyword">unless</span> (file-exists-p org-plantuml-jar-path)
      (url-copy-file url org-plantuml-jar-path))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0c229a" class="outline-4">
<h4 id="orgc0c229a">Org PDF view</h4>
<div class="outline-text-4" id="text-orgc0c229a">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'org-pdfview)
</pre>
</div>
</div>
</div>

<div id="outline-container-org31a8c06" class="outline-4">
<h4 id="org31a8c06">Org Pomodoro</h4>
<div class="outline-text-4" id="text-org31a8c06">
<div class="org-src-container">
<pre class="src src-elisp">(use-package org-pomodoro
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span> (gsetq org-pomodoro-keep-killed-pomodoro-time t)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> org-agenda-mode-map
              (<span class="org-string">"P"</span> . org-pomodoro)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9fed3aa" class="outline-4">
<h4 id="org9fed3aa">Org Toc</h4>
<div class="outline-text-4" id="text-org9fed3aa">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'toc-org)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f5ff15" class="outline-4">
<h4 id="org7f5ff15">Org Wc</h4>
<div class="outline-text-4" id="text-org7f5ff15">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'org-wc)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org49c94ad" class="outline-3">
<h3 id="org49c94ad">UI</h3>
<div class="outline-text-3" id="text-org49c94ad">
</div>
<div id="outline-container-org5892a57" class="outline-4">
<h4 id="org5892a57">Font</h4>
<div class="outline-text-4" id="text-org5892a57">
</div>
<div id="outline-container-org948dc22" class="outline-5">
<h5 id="org948dc22">Emojify and all-the-icons</h5>
<div class="outline-text-5" id="text-org948dc22">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'emojify)
(use-package emojify
  <span class="org-builtin">:commands</span> emojify-mode
  <span class="org-builtin">:hook</span> ((after-init . global-emojify-mode))
  <span class="org-builtin">:init</span> (gsetq emojify-emoji-styles '(unicode github)
               emojify-display-style 'unicode))

(straight-use-package 'all-the-icons)
(use-package all-the-icons
  <span class="org-builtin">:init</span> (gsetq inhibit-compacting-font-caches t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca1717e" class="outline-5">
<h5 id="orgca1717e">cn-fonts</h5>
<div class="outline-text-5" id="text-orgca1717e">
<p>
<a href="https://github.com/tumashu/cnfonts">https://github.com/tumashu/cnfonts</a>
</p>

<p>
I use cn-fonts, you can see my example cnfonts profile <a href="https://github.com/nasyxx/emacs.d/tree/master/literate-config/themes/cnfonts.org">here</a>
</p>

<p>
This example profile will automatically generate to
<code>etc/cnfonts/nasy-profile.el</code>.
</p>

<p>
But disabled for it's tooo slow.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package cnfonts</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:disabled t</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:straight t</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:init</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(gsetq cnfonts-directory (no-littering-expand-etc-file-name "cnfonts"))</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook ((after-init . cnfonts-enable))</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:config</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(defun nasy/set-symbol-fonts (fontsize-list)</span>
<span class="org-comment-delimiter">;;     </span><span class="org-comment">"Set symbol fonts with FONTSIZE-LIST."</span>
<span class="org-comment-delimiter">;;     </span><span class="org-comment">(let* ((fontname "Fira Code Symbol")</span>
<span class="org-comment-delimiter">;;            </span><span class="org-comment">(fontsize (nth 0 fontsize-list))</span>
<span class="org-comment-delimiter">;;            </span><span class="org-comment">(fontspec (font-spec :name fontname</span>
<span class="org-comment-delimiter">;;                                 </span><span class="org-comment">:size fontsize</span>
<span class="org-comment-delimiter">;;                                 </span><span class="org-comment">:weight 'normal</span>
<span class="org-comment-delimiter">;;                                 </span><span class="org-comment">:slant 'normal)))</span>
<span class="org-comment-delimiter">;;       </span><span class="org-comment">(if (cnfonts--fontspec-valid-p fontspec)</span>
<span class="org-comment-delimiter">;;           </span><span class="org-comment">(set-fontset-font t '(#Xe100 . #Xe16f) fontspec)</span>
<span class="org-comment-delimiter">;;         </span><span class="org-comment">(message "Font %S not exists&#65281;" fontname))))</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(defun nasy/set-symbol-extra-fonts (fontsize-list)</span>
<span class="org-comment-delimiter">;;     </span><span class="org-comment">"Set extra symbol fonts with FONTSIZE-LIST."</span>
<span class="org-comment-delimiter">;;     </span><span class="org-comment">(let* ((fontname "Arial")</span>
<span class="org-comment-delimiter">;;            </span><span class="org-comment">(fontsize (nth 0 fontsize-list))</span>
<span class="org-comment-delimiter">;;            </span><span class="org-comment">(fontspec (font-spec :name fontname</span>
<span class="org-comment-delimiter">;;                                 </span><span class="org-comment">:size fontsize</span>
<span class="org-comment-delimiter">;;                                 </span><span class="org-comment">:weight 'normal</span>
<span class="org-comment-delimiter">;;                                 </span><span class="org-comment">:slant 'normal)))</span>
<span class="org-comment-delimiter">;;       </span><span class="org-comment">(if (cnfonts--fontspec-valid-p fontspec)</span>
<span class="org-comment-delimiter">;;           </span><span class="org-comment">(set-fontset-font t '(#X1d400 . #X1d744) fontspec)</span>
<span class="org-comment-delimiter">;;         </span><span class="org-comment">(message "Font %S not exists&#65281;" fontname))))</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(add-hook #'cnfonts-set-font-finish-hook #'nasy/set-symbol-fonts)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(add-hook #'cnfonts-set-font-finish-hook #'nasy/set-symbol-extra-fonts))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org962f956" class="outline-5">
<h5 id="org962f956">set fonts</h5>
<div class="outline-text-5" id="text-org962f956">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">nasy/set-font</span> ()
  <span class="org-doc">"Nasy set font"</span>
  (<span class="org-keyword">interactive</span>)
  (set-face-attribute
   'default nil
   <span class="org-builtin">:font</span> (font-spec <span class="org-builtin">:name</span>   *font*
                    <span class="org-builtin">:weight</span> *font-weight*
                    <span class="org-builtin">:size</span>   *font-size*))

  (<span class="org-keyword">when</span> (display-graphic-p)
    (<span class="org-keyword">dolist</span> (charset '(kana han symbol cjk-misc bopomofo))
      (set-fontset-font
       (frame-parameter nil 'font)
       charset
       (font-spec <span class="org-builtin">:name</span>   *font-cjk*
                  <span class="org-builtin">:weight</span> *font-weight-cjk*
                  <span class="org-builtin">:size</span>   *font-size-cjk*)))))

(nasy/set-font)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgef7c16e" class="outline-4">
<h4 id="orgef7c16e">Main Theme</h4>
<div class="outline-text-4" id="text-orgef7c16e">
<p>
I use doom-themes.
</p>
</div>

<div id="outline-container-orgf52b57f" class="outline-5">
<h5 id="orgf52b57f">Doom-themes</h5>
<div class="outline-text-5" id="text-orgf52b57f">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'doom-themes)
(use-package doom-themes
  <span class="org-builtin">:init</span> (gsetq doom-dracula-brighter-comments t
               doom-dracula-colorful-headers  t
               doom-dracula-comment-bg        t)
  <span class="org-builtin">:config</span>
  (after! treemacs
    (doom-themes-treemacs-config))
  (doom-themes-visual-bell-config)
  (after! org
    (doom-themes-org-config)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf62b921" class="outline-5">
<h5 id="orgf62b921">Darktooth-theme</h5>
<div class="outline-text-5" id="text-orgf62b921">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> (eq *theme* 'darktooth-theme)
  (straight-use-package 'darktooth-theme)
  (use-package darktooth-theme
    <span class="org-builtin">:config</span>
    (darktooth-modeline)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0c32165" class="outline-5">
<h5 id="org0c32165">Soothe-theme</h5>
<div class="outline-text-5" id="text-org0c32165">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">when</span> (eq *theme* 'soothe-theme)
  (straight-use-package 'soothe-theme))
</pre>
</div>
</div>
</div>

<div id="outline-container-org80a8824" class="outline-5">
<h5 id="org80a8824">Load Theme</h5>
<div class="outline-text-5" id="text-org80a8824">
<div class="org-src-container">
<pre class="src src-elisp">(load-theme *theme* t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgba80cd8" class="outline-4">
<h4 id="orgba80cd8">Mode Line</h4>
<div class="outline-text-4" id="text-orgba80cd8">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'nyan-mode)
(use-package nyan-mode
  <span class="org-builtin">:init</span> (gsetq nyan-animate-nyancat t
               nyan-bar-length 16
               nyan-wavy-trail t)
  <span class="org-builtin">:hook</span> ((after-init . nyan-mode)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'minions)
(use-package minions
  <span class="org-builtin">:hook</span> ((after-init . minions-mode))
  <span class="org-builtin">:init</span> (gsetq minions-mode-line-lighter <span class="org-string">"&#10028;"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'doom-modeline)
(use-package doom-modeline
  <span class="org-builtin">:hook</span> ((after-init . doom-modeline-mode))
  <span class="org-builtin">:init</span> (gsetq
         doom-modeline-height                      25
         doom-modeline-bar-width                   3
         doom-modeline-project-detection           'project  <span class="org-comment-delimiter">;; </span><span class="org-comment">changed</span>
         doom-modeline-buffer-file-name-style      'relative-to-project  <span class="org-comment-delimiter">;; </span><span class="org-comment">changed</span>
         doom-modeline-icon                        t  <span class="org-comment-delimiter">;; </span><span class="org-comment">changed</span>
         doom-modeline-major-mode-icon             t
         doom-modeline-major-mode-color-icon       t
         doom-modeline-buffer-state-icon           t
         doom-modeline-buffer-modification-icon    t
         doom-modeline-unicode-fallback            t  <span class="org-comment-delimiter">;; </span><span class="org-comment">changed</span>
         doom-modeline-minor-modes                 t
         doom-modeline-enable-word-count           t
         doom-modeline-continuous-word-count-modes '(markdown-mode gfm-mode org-mode text-mode)
         doom-modeline-buffer-encoding             nil
         doom-modeline-indent-info                 nil
         doom-modeline-checker-simple-format       nil
         doom-modeline-number-limit                99
         doom-modeline-vcs-max-length              12
         doom-modeline-persp-name                  t
         doom-modeline-display-default-persp-name  t
         doom-modeline-lsp                         t
         doom-modeline-github                      t
         doom-modeline-github-interval             (* 30 60)
         doom-modeline-modal-icon                  nil

         doom-modeline-env-version       t
         doom-modeline-env-enable-python t
         doom-modeline-env-enable-ruby   t
         doom-modeline-env-enable-perl   t
         doom-modeline-env-enable-go     t
         doom-modeline-env-enable-elixir t
         doom-modeline-env-enable-rust   t

         doom-modeline-env-python-executable <span class="org-string">"python"</span>
         doom-modeline-env-ruby-executable   <span class="org-string">"ruby"</span>
         doom-modeline-env-perl-executable   <span class="org-string">"perl"</span>
         doom-modeline-env-go-executable     <span class="org-string">"go"</span>
         doom-modeline-env-elixir-executable <span class="org-string">"iex"</span>
         doom-modeline-env-rust-executable   <span class="org-string">"rustc"</span>

         doom-modeline-env-load-string <span class="org-string">"..."</span>

         doom-modeline-mu4e        t
         doom-modeline-irc         t
         doom-modeline-irc-stylize 'identity)
  <span class="org-builtin">:config</span>
  (doom-modeline-def-segment nasy/time
    <span class="org-string">"Time"</span>
    (<span class="org-keyword">when</span> (doom-modeline--active)
      (propertize
       (format-time-string <span class="org-string">" %b %d, %Y - %H:%M "</span>)
       'face (<span class="org-keyword">when</span> (doom-modeline--active) `(<span class="org-builtin">:foreground</span> <span class="org-string">"#1b335f"</span> <span class="org-builtin">:background</span> <span class="org-string">"#c0ffc2"</span>)))))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Remove</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">modals (evil, god, ryo and xah-fly-keys, etc.), parrot</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">buffer-encoding</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Add</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">nasy/time</span>
  (doom-modeline-def-modeline 'main
    '(bar workspace-name matches buffer-info buffer-position word-count selection-info <span class="org-string">" "</span> misc-info process)
    '(grip github debug lsp minor-modes major-mode vcs checker nasy/time <span class="org-string">"        "</span>))

  (doom-modeline-def-modeline 'minimal
    '(bar matches buffer-info-simple)
    '(media-info major-mode nasy/time <span class="org-string">"        "</span>))

  (doom-modeline-def-modeline 'special
    '(bar window-number modals matches buffer-info buffer-position word-count parrot selection-info)
    '(misc-info battery irc-buffers debug minor-modes input-method indent-info buffer-encoding major-mode process nasy/time))

  (doom-modeline-def-modeline 'media
    '(bar window-number buffer-size buffer-info)
    '(misc-info media-info major-mode process vcs nasy/time))

  (doom-modeline-def-modeline 'pdf
    '(bar window-number buffer-size buffer-info pdf-pages)
    '(misc-info major-mode process vcs nasy/time))

  (doom-modeline-def-modeline 'project
    '(bar window-number buffer-default-directory)
    '(misc-info major-mode nasy/time <span class="org-string">"       "</span>))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Change behaviors</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">nasy/doom-modeline-update-buffer-file-name</span> (<span class="org-type">&amp;rest</span> _)
    <span class="org-doc">"Update buffer file name in mode-line."</span>
    (<span class="org-keyword">setq</span> doom-modeline--buffer-file-name
          (<span class="org-keyword">if</span> buffer-file-name
              (doom-modeline-buffer-file-name)
            (<span class="org-keyword">if</span> (string-prefix-p <span class="org-string">"*Org Src"</span> (format-mode-line <span class="org-string">"%b"</span>))
                <span class="org-string">""</span>
              (propertize <span class="org-string">"%b"</span>
                          'face (<span class="org-keyword">if</span> (doom-modeline--active)
                                    'doom-modeline-buffer-file
                                  'mode-line-inactive)
                          'help-echo <span class="org-string">"Buffer name</span>
<span class="org-string">    mouse-1: Previous buffer\nmouse-3: Next buffer"</span>
                          'local-map mode-line-buffer-identification-keymap)))))
  (advice-add #'doom-modeline-update-buffer-file-name <span class="org-builtin">:override</span> #'nasy/doom-modeline-update-buffer-file-name)

  (set-face-attribute 'mode-line nil <span class="org-builtin">:font</span> <span class="org-string">"OpenDyslexic"</span> <span class="org-builtin">:background</span> <span class="org-string">"#2d334a"</span>)
  (set-face-attribute 'mode-line-inactive nil <span class="org-builtin">:font</span> <span class="org-string">"OpenDyslexic"</span> ))


</pre>
</div>
</div>
</div>

<div id="outline-container-orgd512e46" class="outline-4">
<h4 id="orgd512e46">Dashboard</h4>
<div class="outline-text-4" id="text-orgd512e46">
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'dashboard)
(use-package dashboard
  <span class="org-builtin">:bind</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/rakanalh/emacs-dashboard/issues/45</span>
  <span class="org-builtin">:diminish</span> (dashboard-mode page-break-lines-mode)
  <span class="org-builtin">:hook</span> ((dashboard-mode . (<span class="org-keyword">lambda</span> () (gsetq-local tab-width 1))))
  <span class="org-builtin">:init</span>
  (general-define-key
   <span class="org-builtin">:keymaps</span> 'dashboard-mode-map
   <span class="org-string">"&lt;down-mouse-1&gt;"</span> nil
   <span class="org-string">"&lt;mouse-1&gt;"</span>      'widget-button-click
   <span class="org-string">"&lt;mouse-2&gt;"</span>      'widget-button-click
   <span class="org-string">"&lt;up&gt;"</span>           'dashboard-previous-line
   <span class="org-string">"&lt;down&gt;"</span>         'dashboard-next-line)
  (gsetq dashboard-startup-banner    (concat user-emacs-directory <span class="org-string">"ue.png"</span>)
         dashboard-center-content    t
         dashboard-show-shortcuts    t
         dashboard-set-heading-icons t
         dashboard-set-file-icons    t
         dashboard-set-init-info     t
         show-week-agenda-p          t
         dashboard-items '((recents   . 10)
                           (bookmarks . 5)
                           <span class="org-comment-delimiter">;;</span><span class="org-comment">(registers . 5 )</span>
                           <span class="org-comment-delimiter">;;</span><span class="org-comment">(agenda    . 5)</span>
                           (projects  . 5)))
  (dashboard-setup-startup-hook)
  <span class="org-builtin">:config</span>
  (straight-use-package 'noflet)
  (advice-add 'dashboard-next-line <span class="org-builtin">:after</span> #'(lambda (<span class="org-type">&amp;rest</span> r) (forward-char 2)))
  (advice-add 'widget-forward <span class="org-builtin">:after</span> #'(lambda (<span class="org-type">&amp;rest</span> r) (forward-char 2))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga00afa5" class="outline-3">
<h3 id="orga00afa5">Epilogue</h3>
<div class="outline-text-3" id="text-orga00afa5">
<div class="org-src-container">
<pre class="src src-elisp">(run-hooks 'nasy/config-before-hook)

(<span class="org-keyword">setq</span> custom-file (no-littering-expand-etc-file-name <span class="org-string">"custom.el"</span>))

(add-hook 'after-init-hook #'(lambda () (run-hooks 'nasy/config-after-hook)))

(<span class="org-keyword">when</span> (file-exists-p custom-file)
  (load custom-file))

(<span class="org-keyword">when</span> *server*
  (server-start))
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init.el ends here</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2efe4b3" class="outline-2">
<h2 id="org2efe4b3">Epilogue</h2>
<div class="outline-text-2" id="text-org2efe4b3">
<p>
Hope you enjoy it.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2019-04-19 Fri 00:00</p>
<p class="author">Author: Nasy</p>
<p class="date">Created: 2020-02-13 Thu 14:23</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
