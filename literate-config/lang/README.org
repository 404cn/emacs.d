#+begin_src elisp :exports none
  ;;----------------------------------------------------------------------------
  ;; Languages
  ;;----------------------------------------------------------------------------
#+end_src

* English

#+include: "english.org"

* Simple Supported Languages

#+begin_src elisp
  (let ((languages '(elvish-mode
                     fish-mode
                     toml-mode
                     yaml-mode))
        (extras    '(fish-completion
                     ob-elvish)))
    (dolist (language languages)
      (straight-use-package language)
      (require language nil t))
    (dolist (extra extras)
      (straight-use-package extra)
      (require extra nil t)))
#+end_src

* Language Server Protocol & Debug Adapter Protocol

#+include: "lsp-dap.org"

* C/C++/Object-C (Clangd or ccls)

#+include: "c.org"

* Haskell

#+include: "haskell.org"

* HTML

#+begin_src elisp
  (use-package lsp-html
    :straight lsp-mode
    :hook ((html-mode . lsp)))
#+end_src

* JavaScript & TypeScript

#+begin_src elisp
  (use-package lsp-mode
    :disabled t
    :straight t
    :hook ((javascript-mode . lsp)))
#+end_src

* Lisp

#+include: "lisp.org"

* Markdown

#+begin_src elisp
  (use-package markdown-mode
    :defer t
    :straight t
    :mode ("INSTALL\\'"
           "CONTRIBUTORS\\'"
           "LICENSE\\'"
           "README\\'"
           "\\.markdown\\'"
           "\\.md\\'"))
#+end_src

* Pandoc

#+begin_src elisp
  (use-package pandoc-mode
    :defer    t
    :straight t)
#+end_src

* Python

#+include: "python.org"

* Rust

Include rust-mode, rls and Cargo.

#+begin_src elisp
  (when *rust*
    (use-package rust-mode
      :defer t
      :straight t
      :hook ((rust-mode . (lambda () (setq-local tab-width 4)))
             (rust-mode . lsp))
      :config
      (when *rls*
        (add-hook #'rust-mode-hook #'lsp)
        (add-hook #'rust-mode-hook #'(lambda () (add-to-list 'flycheck-disabled-checkers 'rust-cargo))))))

  (use-package cargo
    :after rust-mode
    :straight t
    :hook ((toml-mode . cargo-minor-mode)
           (rust-mode . cargo-minor-mode)))
#+end_src
